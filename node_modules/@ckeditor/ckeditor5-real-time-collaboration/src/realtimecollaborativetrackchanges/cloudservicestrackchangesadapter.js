/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1b2e59=_0x4139;(function(_0x2b08cd,_0x4d641a){const _0x7c53d2=_0x4139,_0x3811bb=_0x2b08cd();while(!![]){try{const _0x1c3a4c=-parseInt(_0x7c53d2(0x1a6))/0x1*(parseInt(_0x7c53d2(0x1be))/0x2)+-parseInt(_0x7c53d2(0x1a2))/0x3*(parseInt(_0x7c53d2(0x1da))/0x4)+-parseInt(_0x7c53d2(0x1cd))/0x5+parseInt(_0x7c53d2(0x1d3))/0x6*(parseInt(_0x7c53d2(0x1cb))/0x7)+parseInt(_0x7c53d2(0x1c6))/0x8+-parseInt(_0x7c53d2(0x1d6))/0x9*(-parseInt(_0x7c53d2(0x1c8))/0xa)+-parseInt(_0x7c53d2(0x1c4))/0xb*(-parseInt(_0x7c53d2(0x1ae))/0xc);if(_0x1c3a4c===_0x4d641a)break;else _0x3811bb['push'](_0x3811bb['shift']());}catch(_0x5f3492){_0x3811bb['push'](_0x3811bb['shift']());}}}(_0x37c0,0x1a233));import{Plugin as _0x5b4723}from'ckeditor5/src/core.js';import{User as _0x454564,TrackChangesService as _0x242cb0}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';function _0x4139(_0x54b257,_0x52c979){const _0x37c030=_0x37c0();return _0x4139=function(_0x4139e5,_0x599e98){_0x4139e5=_0x4139e5-0x199;let _0x4771ee=_0x37c030[_0x4139e5];return _0x4771ee;},_0x4139(_0x54b257,_0x52c979);}import _0x13eb6c from'../realtimecollaborativeediting/websocketgateway.js';import _0x36ab96 from'../realtimecollaborativecomments/cloudservicescommentsadapter.js';function _0x37c0(){const _0x4c7e3d=['init','CloudServicesTrackChangesAdapter','update','plugins','config','24HdGgKQ','state','listenTo','data','connection','adapter','connected','_trackChangesService','off','connect','set','attributes','cloud-services-internal-error:\x20Request\x20timeout.','catch','open','find','4756VBRnfJ','pluginName','cloud-services-internal-error:\x20Not\x20connected.','delete','add','originalSuggestionId','1300739SshzwQ','get','1442800OuysHT','requires','60520dhTxqN','message','_waitForServiceReady','280AbIeFs','_bufferedRequests','814330vKIwnH','addUser','_fetchMissingUsersForThreads','values','addToReconnectionStack','_saved','16158jsCSqZ','suggestionUpdated','getSuggestion','18btFvAZ','isConnected','hasSuggestion','getUser','436IsNlEA','isOfficialPlugin','isPremiumPlugin','TrackChangesService','getMany','editor','collaboration.channelId','addSuggestionData','startsWith','size','1713mRqRuT','type','reconnect','then','86YGjvNj','from','TrackChangesEditing'];_0x37c0=function(){return _0x4c7e3d;};return _0x37c0();}import{Users as _0x351696}from'ckeditor5-collaboration/src/collaboration-core.js';class f extends _0x5b4723{static [_0x1b2e59(0x19b)]=/* #__PURE__ -- @preserve */
((()=>_0x242cb0)());[_0x1b2e59(0x1cc)];[_0x1b2e59(0x1b5)];static get[_0x1b2e59(0x1c7)](){const _0x291bb2=_0x1b2e59;return[_0x36ab96,_0x291bb2(0x1a8),_0x13eb6c];}static get[_0x1b2e59(0x1bf)](){const _0x2206a9=_0x1b2e59;return _0x2206a9(0x1aa);}static get[_0x1b2e59(0x199)](){return!0x0;}static get[_0x1b2e59(0x19a)](){return!0x0;}constructor(_0x1073ca){const _0x15aaef=_0x1b2e59;super(_0x1073ca);const _0x298e2c=this[_0x15aaef(0x19d)][_0x15aaef(0x1ad)][_0x15aaef(0x1c5)](_0x15aaef(0x19e));this[_0x15aaef(0x1cc)]=new Map(),this[_0x15aaef(0x1b5)]=new f[(_0x15aaef(0x19b))](_0x298e2c);}[_0x1b2e59(0x1a9)](){const _0x595742=_0x1b2e59,_0x33b2b4=this[_0x595742(0x19d)][_0x595742(0x1ac)][_0x595742(0x1c5)](_0x13eb6c),_0xa2e1cb=this[_0x595742(0x19d)][_0x595742(0x1ac)][_0x595742(0x1c5)](_0x595742(0x1a8));return _0xa2e1cb[_0x595742(0x1b3)]={'getSuggestion':async _0x2fb5e7=>{const _0x2f2c63=_0x595742;await this[_0x2f2c63(0x1ca)]();const _0x2d0599=await this[_0x2f2c63(0x1b5)][_0x2f2c63(0x1c5)](_0x2fb5e7)[_0x2f2c63(0x1bb)](R);return await this[_0x2f2c63(0x1cf)]([_0x2d0599]),_0x2d0599;},'addSuggestion':async({id:_0x541175,type:_0x280dc2,data:_0x2c10a6,originalSuggestionId:_0x3ec3a1,attributes:_0x1d8055})=>{const _0x4be534=_0x595742;await this[_0x4be534(0x1ca)]();const _0x3fb266={'id':_0x541175,'type':_0x280dc2,'data':_0x2c10a6,'originalSuggestionId':_0x3ec3a1,'attributes':_0x1d8055},_0x4c00a3=await this[_0x4be534(0x1b5)][_0x4be534(0x1c2)](_0x541175,_0x280dc2,_0x2c10a6,_0x3ec3a1,_0x1d8055)[_0x4be534(0x1bb)](_0x9ee5b0=>{if(st(_0x9ee5b0))return new Promise(_0x5a2f90=>{const _0x33b59d=_0x4139;this[_0x33b59d(0x1cc)][_0x33b59d(0x1b8)](_0x541175,{'resolve':_0x5a2f90,'suggestionData':_0x3fb266});});throw _0x9ee5b0;});return this[_0x4be534(0x1cc)][_0x4be534(0x1c1)](_0x541175),_0x4c00a3;},'updateSuggestion':async(_0x1fd18c,_0x587688)=>{const _0x797464=_0x595742;if(await this[_0x797464(0x1ca)](),_0x797464(0x1bc)!==_0x587688[_0x797464(0x1af)])return this[_0x797464(0x1b5)][_0x797464(0x1ab)](_0x1fd18c,_0x587688)[_0x797464(0x1bb)](R);}},this[_0x595742(0x1b0)](this[_0x595742(0x1b5)],_0x595742(0x1d4),(_0x36f0d6,_0x467675)=>{const _0x492aa3=_0x595742;_0xa2e1cb[_0x492aa3(0x1d8)](_0x467675['id'])&&(_0xa2e1cb[_0x492aa3(0x1d5)](_0x467675['id'])[_0x492aa3(0x1b9)]=_0x467675[_0x492aa3(0x1b9)]);}),this[_0x595742(0x1b5)][_0x595742(0x1b7)](_0x33b2b4[_0x595742(0x1b2)])[_0x595742(0x1a5)](_0xbfb2ad=>(_0x33b2b4[_0x595742(0x1d1)](this),this[_0x595742(0x1cf)](_0xbfb2ad)[_0x595742(0x1a5)](()=>{const _0x2e1fb0=_0x595742;for(const _0xbb9c3f of _0xbfb2ad){_0xa2e1cb[_0x2e1fb0(0x19f)](_0xbb9c3f)[_0x2e1fb0(0x1d2)]=!0x0;}})));}async[_0x1b2e59(0x1a4)](){const _0x528792=_0x1b2e59,_0x3aae7b=this[_0x528792(0x19d)][_0x528792(0x1ac)][_0x528792(0x1c5)](_0x528792(0x1a8)),{connection:_0x183df1}=this[_0x528792(0x19d)][_0x528792(0x1ac)][_0x528792(0x1c5)](_0x13eb6c),_0xd72286=await this[_0x528792(0x1b5)][_0x528792(0x1b7)](_0x183df1);await this[_0x528792(0x1cf)](_0xd72286);for(const {suggestionData:_0x46ffe7,resolve:_0x58d418}of this[_0x528792(0x1cc)][_0x528792(0x1d0)]()){let _0x950412=_0xd72286[_0x528792(0x1bd)](_0x3931c6=>_0x3931c6['id']===_0x46ffe7['id']);_0x950412||(_0x950412=await this[_0x528792(0x1b5)][_0x528792(0x1c2)](_0x46ffe7['id'],_0x46ffe7[_0x528792(0x1a3)],_0x46ffe7[_0x528792(0x1b1)],_0x46ffe7[_0x528792(0x1c3)])),_0x58d418(_0x950412);}for(const _0x3dd4f8 of _0xd72286)_0x3aae7b[_0x528792(0x1d8)](_0x3dd4f8['id'])||_0x3aae7b[_0x528792(0x19f)](_0x3dd4f8);}async[_0x1b2e59(0x1ca)](){const _0x3cc257=_0x1b2e59;this[_0x3cc257(0x1b5)][_0x3cc257(0x1d7)]||await new Promise(_0x611ea=>{const _0x288ba2=_0x3cc257;this[_0x288ba2(0x1b0)](this[_0x288ba2(0x1b5)],_0x288ba2(0x1b4),_0x4d429f=>{const _0x50c5e9=_0x288ba2;_0x4d429f[_0x50c5e9(0x1b6)](),_0x611ea();});});}async[_0x1b2e59(0x1cf)](_0x1935d1){const _0x3f0866=_0x1b2e59,_0x4d9360=this[_0x3f0866(0x19d)][_0x3f0866(0x1ac)][_0x3f0866(0x1c5)](_0x351696),{connection:_0xacb76e}=this[_0x3f0866(0x19d)][_0x3f0866(0x1ac)][_0x3f0866(0x1c5)](_0x13eb6c),_0x662651=new Set();for(const {authorId:_0x50b2b1}of _0x1935d1)_0x4d9360[_0x3f0866(0x1d9)](_0x50b2b1)||_0x662651[_0x3f0866(0x1c2)](_0x50b2b1);if(0x0===_0x662651[_0x3f0866(0x1a1)])return;const _0x574766=await _0x454564[_0x3f0866(0x19c)](_0xacb76e,Array[_0x3f0866(0x1a7)](_0x662651));for(const _0x31c185 of _0x574766)_0x4d9360[_0x3f0866(0x1d9)](_0x31c185['id'])||_0x4d9360[_0x3f0866(0x1ce)](_0x31c185);}}export default f;function R(_0x13c778){if(st(_0x13c778))return new Promise(()=>{});throw _0x13c778;}function st(_0x27ee7e){const _0x3fe83b=_0x1b2e59;return _0x27ee7e[_0x3fe83b(0x1c9)][_0x3fe83b(0x1a0)](_0x3fe83b(0x1c0))||_0x27ee7e[_0x3fe83b(0x1c9)][_0x3fe83b(0x1a0)](_0x3fe83b(0x1ba));}