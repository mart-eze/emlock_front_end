/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x4d80(_0x434220,_0x2b61aa){const _0x590838=_0x5908();return _0x4d80=function(_0x4d80fa,_0x529e23){_0x4d80fa=_0x4d80fa-0x14f;let _0x2dba2b=_0x590838[_0x4d80fa];return _0x2dba2b;},_0x4d80(_0x434220,_0x2b61aa);}const _0x1528ed=_0x4d80;(function(_0x56a8c7,_0x13d1ae){const _0x55bf27=_0x4d80,_0x2f7af2=_0x56a8c7();while(!![]){try{const _0x37da58=-parseInt(_0x55bf27(0x15e))/0x1*(-parseInt(_0x55bf27(0x150))/0x2)+parseInt(_0x55bf27(0x15f))/0x3*(parseInt(_0x55bf27(0x18c))/0x4)+-parseInt(_0x55bf27(0x17c))/0x5+-parseInt(_0x55bf27(0x167))/0x6+parseInt(_0x55bf27(0x174))/0x7*(-parseInt(_0x55bf27(0x173))/0x8)+parseInt(_0x55bf27(0x15a))/0x9+parseInt(_0x55bf27(0x16a))/0xa*(parseInt(_0x55bf27(0x160))/0xb);if(_0x37da58===_0x13d1ae)break;else _0x2f7af2['push'](_0x2f7af2['shift']());}catch(_0x3e2cc6){_0x2f7af2['push'](_0x2f7af2['shift']());}}}(_0x5908,0x86a21));import{ContextPlugin as _0x1b9fd5}from'ckeditor5/src/core.js';import{Collection as _0xbe4b3a,CKEditorError as _0x314f1b}from'ckeditor5/src/utils.js';import _0x3ecfa2 from'./websocketgateway.js';import{Users as _0x2907b0}from'ckeditor5-collaboration/src/collaboration-core.js';export default class i extends _0x1b9fd5{[_0x1528ed(0x153)];[_0x1528ed(0x16d)];[_0x1528ed(0x189)];[_0x1528ed(0x17f)];[_0x1528ed(0x175)];[_0x1528ed(0x16e)];static get[_0x1528ed(0x154)](){const _0x3c256a=_0x1528ed;return _0x3c256a(0x166);}static get[_0x1528ed(0x15c)](){return!0x0;}static get[_0x1528ed(0x157)](){return!0x0;}static get[_0x1528ed(0x177)](){return[_0x3ecfa2,_0x2907b0];}constructor(_0x2fc9c2){const _0x579109=_0x1528ed;super(_0x2fc9c2),this[_0x579109(0x153)]=new Map(),this[_0x579109(0x16d)]=new Map(),this[_0x579109(0x189)]=new _0xbe4b3a(),this[_0x579109(0x17f)]=new Map(),this[_0x579109(0x175)]=0x0,this[_0x579109(0x16e)]=this[_0x579109(0x188)][_0x579109(0x151)][_0x579109(0x182)](_0x2907b0);}[_0x1528ed(0x159)](){const _0x33cd89=_0x1528ed,_0x2e85c5=this[_0x33cd89(0x188)][_0x33cd89(0x151)][_0x33cd89(0x182)](_0x3ecfa2);this[_0x33cd89(0x181)](_0x2e85c5,_0x33cd89(0x170),(_0x419d75,_0x14d7f4,_0x5e4e48)=>{const _0x5e6fdc=_0x33cd89;if(_0x5e6fdc(0x165)!==_0x5e4e48)this[_0x5e6fdc(0x153)][_0x5e6fdc(0x158)](_0x4cc6eb=>_0x4cc6eb[_0x5e6fdc(0x185)]()),this[_0x5e6fdc(0x16d)][_0x5e6fdc(0x158)](_0x3c85ef=>_0x3c85ef[_0x5e6fdc(0x185)]()),this[_0x5e6fdc(0x189)][_0x5e6fdc(0x185)]();else{for(const [_0x492f01,_0x205fb0]of this[_0x5e6fdc(0x17f)])for(const _0x59b240 of _0x205fb0)this[_0x5e6fdc(0x187)](_0x492f01,_0x59b240);}}),this[_0x33cd89(0x155)](_0x2e85c5[_0x33cd89(0x178)]['me'],!0x0);}[_0x1528ed(0x186)](_0x4da037,_0x5c601a){const _0x29aa12=_0x1528ed;if(this[_0x29aa12(0x17f)][_0x29aa12(0x18a)](_0x4da037))throw new _0x314f1b(_0x29aa12(0x176),null,{'channelId':_0x4da037});this[_0x29aa12(0x17f)][_0x29aa12(0x16c)](_0x4da037,_0x5c601a),this[_0x29aa12(0x153)][_0x29aa12(0x16c)](_0x4da037,new _0xbe4b3a()),this[_0x29aa12(0x16d)][_0x29aa12(0x16c)](_0x4da037,new _0xbe4b3a()),this[_0x29aa12(0x181)](_0x5c601a,_0x29aa12(0x168),(_0x1efc7f,_0x2a1e42)=>this[_0x29aa12(0x187)](_0x4da037,_0x2a1e42)),this[_0x29aa12(0x181)](_0x5c601a,_0x29aa12(0x16b),(_0x15246a,_0x5e8bce)=>this[_0x29aa12(0x172)](_0x4da037,_0x5e8bce));for(const _0x1c0679 of _0x5c601a)this[_0x29aa12(0x187)](_0x4da037,_0x1c0679);}[_0x1528ed(0x171)](_0x5e5cc9){const _0x1f0df8=_0x1528ed;if(!this[_0x1f0df8(0x17f)][_0x1f0df8(0x18a)](_0x5e5cc9))throw new _0x314f1b(_0x1f0df8(0x169),null,{'channelId':_0x5e5cc9});const _0x3c70c5=this[_0x1f0df8(0x17f)][_0x1f0df8(0x182)](_0x5e5cc9);this[_0x1f0df8(0x18b)](_0x3c70c5);for(const _0x4fb7a0 of _0x3c70c5)_0x1f0df8(0x165)===this[_0x1f0df8(0x188)][_0x1f0df8(0x151)][_0x1f0df8(0x182)](_0x3ecfa2)[_0x1f0df8(0x184)]&&this[_0x1f0df8(0x172)](_0x5e5cc9,_0x4fb7a0);this[_0x1f0df8(0x17f)][_0x1f0df8(0x15b)](_0x5e5cc9),this[_0x1f0df8(0x153)][_0x1f0df8(0x15b)](_0x5e5cc9),this[_0x1f0df8(0x16d)][_0x1f0df8(0x15b)](_0x5e5cc9);}get[_0x1528ed(0x15d)](){const _0x2ec593=_0x1528ed;return this[_0x2ec593(0x188)][_0x2ec593(0x151)][_0x2ec593(0x182)](_0x3ecfa2)[_0x2ec593(0x178)][_0x2ec593(0x17a)];}[_0x1528ed(0x163)](_0x15a309){const _0x3ff1dd=_0x1528ed;for(const _0x23bd54 of this[_0x3ff1dd(0x153)][_0x3ff1dd(0x16f)]())for(const _0x21c638 of _0x23bd54)if(_0x21c638['id']===_0x15a309)return _0x21c638[_0x3ff1dd(0x17e)];}[_0x1528ed(0x14f)](_0x19cfc1,_0x34faeb){const _0x1963b=_0x1528ed,_0x4bb224=_0x34faeb?[this[_0x1963b(0x153)][_0x1963b(0x182)](_0x34faeb)]:this[_0x1963b(0x153)][_0x1963b(0x16f)](),_0x49b22b=new Set();for(const _0x47b9f2 of _0x4bb224)for(const _0xccc347 of _0x47b9f2)_0xccc347[_0x1963b(0x17e)]['id']===_0x19cfc1['id']&&_0x49b22b[_0x1963b(0x168)](_0xccc347['id']);return _0x49b22b;}[_0x1528ed(0x162)](_0x14ee49){const _0x3a50e2=_0x1528ed;for(const _0x5e72ac of this[_0x3a50e2(0x153)][_0x3a50e2(0x16f)]())for(const _0x3f978d of _0x5e72ac)if(_0x3f978d[_0x3a50e2(0x17e)]===_0x14ee49)return _0x3f978d[_0x3a50e2(0x152)];}[_0x1528ed(0x187)](_0x49a45c,_0x34e373){const _0x47d3f9=_0x1528ed;if(_0x47d3f9(0x165)!==this[_0x47d3f9(0x188)][_0x47d3f9(0x151)][_0x47d3f9(0x182)](_0x3ecfa2)[_0x47d3f9(0x184)])return;const _0x2c9142=_0x34e373[_0x47d3f9(0x17e)],_0x19d930=this[_0x47d3f9(0x16e)][_0x47d3f9(0x161)](_0x2c9142['id'])||this[_0x47d3f9(0x155)](_0x2c9142),_0x59eebf=Object[_0x47d3f9(0x17d)]({},_0x34e373,{'user':_0x19d930});this[_0x47d3f9(0x153)][_0x47d3f9(0x182)](_0x49a45c)[_0x47d3f9(0x168)](_0x59eebf);const _0x4c2ee0=this[_0x47d3f9(0x16d)][_0x47d3f9(0x182)](_0x49a45c);_0x4c2ee0[_0x47d3f9(0x18a)](_0x19d930['id'])||_0x4c2ee0[_0x47d3f9(0x168)](_0x19d930),this[_0x47d3f9(0x189)][_0x47d3f9(0x18a)](_0x19d930['id'])||this[_0x47d3f9(0x189)][_0x47d3f9(0x168)](_0x19d930,_0x19d930[_0x47d3f9(0x183)]?0x0:void 0x0),this[_0x47d3f9(0x164)](_0x47d3f9(0x18d)+_0x49a45c,{'channelId':_0x49a45c,'session':_0x59eebf});}[_0x1528ed(0x172)](_0x4bb2a7,_0x36d18c){const _0x52d198=_0x1528ed;if(_0x52d198(0x165)!==this[_0x52d198(0x188)][_0x52d198(0x151)][_0x52d198(0x182)](_0x3ecfa2)[_0x52d198(0x184)])return;const _0x2bb015=this[_0x52d198(0x16d)][_0x52d198(0x182)](_0x4bb2a7),_0x4eb38a=_0x36d18c[_0x52d198(0x17e)];_0x4eb38a['id']&&(this[_0x52d198(0x153)][_0x52d198(0x182)](_0x4bb2a7)[_0x52d198(0x16b)](_0x36d18c['id']),_0x2bb015[_0x52d198(0x18a)](_0x4eb38a['id'])&&!this[_0x52d198(0x14f)](_0x4eb38a,_0x4bb2a7)[_0x52d198(0x179)]&&_0x2bb015[_0x52d198(0x16b)](_0x4eb38a['id']),this[_0x52d198(0x189)][_0x52d198(0x182)](_0x4eb38a['id'])&&!this[_0x52d198(0x14f)](_0x4eb38a)[_0x52d198(0x179)]&&this[_0x52d198(0x189)][_0x52d198(0x16b)](_0x4eb38a['id']));}[_0x1528ed(0x155)](_0x19126d,_0x87af0){const _0x135f98=_0x1528ed,_0x4eee17=this[_0x135f98(0x16e)][_0x135f98(0x156)](_0x19126d);return _0x87af0&&this[_0x135f98(0x16e)][_0x135f98(0x180)](_0x19126d['id']),_0x4eee17[_0x135f98(0x17b)]=this[_0x135f98(0x175)]++,_0x4eee17;}}function _0x5908(){const _0x58ae83=['mySessionId','23daIvRN','69SmkpeE','11NESvSa','getUser','getUserRole','getUserBySessionId','fire','connected','Sessions','5204190kEpCsw','add','sessions-unregister-not-exist','4949630nZhThr','remove','set','channelConnectedUsers','_users','values','change:state','unregister','_handleSessionRemove','175192pFNSEy','84pmorRL','_uniqueUsersCount','sessions-register-already-registered','requires','connection','size','sessionId','orderNumber','942780fFyakq','assign','user','_registeredSessions','defineMe','listenTo','get','isMe','state','clear','register','_handleSessionAdd','context','allConnectedUsers','has','stopListening','85220LvLxaj','sessionAdd:','getUserSessions','8186bAkdbj','plugins','role','channelSessions','pluginName','_createUser','addUser','isPremiumPlugin','forEach','init','7119441KOPkJH','delete','isOfficialPlugin'];_0x5908=function(){return _0x58ae83;};return _0x5908();}