/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x45b121=_0x5ede;function _0x5ede(_0x14241f,_0x3d0a75){const _0x1f479c=_0x1f47();return _0x5ede=function(_0x5edea5,_0x324ba8){_0x5edea5=_0x5edea5-0x86;let _0x5c7365=_0x1f479c[_0x5edea5];return _0x5c7365;},_0x5ede(_0x14241f,_0x3d0a75);}function _0x1f47(){const _0x52b2e8=['isOfficialPlugin','createUIElement','$text','createUserMarkerOperations','createElement','userPositionMarker','set','orderNumber','⁠<span\x20class=\x22ck-user__marker-line\x22\x20contenteditable=\x22false\x22><span\x20class=\x22ck-user__marker-dot\x22></span></span>','marker','getAttribute','destroy','conversion','469lwfKIm','isCollapsed','mouseenter','Escape','isObject','ck-user__marker-tooltip','size','plugins','62196SnLvwk','parent','isSimilar','user:position','ck-user__marker\x20','getSelectionClass','removeMarker','init','tableCell','name','root','user:','classList','4DKTfLh','model','getPositions','delete','render','mouseleave','getRange','getUserBySessionId','view','ck-user__selection','nodeAfter','highest','newRange','split','addMarker','isLimit','user:range','schema','change','mySessionId','getMarkerClass','editing','markerNameToElements','user:range:','12eXuFec','start','stopListening','has','remove','requires','false','color','update:user:range','toDomElement','getCustomProperty','3CaozIH','UserMarkers','for','get','undo','pluginName','isPremiumPlugin','setAttribute','applyOperation','element','markerToHighlight','getFirstRange','20WGUlfE','createRange','markers','getContainedElement','getStart','hasDomSelection','batch','contenteditable','599827VYpDlJ','markerName','afterInit','rootName','clear','_createdBatches','3303655RnLbZS','5966685oHBYBA','change:range','enqueueChange','deletionPosition','reconvertMarker','getNearestSelectionRange','hasContent','outerHTML','updateMarker','span','_domEmitter','toRange','commands','listenTo','spellcheck','markerRange','2601800HlOogz','oldRange','document','8716912ghOFrv','addEventListener','add','markerToElement','selection','user:position:','removeClass','checkChild','isDocumentOperation','detach','editor','textContent','startsWith','fromRange','end','data-session-id','28118981RAzdXK','type','innerHTML','$graveyard','mapper','isInline','ck-user__marker_hovered','keydown','editingDowncast','setCustomProperty'];_0x1f47=function(){return _0x52b2e8;};return _0x1f47();}(function(_0x3ddf5d,_0x14c237){const _0x4a9de3=_0x5ede,_0x375e3b=_0x3ddf5d();while(!![]){try{const _0x4a1dd6=-parseInt(_0x4a9de3(0x100))/0x1+-parseInt(_0x4a9de3(0x8a))/0x2*(-parseInt(_0x4a9de3(0xec))/0x3)+parseInt(_0x4a9de3(0xc9))/0x4*(-parseInt(_0x4a9de3(0x106))/0x5)+-parseInt(_0x4a9de3(0xbc))/0x6*(-parseInt(_0x4a9de3(0xb4))/0x7)+-parseInt(_0x4a9de3(0x8d))/0x8+-parseInt(_0x4a9de3(0x107))/0x9*(parseInt(_0x4a9de3(0xf8))/0xa)+parseInt(_0x4a9de3(0x9d))/0xb*(parseInt(_0x4a9de3(0xe1))/0xc);if(_0x4a1dd6===_0x14c237)break;else _0x375e3b['push'](_0x375e3b['shift']());}catch(_0x39caed){_0x375e3b['push'](_0x375e3b['shift']());}}}(_0x1f47,0xd5c47));import{Plugin as _0x208845}from'ckeditor5/src/core.js';import{global as _0x543bd6,DomEmitterMixin as _0x279998}from'ckeditor5/src/utils.js';import _0x3e292b from'./sessions.js';import{LiveRange as _0x322e6d}from'ckeditor5/src/engine.js';import'../../theme/usermarkers.css';export default class q extends _0x208845{[_0x45b121(0x111)]=new(_0x279998())();static get[_0x45b121(0xe6)](){return[_0x3e292b];}static get[_0x45b121(0xf1)](){const _0x4e0814=_0x45b121;return _0x4e0814(0xed);}static get[_0x45b121(0xa7)](){return!0x0;}static get[_0x45b121(0xf2)](){return!0x0;}[_0x45b121(0xc3)](){const _0x37fc56=_0x45b121,_0x3f27f8=this[_0x37fc56(0x97)],_0x3a0fa4=_0x3f27f8[_0x37fc56(0xbb)][_0x37fc56(0xef)](_0x3e292b);_0x3f27f8[_0x37fc56(0xb3)][_0x37fc56(0xee)](_0x37fc56(0xa5))[_0x37fc56(0x90)]({'model':_0x37fc56(0xbf),'view':(_0x127571,{writer:_0x46699b})=>function(_0x1a8cca,_0x433c70,_0x453aa7,_0x44bae2){const _0x52649b=_0x37fc56,_0x13bdae=_0x1a8cca[_0x52649b(0x101)][_0x52649b(0xd6)](':')[0x2],_0x137769=_0x453aa7[_0x52649b(0xd0)](_0x13bdae);if(!_0x137769||_0x13bdae===_0x453aa7[_0x52649b(0xdc)])return;if(!_0x44bae2[_0x52649b(0xca)][_0x52649b(0xda)][_0x52649b(0x94)](_0x1a8cca[_0x52649b(0x89)][_0x52649b(0xe2)],_0x52649b(0xa9)))return;const _0x17b763={'class':_0x52649b(0xc0)+_0x137769[_0x52649b(0xe8)][_0x52649b(0xdd)](),'data-name':_0x137769[_0x52649b(0xc5)],'data-session-id':_0x13bdae},_0x861d65=_0x44bae2[_0x52649b(0xca)][_0x52649b(0xfa)][_0x52649b(0xef)](_0x1a8cca[_0x52649b(0x101)]),_0x385822=_0x861d65[_0x52649b(0xfc)](),_0x3a8cfe=_0x385822[_0x52649b(0xd3)],_0x3c1da9=_0x44bae2[_0x52649b(0xca)][_0x52649b(0xda)];if(_0x3a8cfe&&_0x3c1da9[_0x52649b(0xb8)](_0x3a8cfe)&&_0x3c1da9[_0x52649b(0xa2)](_0x3a8cfe)&&!_0x44bae2[_0x52649b(0xca)][_0x52649b(0xfa)][_0x52649b(0xef)](_0x52649b(0xe0)+_0x13bdae)[_0x52649b(0xcf)]()[_0x52649b(0xb5)])return;const _0x5078e2=_0x385822[_0x52649b(0xbd)];return _0x44bae2[_0x52649b(0xca)][_0x52649b(0xda)][_0x52649b(0xd8)](_0x5078e2)&&!_0x44bae2[_0x52649b(0xca)][_0x52649b(0x10d)](_0x5078e2)&&(_0x17b763[_0x52649b(0xff)]=!0x1),function(_0x247999,_0x451034,_0x2007e7){const _0x4e09a2=_0x52649b,_0x21df33=_0x247999[_0x4e09a2(0xa8)](_0x4e09a2(0x110),_0x451034);return _0x247999[_0x4e09a2(0xa6)](_0x4e09a2(0xac),!0x0,_0x21df33),_0x21df33[_0x4e09a2(0xcd)]=function(_0x28cb45){const _0x585b99=_0x4e09a2,_0x48d300=this[_0x585b99(0xea)](_0x28cb45),_0x9b34e6=document[_0x585b99(0xab)](_0x585b99(0x110));return _0x9b34e6[_0x585b99(0xc8)][_0x585b99(0x8f)](_0x585b99(0xb9)),_0x9b34e6[_0x585b99(0xf3)](_0x585b99(0xff),_0x585b99(0xe7)),_0x9b34e6[_0x585b99(0xf3)](_0x585b99(0x88),_0x585b99(0xe7)),_0x9b34e6[_0x585b99(0x98)]=_0x2007e7[_0x585b99(0xc5)],_0x48d300[_0x585b99(0x9f)]=_0x585b99(0xaf)+_0x9b34e6[_0x585b99(0x10e)]+'⁠',_0x48d300[_0x585b99(0x8e)](_0x585b99(0xb6),()=>{const _0x323d43=_0x585b99;_0x48d300[_0x323d43(0xc8)][_0x323d43(0x8f)](_0x323d43(0xa3));}),_0x48d300[_0x585b99(0x8e)](_0x585b99(0xce),()=>{const _0x38ece0=_0x585b99;_0x48d300[_0x38ece0(0xc8)][_0x38ece0(0xe5)](_0x38ece0(0xa3));}),_0x48d300;},_0x21df33[_0x4e09a2(0xbe)]=function(_0x19d88b){const _0x373589=_0x4e09a2;return!(!this[_0x373589(0xeb)](_0x373589(0xac))||!_0x19d88b[_0x373589(0xeb)](_0x373589(0xac))||this[_0x373589(0xb1)](_0x373589(0x9c))!=_0x19d88b[_0x373589(0xb1)](_0x373589(0x9c)));},_0x21df33;}(_0x433c70,_0x17b763,_0x137769);}(_0x127571,_0x46699b,_0x3a0fa4,_0x3f27f8)}),_0x3f27f8[_0x37fc56(0xb3)][_0x37fc56(0xee)](_0x37fc56(0xa5))[_0x37fc56(0xf6)]({'model':_0x37fc56(0xd9),'view':_0x3d4046=>function(_0x305185,_0x353e5f){const _0x841a7=_0x37fc56,_0x4d82db=_0x305185[_0x841a7(0x101)][_0x841a7(0xd6)](':')[0x2];if(_0x4d82db===_0x353e5f[_0x841a7(0xdc)])return null;const _0x75a664=_0x353e5f[_0x841a7(0xd0)](_0x4d82db);if(!_0x75a664)return{'id':_0x4d82db,'classes':[]};return{'id':_0x4d82db,'classes':[_0x841a7(0xd2),_0x75a664[_0x841a7(0xe8)][_0x841a7(0xc1)]()],'attributes':{'data-session-id':_0x4d82db},'priority':0x7d0+_0x75a664[_0x841a7(0xae)]};}(_0x3d4046,_0x3a0fa4)}),function(_0x37bb6e){const _0x14f3f1=_0x37fc56,_0x189b66=_0x37bb6e[_0x14f3f1(0xca)],_0x4f5460=new Map(),_0x540b9e=_0x37bb6e[_0x14f3f1(0xbb)][_0x14f3f1(0xef)](_0x3e292b);_0x189b66[_0x14f3f1(0xfa)]['on'](_0x14f3f1(0xe9),(_0x3b92ee,_0x1ba796,_0x38e953,_0x1dbe2e)=>{const _0x43f592=_0x14f3f1;if(!_0x1dbe2e&&_0x4f5460[_0x43f592(0xef)](_0x1ba796[_0x43f592(0xc5)]))return _0x4f5460[_0x43f592(0xef)](_0x1ba796[_0x43f592(0xc5)])[_0x43f592(0x96)](),void _0x4f5460[_0x43f592(0xcc)](_0x1ba796[_0x43f592(0xc5)]);const _0x13202e=_0x1ba796[_0x43f592(0xc5)][_0x43f592(0xd6)](':')[0x2];if(_0x13202e===_0x540b9e[_0x43f592(0xdc)])return;const _0x9be00a=_0x43f592(0x92)+_0x13202e;_0x189b66[_0x43f592(0xfa)][_0x43f592(0xe4)](_0x9be00a)&&_0x37bb6e[_0x43f592(0xde)][_0x43f592(0x10b)](_0x9be00a),_0x1ba796['on'](_0x43f592(0x108),(_0x58ecb3,_0x4b2f64,_0x2178bd)=>{const _0x42fb5d=_0x43f592;if(_0x42fb5d(0xa0)!=_0x4b2f64[_0x42fb5d(0xc6)][_0x42fb5d(0x103)]&&_0x42fb5d(0xa0)==_0x1ba796[_0x42fb5d(0xcf)]()[_0x42fb5d(0xc6)][_0x42fb5d(0x103)]&&!_0x4f5460[_0x42fb5d(0xe4)](_0x1ba796[_0x42fb5d(0xc5)])){const _0x1b37f3=_0x189b66[_0x42fb5d(0xda)][_0x42fb5d(0x10c)](_0x2178bd[_0x42fb5d(0x10a)]);if(_0x1b37f3){const _0x5c1876=_0x322e6d[_0x42fb5d(0x9a)](_0x1b37f3);_0x4f5460[_0x42fb5d(0xad)](_0x1ba796[_0x42fb5d(0xc5)],_0x5c1876),_0x5c1876['on'](_0x42fb5d(0x108),(_0x2bce44,_0x2643c6,_0x6d14ae)=>{const _0x26626b=_0x42fb5d;if(_0x26626b(0xa0)==_0x5c1876[_0x26626b(0xc6)][_0x26626b(0x103)]){const _0x18341f=_0x189b66[_0x26626b(0xda)][_0x26626b(0x10c)](_0x6d14ae[_0x26626b(0x10a)]);_0x18341f?(_0x5c1876[_0x26626b(0xe2)]=_0x18341f[_0x26626b(0xe2)],_0x5c1876[_0x26626b(0x9b)]=_0x18341f[_0x26626b(0x9b)]):(_0x4f5460[_0x26626b(0xcc)](_0x1ba796[_0x26626b(0xc5)]),_0x5c1876[_0x26626b(0x96)]());}});}}});}),_0x189b66[_0x14f3f1(0x8c)]['on'](_0x14f3f1(0xdb),()=>{const _0x4b6e55=_0x14f3f1;_0x4f5460[_0x4b6e55(0xba)]>0x0&&_0x189b66[_0x4b6e55(0x109)]({'isUndoable':!0x1},_0x214e2d=>{const _0xdcd336=_0x4b6e55;for(const [_0x4096df,_0x524b70]of _0x4f5460)_0xdcd336(0xa0)==_0x189b66[_0xdcd336(0xfa)][_0xdcd336(0xef)](_0x4096df)[_0xdcd336(0xcf)]()[_0xdcd336(0xc6)][_0xdcd336(0x103)]&&(te(_0x4096df[_0xdcd336(0xd6)](':')[0x2],_0x524b70[_0xdcd336(0x112)](),_0x189b66,_0x214e2d),_0x524b70[_0xdcd336(0x96)]());_0x4f5460[_0xdcd336(0x104)]();});});}(_0x3f27f8),this[_0x37fc56(0x111)][_0x37fc56(0x87)](_0x543bd6[_0x37fc56(0x8c)],_0x37fc56(0xa4),(_0x1eda47,{key:_0x4f7240})=>{const _0x2af9db=_0x37fc56;_0x2af9db(0xb7)===_0x4f7240&&function(_0xdf1fee){const _0x24740c=_0x2af9db;_0xdf1fee[_0x24740c(0xde)][_0x24740c(0xd1)][_0x24740c(0xdb)](_0x2dce12=>{const _0x2d6401=_0x24740c;for(const _0x1717c8 of _0xdf1fee[_0x2d6401(0xca)][_0x2d6401(0xfa)]){if(!_0x1717c8[_0x2d6401(0xc5)][_0x2d6401(0x99)](_0x2d6401(0xbf)))continue;const _0x1d4933=_0xdf1fee[_0x2d6401(0xde)][_0x2d6401(0xa1)][_0x2d6401(0xdf)](_0x1717c8[_0x2d6401(0xc5)]);if(_0x1d4933){for(const _0x38268c of _0x1d4933)_0x2dce12[_0x2d6401(0x93)](_0x2d6401(0xa3),_0x38268c);}}});}(_0x3f27f8);},{'useCapture':!0x0});}[_0x45b121(0x102)](){const _0x176892=_0x45b121,_0x38e97c=this[_0x176892(0x97)],_0xf807e8=_0x38e97c[_0x176892(0x86)][_0x176892(0xef)](_0x176892(0xf0));_0xf807e8&&_0x38e97c[_0x176892(0xca)]['on'](_0x176892(0xf4),(_0x498f3f,_0x3d1d33)=>{const _0xb2b7ed=_0x176892,_0x58c3b4=_0x3d1d33[0x0];if(!_0x58c3b4[_0xb2b7ed(0x95)])return;if(_0xb2b7ed(0xb0)!=_0x58c3b4[_0xb2b7ed(0x9e)]||!_0x58c3b4[_0xb2b7ed(0xc5)][_0xb2b7ed(0x99)](_0xb2b7ed(0xc7)))return;const _0x30c116=_0x58c3b4[_0xb2b7ed(0xfe)];_0xf807e8[_0xb2b7ed(0x105)][_0xb2b7ed(0xe4)](_0x30c116)&&(_0x58c3b4[_0xb2b7ed(0xd5)]=_0x58c3b4[_0xb2b7ed(0x8b)]?_0x38e97c[_0xb2b7ed(0xca)][_0xb2b7ed(0xf9)](_0x58c3b4[_0xb2b7ed(0x8b)][_0xb2b7ed(0xe2)],_0x58c3b4[_0xb2b7ed(0x8b)][_0xb2b7ed(0x9b)]):null);},{'priority':_0x176892(0xd4)});}[_0x45b121(0xb2)](){const _0x8327f7=_0x45b121;return this[_0x8327f7(0x111)][_0x8327f7(0xe3)](),super[_0x8327f7(0xb2)]();}[_0x45b121(0xaa)](){const _0x4cfc1e=_0x45b121,_0xf85fdd=this[_0x4cfc1e(0x97)],_0x4fd259=_0xf85fdd[_0x4cfc1e(0xca)][_0x4cfc1e(0x8c)],_0x1493a6=_0xf85fdd[_0x4cfc1e(0xbb)][_0x4cfc1e(0xef)](_0x3e292b);_0xf85fdd[_0x4cfc1e(0xca)][_0x4cfc1e(0x109)]({'isUndoable':!0x1},_0x24a543=>{const _0x2849a2=_0x4cfc1e,_0x4c40d3=_0x2849a2(0xe0)+_0x1493a6[_0x2849a2(0xdc)],_0x5be34=_0x2849a2(0x92)+_0x1493a6[_0x2849a2(0xdc)],_0x1e801d=_0xf85fdd[_0x2849a2(0xca)][_0x2849a2(0xfa)][_0x2849a2(0xe4)](_0x4c40d3);_0xf85fdd[_0x2849a2(0xde)][_0x2849a2(0xd1)][_0x2849a2(0xfd)]?te(_0x1493a6[_0x2849a2(0xdc)],_0x4fd259[_0x2849a2(0x91)][_0x2849a2(0xf7)](),_0xf85fdd[_0x2849a2(0xca)],_0x24a543):_0x1e801d&&(_0x24a543[_0x2849a2(0xc2)](_0x4c40d3),_0x24a543[_0x2849a2(0xc2)](_0x5be34));});}}function te(_0x3cdaed,_0x32eaf5,_0x114b54,_0x1591da){const _0x36bd66=_0x45b121,_0x3762e2=_0x36bd66(0xe0)+_0x3cdaed,_0x19e190=_0x36bd66(0x92)+_0x3cdaed,_0x5d4c58=_0x32eaf5[_0x36bd66(0xfb)]();let _0x249ccc=_0x32eaf5[_0x36bd66(0xe2)];_0x5d4c58&&_0x5d4c58['is'](_0x36bd66(0xf5),_0x36bd66(0xc4))&&(_0x249ccc=function(_0x1abcfe,_0x31002b){const _0x47e673=_0x36bd66;for(const _0x33672f of _0x1abcfe[_0x47e673(0xcb)]())if(_0x31002b[_0x47e673(0xda)][_0x47e673(0x94)](_0x33672f,_0x47e673(0xa9)))return _0x33672f;}(_0x32eaf5,_0x114b54),_0x32eaf5=_0x1591da[_0x36bd66(0xf9)](_0x249ccc));const _0x2f59ff=_0x1591da[_0x36bd66(0xf9)](_0x249ccc);_0x114b54[_0x36bd66(0xfa)][_0x36bd66(0xe4)](_0x3762e2)?(_0x1591da[_0x36bd66(0x10f)](_0x3762e2,{'range':_0x32eaf5}),_0x1591da[_0x36bd66(0x10f)](_0x19e190,{'range':_0x2f59ff})):(_0x1591da[_0x36bd66(0xd7)](_0x3762e2,{'range':_0x32eaf5,'usingOperation':!0x0}),_0x1591da[_0x36bd66(0xd7)](_0x19e190,{'range':_0x2f59ff,'usingOperation':!0x0}));}