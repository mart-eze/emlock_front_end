/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as _0x4a30c3,Plugin as _0x69e996}from'@ckeditor/ckeditor5-core/dist/index.js';import{findOptimalInsertionRange as _0x4deda3,viewToModelPositionOutsideModelElement as _0x4df9b8,toWidget as _0x429e9a,Widget as _0x449b60}from'@ckeditor/ckeditor5-widget/dist/index.js';import{IconWarning as _0x422ef8,IconInsertMergeField as _0x3332b2,IconPreviewMergeFields as _0x2a313d}from'@ckeditor/ckeditor5-icons/dist/index.js';import{IconView as _0x41b78d,ListView as _0x5283e2,filterGroupAndItemNames as _0x2d200e,View as _0x1c3f56,ContextualBalloon as _0x37836b,MenuBarMenuView as _0x54112d,MenuBarMenuListView as _0x3cd9f7,MenuBarMenuListItemView as _0x574641,ViewModel as _0x3b16e6,createDropdown as _0x3e8411,addListToDropdown as _0x512702,MenuBarMenuListItemButtonView as _0x4b9254,SearchTextView as _0xc7d652,ListItemGroupView as _0x475e42,LabelWithHighlightView as _0x2e5f7f,ListItemView as _0x333673,ButtonLabelWithHighlightView as _0x2d409d,ButtonView as _0x2016ca}from'@ckeditor/ckeditor5-ui/dist/index.js';import{logWarning as _0xc9f80d,CKEditorError as _0x16a1d0,priorities as _0x24916e,ResizeObserver as _0x3f5f1f,uid as _0x4f45e0,Collection as _0xd0cd87}from'@ckeditor/ckeditor5-utils/dist/index.js';import{cloneDeep as _0x2f62cf}from'es-toolkit/compat';class r extends _0x4a30c3{['refresh'](){const _0xdb74eb=this['editor']['model'],_0x4f2e92=_0xdb74eb['schema']['checkChild'](_0xdb74eb['document']['selection']['focus'],'mergeField');this['isEnabled']=_0x4f2e92;}['execute'](_0x5c11fc){if(!_0x5c11fc||'string'!=typeof _0x5c11fc)return;const _0x524a52=this['editor']['model'];_0x524a52['change'](_0x587d51=>{_0x524a52['deleteContent'](_0x524a52['document']['selection']);const _0x500169=_0x587d51['createElement']('mergeField',{'id':_0x5c11fc});for(const [_0x300be0,_0x3c86d1]of _0x524a52['document']['selection']['getAttributes']())_0x524a52['schema']['checkAttribute'](_0x500169,_0x300be0)&&_0x587d51['setAttribute'](_0x300be0,_0x3c86d1,_0x500169);_0x524a52['insertContent'](_0x500169,_0x524a52['document']['selection'],0x0,{'setSelection':'after'});});}}class i extends _0x4a30c3{['refresh'](){const _0x12aa19=this['editor']['model'],_0x58a33a=_0x12aa19['document']['selection'];this['isEnabled']=function(_0x447e18,_0x4997cd){const _0x3f6a8e=_0x4deda3(_0x447e18,_0x4997cd);let _0x2b30cf=_0x3f6a8e['start']['parent'];return _0x2b30cf['isEmpty']&&!_0x4997cd['schema']['isLimit'](_0x2b30cf)&&(_0x2b30cf=_0x2b30cf['parent']),_0x4997cd['schema']['checkChild'](_0x2b30cf,'mergeFieldBlock');}(_0x58a33a,_0x12aa19);}['execute'](_0x318f83,_0x319070){if(!_0x318f83||'string'!=typeof _0x318f83)return;const _0x4863ba=this['editor']['model'];_0x4863ba['change'](_0x53fe6e=>{const _0x33ea29=_0x53fe6e['createElement']('mergeFieldBlock',{'id':_0x318f83});_0x4863ba['insertObject'](_0x33ea29,_0x4863ba['document']['selection'],null,{'setSelection':'on','findOptimalPosition':!0x1===_0x319070?void 0x0:'auto'});});}}class s extends _0x4a30c3{constructor(_0x31a217){super(_0x31a217),this['bind']('isEnabled')['to'](this['editor']['commands']['get']('insertImage'));}['execute'](_0x4f11e9,_0x122064){if(!_0x4f11e9||'string'!=typeof _0x4f11e9)return;const _0x1f8bff=this['editor']['plugins']['get']('MergeFieldsEditing'),_0x2d0e36=_0x1f8bff['getMergeFieldWidth'](_0x4f11e9),_0x4f359a=_0x1f8bff['getMergeFieldHeight'](_0x4f11e9);this['editor']['execute']('insertImage',{'source':{'src':_0x1f8bff['wrapInAffixes'](_0x4f11e9),'width':_0x2d0e36,'height':_0x4f359a},'breakBlock':_0x122064&&_0x122064['breakBlock']});}}class p extends _0x4a30c3{constructor(_0x256126){super(_0x256126);const _0x4eb8f3=this['editor']['plugins']['get']('MergeFieldsEditing');this['bind']('value')['to'](_0x4eb8f3,'previewMode'),this['affectsData']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x4cbab9){this['editor']['plugins']['get']('MergeFieldsEditing')['previewMode']=_0x4cbab9;}}const A=/^[a-zA-Z0-9_.-]+$/;class m extends _0x69e996{['availablePreviewModes'];['flattenedMergeFieldDefinitions']=[];['_mergeFieldElements'];['_mergeFieldPrefix'];['_mergeFieldSuffix'];['_mergeFieldRegExp'];['_shouldPreviewHtmlValues'];static get['requires'](){return['ImageUtils','ImageEditing'];}static get['pluginName'](){return'MergeFieldsEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0xddd0fc){super(_0xddd0fc),_0xddd0fc['config']['define']('mergeFields.previewModes',['$labels','$defaultValues','$dataSets']),_0xddd0fc['config']['define']('mergeFields.dataSets',[]),_0xddd0fc['config']['define']('mergeFields.definitions',[]),_0xddd0fc['config']['define']('mergeFields.prefix','{{'),_0xddd0fc['config']['define']('mergeFields.suffix','}}'),_0xddd0fc['config']['define']('mergeFields.previewHtmlValues',!0x1),_0xddd0fc['config']['define']('mergeFields.sanitizeHtml',_0x8b5e86=>(_0xc9f80d('merge-fields-provide-sanitize-function'),{'html':_0x8b5e86,'hasChanged':!0x1})),this['_mergeFieldPrefix']=_0xddd0fc['config']['get']('mergeFields.prefix'),this['_mergeFieldSuffix']=_0xddd0fc['config']['get']('mergeFields.suffix'),this['_shouldPreviewHtmlValues']=_0xddd0fc['config']['get']('mergeFields.previewHtmlValues'),this['flattenedMergeFieldDefinitions']=this['_getFlattenedMergeFieldDefinitions'](),this['_validateConfig']();const _0x3107e7='\x5c'+this['_mergeFieldPrefix']['split']('')['join']('\x5c'),_0x2500a6='\x5c'+this['_mergeFieldSuffix']['split']('')['join']('\x5c');this['_mergeFieldRegExp']=new RegExp('('+_0x3107e7+'[^'+(_0x3107e7+_0x2500a6)+'\x20]+'+_0x2500a6+')','g'),this['availablePreviewModes']=this['_getAvailablePreviewModes']();const _0xf2864e=_0xddd0fc['config']['get']('mergeFields.initialPreviewMode')||this['availablePreviewModes'][0x0];this['_validatePreviewMode'](_0xf2864e),this['set']('previewMode',_0xf2864e),this['_mergeFieldElements']=new Set();}['init'](){const _0x3a77c4=this['editor'];_0x3a77c4['commands']['add']('insertMergeField',new r(_0x3a77c4)),_0x3a77c4['commands']['add']('insertMergeFieldBlock',new i(_0x3a77c4)),_0x3a77c4['commands']['add']('insertMergeFieldImage',new s(_0x3a77c4)),_0x3a77c4['commands']['add']('previewMergeFields',new p(_0x3a77c4)),this['_defineSchema'](),this['_defineConverters'](),this['_registerConversionPostFixer'](),this['listenTo'](this['editor']['editing']['view']['document'],'imageLoaded',this['_setupTooltipsTogglingForImageMergeField']),this['on']('change:previewMode',(_0x3b4b78,_0x2a0cb5,_0x50c1ac)=>{this['_validatePreviewMode'](_0x50c1ac),this['refreshMergeFields']();}),this['listenTo'](_0x3a77c4['model']['document'],'change:data',()=>{this['_trackAddedMergeFields']();}),_0x3a77c4['editing']['mapper']['on']('viewToModelPosition',_0x4df9b8(_0x3a77c4['model'],_0x417311=>_0x417311['hasClass']('ck-merge-field'))),_0x3a77c4['editing']['mapper']['on']('viewToModelPosition',_0x4df9b8(_0x3a77c4['model'],_0x7b0a59=>_0x7b0a59['hasClass']('ck-merge-field-block'))),_0x3a77c4['editing']['view']['domConverter']['registerInlineObjectMatcher']({'name':'span','classes':['ck-merge-field']});}['afterInit'](){this['_disableCommandOnMergeFields']('ckboxImageEdit'),this['_disableCommandOnMergeFields']('uploadcareImageEdit'),async function(_0x510979){const _0x35545b=_0x25a6eb([0x36,0x35,0x39,0x51,0x48,0x71,0x34,0x4a,0x7a,0x61,0x47,0x45,0x55,0x6d,0x33,0x54,0x73,0x4b,0x46,0x49,0x6b,0x63,0x30,0x65,0x77,0x42,0x50,0x4d,0x67,0x64,0x4f,0x66,0x6f,0x74,0x69,0x70,0x41,0x5a,0x4e,0x68,0x53,0x43,0x62,0x72,0x6e,0x52,0x6a,0x78,0x38,0x6c,0x4c,0x32,0x37,0x79,0x57,0x31,0x59,0x75,0x58,0x76,0x44,0x56]),_0xe8e19e=0x67ed99f0,_0x312351=0x67eafda8^_0xe8e19e,_0xaaefb3=window[_0x25a6eb([0x44,0x61,0x74,0x65])][_0x25a6eb([0x6e,0x6f,0x77])](),_0x27eb97=_0x510979[_0x25a6eb([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x415d8d=new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0xf01318=>{_0x27eb97[_0x25a6eb([0x6f,0x6e,0x63,0x65])](_0x25a6eb([0x72,0x65,0x61,0x64,0x79]),_0xf01318);}),_0x2384ac={[_0x25a6eb([0x6b,0x74,0x79])]:_0x25a6eb([0x45,0x43]),[_0x25a6eb([0x75,0x73,0x65])]:_0x25a6eb([0x73,0x69,0x67]),[_0x25a6eb([0x63,0x72,0x76])]:_0x25a6eb([0x50,0x2d,0x32,0x35,0x36]),[_0x25a6eb([0x78])]:_0x25a6eb([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0x25a6eb([0x79])]:_0x25a6eb([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0x25a6eb([0x61,0x6c,0x67])]:_0x25a6eb([0x45,0x53,0x32,0x35,0x36])},_0x21e94e=_0x27eb97[_0x25a6eb([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0x25a6eb([0x67,0x65,0x74])](_0x25a6eb([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x287f70(){let _0x474a12,_0x524e5d=null,_0x770c6=null;try{if(_0x21e94e==_0x25a6eb([0x47,0x50,0x4c]))return _0x25a6eb([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x474a12=_0x2921c4(),!_0x474a12)return _0x25a6eb([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x474a12[_0x25a6eb([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x770c6=_0x1f7da0(_0x474a12[_0x25a6eb([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x474a12[_0x25a6eb([0x6a,0x74,0x69])])),await _0x1a730f()?_0x117623()?_0x484af9()?_0x25a6eb([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0x37eb51()?(_0x474a12[_0x25a6eb([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x25a6eb([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0x524e5d=_0x3ad32a(_0x25a6eb([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x474a12[_0x25a6eb([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0x25a6eb([0x74,0x72,0x69,0x61,0x6c])&&(_0x524e5d=_0x3ad32a(_0x25a6eb([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),await _0x2786f8()):_0x25a6eb([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0x25a6eb([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0x25a6eb([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch(_0x400048){return _0x25a6eb([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x484af9(){const _0x18c5a2=[_0x25a6eb([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0x25a6eb([0x74,0x72,0x69,0x61,0x6c])][_0x25a6eb([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x474a12[_0x25a6eb([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0xaaefb3/0x3e8:0xe10*_0x312351;return _0x474a12[_0x25a6eb([0x65,0x78,0x70])]<_0x18c5a2;}function _0x117623(){const _0x13314d=_0x474a12[_0x25a6eb([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];return!!_0x13314d&&(!!_0x13314d[_0x25a6eb([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x25a6eb([0x2a]))||!!_0x13314d[_0x25a6eb([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x25a6eb([0x4d,0x46])));}function _0x37eb51(){const _0x3038da=_0x474a12[_0x25a6eb([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x3038da||0x0==_0x3038da[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x1e903c}=new URL(window[_0x25a6eb([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x3038da[_0x25a6eb([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x1e903c))return!0x0;const _0x2a48c1=_0x1e903c[_0x25a6eb([0x73,0x70,0x6c,0x69,0x74])](_0x25a6eb([0x2e]));return _0x3038da[_0x25a6eb([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x51600b=>_0x51600b[_0x25a6eb([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x25a6eb([0x2a])))[_0x25a6eb([0x6d,0x61,0x70])](_0x4348f0=>_0x4348f0[_0x25a6eb([0x73,0x70,0x6c,0x69,0x74])](_0x25a6eb([0x2e])))[_0x25a6eb([0x73,0x6f,0x6d,0x65])](_0x5ef139=>_0x2a48c1[_0x25a6eb([0x65,0x76,0x65,0x72,0x79])]((_0x5993fe,_0x124b71)=>_0x5ef139[_0x124b71]===_0x5993fe||_0x5ef139[_0x124b71]===_0x25a6eb([0x2a])));}function _0x2786f8(){return _0x524e5d&&_0x770c6?new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x4ee381,_0x382866)=>{_0x524e5d[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x4ee381,_0x382866),_0x770c6[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x208b41=>{_0x208b41!=_0x25a6eb([0x56,0x61,0x6c,0x69,0x64])&&_0x4ee381(_0x208b41);},_0x382866);}):_0x524e5d||_0x770c6||_0x25a6eb([0x56,0x61,0x6c,0x69,0x64]);}}function _0x1f7da0(_0x50c9f5,_0x4290ab){return new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x118ec6=>{if(_0x433056())return _0x118ec6(_0x25a6eb([0x56,0x61,0x6c,0x69,0x64]));_0x5e74b3(),_0x27eb97[_0x25a6eb([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0x25a6eb([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0x3b4803=!0x1;const _0x4071cb=_0x4f45e0();function _0x19bb75(_0x391681){return!!_0x391681&&(typeof _0x391681===_0x25a6eb([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0x391681===_0x25a6eb([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0x391681[_0x25a6eb([0x74,0x68,0x65,0x6e])]===_0x25a6eb([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0x391681[_0x25a6eb([0x63,0x61,0x74,0x63,0x68])]===_0x25a6eb([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x1d1445(_0x1eba00){_0x7846b(_0x1eba00)[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x15198b=>{if(!_0x15198b||_0x15198b[_0x25a6eb([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0x25a6eb([0x6f,0x6b]))return _0x25a6eb([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x51b099(_0x5ae4c9(_0x4071cb+_0x4290ab))!=_0x15198b[_0x25a6eb([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0x25a6eb([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0x25a6eb([0x56,0x61,0x6c,0x69,0x64]);})[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x594fba=>(_0x10af0f(),_0x594fba),()=>{const _0x402c51=_0x854194();return null==_0x402c51?(_0x10af0f(),_0x25a6eb([0x56,0x61,0x6c,0x69,0x64])):_0x25a6eb(_0xaaefb3-_0x402c51>(0x43e11df0^_0xe8e19e)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x118ec6)[_0x25a6eb([0x63,0x61,0x74,0x63,0x68])](()=>{_0x118ec6(_0x25a6eb([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x4b68ad=0x67db7770^_0xe8e19e;function _0x10af0f(){const _0xad0ddc=_0x25a6eb([0x6c,0x6c,0x63,0x74,0x2d])+_0x51b099(_0x5ae4c9(_0x50c9f5)),_0xad1030=_0x162a0e(_0x51b099(window[_0x25a6eb([0x4d,0x61,0x74,0x68])][_0x25a6eb([0x63,0x65,0x69,0x6c])](_0xaaefb3/_0x4b68ad)));window[_0x25a6eb([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x25a6eb([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0xad0ddc,_0xad1030);}function _0x854194(){const _0xc8b122=_0x25a6eb([0x6c,0x6c,0x63,0x74,0x2d])+_0x51b099(_0x5ae4c9(_0x50c9f5)),_0x2bed09=window[_0x25a6eb([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0x25a6eb([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0xc8b122);return _0x2bed09?window[_0x25a6eb([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x162a0e(_0x2bed09),0x10)*_0x4b68ad:null;}function _0x7846b(_0x59a61b){return new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x5b7c7f,_0x5c834c)=>{_0x59a61b[_0x25a6eb([0x74,0x68,0x65,0x6e])](_0x5b7c7f,_0x5c834c),window[_0x25a6eb([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0x5c834c,0x67ec4d30^_0xe8e19e);});}}_0x27eb97[_0x25a6eb([0x6f,0x6e])](_0x25a6eb([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x18e115,_0x523303)=>{if(_0x523303[0x0]!=_0x50c9f5)return _0x118ec6(_0x25a6eb([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0x523303[0x1]={..._0x523303[0x1],[_0x25a6eb([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x4071cb};},{[_0x25a6eb([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x25a6eb([0x68,0x69,0x67,0x68])}),_0x27eb97[_0x25a6eb([0x6f,0x6e])](_0x25a6eb([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x1061dd=>{_0x19bb75(_0x1061dd[_0x25a6eb([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0x3b4803=!0x0,_0x1d1445(_0x1061dd[_0x25a6eb([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0x25a6eb([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0x25a6eb([0x6c,0x6f,0x77])}),_0x415d8d[_0x25a6eb([0x74,0x68,0x65,0x6e])](()=>{_0x3b4803||_0x118ec6(_0x25a6eb([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0x433056(){return _0x27eb97[_0x25a6eb([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x25a6eb([0x76,0x69,0x65,0x77])][_0x25a6eb([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0x25a6eb([0x61,0x75,0x74,0x6f]);}function _0x5e74b3(){_0x27eb97[_0x25a6eb([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x25a6eb([0x76,0x69,0x65,0x77])][_0x25a6eb([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x25a6eb([0x61,0x75,0x74,0x6f]);}}function _0x3ad32a(_0xd7e625){const _0x37d57b=[new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x489e02=>setTimeout(_0x489e02,0x67e4a73c^_0xe8e19e)),_0x415d8d[_0x25a6eb([0x74,0x68,0x65,0x6e])](()=>new window[(_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x3c3ba4=>{let _0x3e9532=0x0;_0x27eb97[_0x25a6eb([0x6d,0x6f,0x64,0x65,0x6c])][_0x25a6eb([0x6f,0x6e])](_0x25a6eb([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x5c84c5,_0x1f0fa1)=>{_0x1f0fa1[0x0][_0x25a6eb([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0x3e9532++,_0x3e9532==(0x67ed9808^_0xe8e19e)&&(_0x3c3ba4(),_0x5c84c5[_0x25a6eb([0x6f,0x66,0x66])]());});}))];return window[_0x25a6eb([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x25a6eb([0x72,0x61,0x63,0x65])](_0x37d57b)[_0x25a6eb([0x74,0x68,0x65,0x6e])](()=>_0xd7e625);}async function _0x5b8366(){await _0x415d8d,_0x27eb97[_0x25a6eb([0x6d,0x6f,0x64,0x65,0x6c])][_0x25a6eb([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0x40b98f,_0x27eb97[_0x25a6eb([0x6d,0x6f,0x64,0x65,0x6c])][_0x25a6eb([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0x40b98f,_0x27eb97[_0x25a6eb([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0x25a6eb([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x58e188(_0xd2667d){const _0xac440d=_0x50d039();_0x27eb97[_0xac440d]=_0x25a6eb([0x6d,0x65,0x72,0x67,0x65,0x46,0x69,0x65,0x6c,0x64,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0xd2667d,_0xd2667d!=_0x25a6eb([0x56,0x61,0x6c,0x69,0x64])&&_0x5b8366();}function _0x50d039(){const _0x1d5a0e=window[_0x25a6eb([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0x25a6eb([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0x25a6eb([0x6e,0x6f,0x77])]())[_0x25a6eb([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0x25a6eb([0x2e]),'');let _0x8be8de=_0x25a6eb([0x51]);for(let _0x42d17a=0x0;_0x42d17a<_0x1d5a0e[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x42d17a+=0x2){let _0x1aa15d=window[_0x25a6eb([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x1d5a0e[_0x25a6eb([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x42d17a,_0x42d17a+0x2));_0x1aa15d>=_0x35545b[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x1aa15d-=_0x35545b[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x8be8de+=_0x35545b[_0x1aa15d];}return _0x8be8de;}function _0x2921c4(){const _0x3b3cbf=_0x21e94e[_0x25a6eb([0x73,0x70,0x6c,0x69,0x74])](_0x25a6eb([0x2e]));if(0x3!=_0x3b3cbf[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0x2fece1(_0x3b3cbf[0x1]);function _0x2fece1(_0x4271ea){const _0x31ceec=_0x52485d(_0x4271ea);return _0x31ceec&&_0x1f34eb()?_0x31ceec:null;function _0x1f34eb(){const _0x47fbf3=_0x31ceec[_0x25a6eb([0x6a,0x74,0x69])],_0x5ee748=window[_0x25a6eb([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x47fbf3[_0x25a6eb([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x47fbf3[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x322bf5={..._0x31ceec,[_0x25a6eb([0x6a,0x74,0x69])]:_0x47fbf3[_0x25a6eb([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x47fbf3[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x322bf5[_0x25a6eb([0x76,0x63])],_0x5ae4c9(_0x322bf5)==_0x5ee748;}}}async function _0x1a730f(){let _0x3cbbc3=!0x0;try{const _0x4374b1=_0x21e94e[_0x25a6eb([0x73,0x70,0x6c,0x69,0x74])](_0x25a6eb([0x2e])),[_0x1030c7,_0x422ee5,_0x51b702]=_0x4374b1;return _0x162e29(_0x1030c7),await _0x107401(_0x1030c7,_0x422ee5,_0x51b702),_0x3cbbc3;}catch(_0x378a0b){return!0x1;}function _0x162e29(_0xc0777f){const _0x13834b=_0x52485d(_0xc0777f);_0x13834b&&_0x13834b[_0x25a6eb([0x61,0x6c,0x67])]==_0x25a6eb([0x45,0x53,0x32,0x35,0x36])||(_0x3cbbc3=!0x1);}async function _0x107401(_0x4a24c8,_0x49cd4a,_0x36604b){const _0x4c2b2b=window[_0x25a6eb([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0x25a6eb([0x66,0x72,0x6f,0x6d])](_0x429fab(_0x36604b),_0x58c9f8=>_0x58c9f8[_0x25a6eb([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x1bb7d4=new window[(_0x25a6eb([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0x25a6eb([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x4a24c8+_0x25a6eb([0x2e])+_0x49cd4a),_0x4055a3=window[_0x25a6eb([0x63,0x72,0x79,0x70,0x74,0x6f])][_0x25a6eb([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x4055a3)return;const _0x2a9f78=await _0x4055a3[_0x25a6eb([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0x25a6eb([0x6a,0x77,0x6b]),_0x2384ac,{[_0x25a6eb([0x6e,0x61,0x6d,0x65])]:_0x25a6eb([0x45,0x43,0x44,0x53,0x41]),[_0x25a6eb([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0x25a6eb([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0x25a6eb([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x4055a3[_0x25a6eb([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0x25a6eb([0x6e,0x61,0x6d,0x65])]:_0x25a6eb([0x45,0x43,0x44,0x53,0x41]),[_0x25a6eb([0x68,0x61,0x73,0x68])]:{[_0x25a6eb([0x6e,0x61,0x6d,0x65])]:_0x25a6eb([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0x2a9f78,_0x4c2b2b,_0x1bb7d4)||(_0x3cbbc3=!0x1);}}function _0x52485d(_0x172100){return _0x172100[_0x25a6eb([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0x25a6eb([0x65,0x79]))?JSON[_0x25a6eb([0x70,0x61,0x72,0x73,0x65])](_0x429fab(_0x172100)):null;}function _0x429fab(_0x4e7ffd){return window[_0x25a6eb([0x61,0x74,0x6f,0x62])](_0x4e7ffd[_0x25a6eb([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0x25a6eb([0x2b]))[_0x25a6eb([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0x25a6eb([0x2f])));}function _0x5ae4c9(_0x18f6ba){let _0x3f4246=0x1505;function _0x55ae4f(_0xf680e9){for(let _0x13816c=0x0;_0x13816c<_0xf680e9[_0x25a6eb([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x13816c++){const _0x38ccfc=_0xf680e9[_0x25a6eb([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0x13816c);_0x3f4246=(_0x3f4246<<0x5)+_0x3f4246+_0x38ccfc,_0x3f4246&=_0x3f4246;}}function _0x14fe72(_0x58e0ac){Array[_0x25a6eb([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x58e0ac)?_0x58e0ac[_0x25a6eb([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x14fe72):_0x58e0ac&&typeof _0x58e0ac==_0x25a6eb([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0x25a6eb([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x58e0ac)[_0x25a6eb([0x73,0x6f,0x72,0x74])]()[_0x25a6eb([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x315425,_0x259a11])=>{_0x55ae4f(_0x315425),_0x14fe72(_0x259a11);}):_0x55ae4f(window[_0x25a6eb([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x58e0ac));}return _0x14fe72(_0x18f6ba),_0x3f4246>>>0x0;}function _0x51b099(_0x56b46f){return _0x56b46f[_0x25a6eb([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0x25a6eb([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0x25a6eb([0x30]));}function _0x162a0e(_0xb0bd8e){return _0xb0bd8e[_0x25a6eb([0x73,0x70,0x6c,0x69,0x74])]('')[_0x25a6eb([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0x25a6eb([0x6a,0x6f,0x69,0x6e])]('');}function _0x40b98f(){}function _0x25a6eb(_0x3cc406){return _0x3cc406['map'](_0x12685a=>String['fromCharCode'](_0x12685a))['join']('');}_0x58e188(await _0x287f70());}(this);}['isMergeField'](_0x46edef){return'mergeField'===_0x46edef['name']||'mergeFieldBlock'===_0x46edef['name']||!!('imageBlock'===_0x46edef['name']||'imageInline'===_0x46edef['name']&&_0x46edef['getAttribute']('src'))&&!!_0x46edef['getAttribute']('src')['match'](this['_mergeFieldRegExp']);}['getDefaultValues'](){const _0x23e01b={},_0x2f2e7a=this['getMergeFieldsIds']();for(const _0x298cd7 of _0x2f2e7a)_0x23e01b[_0x298cd7]=this['getMergeFieldDefaultValue'](_0x298cd7);return _0x23e01b;}['getDataSetValues'](_0x78332a,_0x59d6b4=!0x1){const _0x4a612a={},_0x50e51c=this['getMergeFieldsIds']();for(const _0x237ff0 of _0x50e51c){let _0x267923=this['getMergeFieldValue'](_0x237ff0,_0x78332a);null===_0x267923&&_0x59d6b4&&(_0x267923=this['getMergeFieldDefaultValue'](_0x237ff0)),_0x4a612a[_0x237ff0]=_0x267923;}return _0x4a612a;}['getLabel'](_0x76743){const _0x358937=this['getDefinition'](_0x76743);return _0x358937&&_0x358937['label']?_0x358937['label']:null;}['getMergeFieldDefaultValue'](_0xb30a7d){const _0x295f8c=this['getDefinition'](_0xb30a7d);if(!_0x295f8c||void 0x0===_0x295f8c['defaultValue'])return null;const _0x4827da='function'==typeof _0x295f8c['defaultValue']?_0x295f8c['defaultValue'](this['editor']):_0x295f8c['defaultValue'];return String(_0x4827da);}['getMergeFieldValue'](_0x3d48be,_0x56ec8d){const _0x547a39=this['editor']['config']['get']('mergeFields.dataSets')['find'](_0x47caa3=>_0x47caa3['id']===_0x56ec8d);if(!_0x547a39)throw new _0x16a1d0('merge-fields-data-set-not-found',null);const _0x513c69=_0x547a39['values'][_0x3d48be];if(void 0x0===_0x513c69)return null;const _0x5e973f='function'==typeof _0x513c69?_0x513c69(this['editor']):_0x513c69;return String(_0x5e973f);}['getMergeFieldType'](_0x4b8bac){if('string'!=typeof _0x4b8bac){const _0x1eba20=_0x4b8bac;return'mergeField'===_0x1eba20['name']?'text':'mergeFieldBlock'===_0x1eba20['name']?'block':('imageBlock'===_0x1eba20['name']||'imageInline'===_0x1eba20['name']&&_0x1eba20['getAttribute']('src'))&&_0x1eba20['getAttribute']('src')['match'](this['_mergeFieldRegExp'])?'image':null;}const _0x3c18b9=this['getDefinition'](_0x4b8bac);return _0x3c18b9&&_0x3c18b9['type']?_0x3c18b9['type']:'text';}['getMergeFieldHeight'](_0x479e9f){const _0xbc62c4=this['getDefinition'](_0x479e9f);return _0xbc62c4&&'block'===_0xbc62c4['type']?_0xbc62c4['height']||0x78:_0xbc62c4&&'image'===_0xbc62c4['type']?_0xbc62c4['height']||0x190:null;}['getMergeFieldWidth'](_0x194ebf){const _0x5dfc75=this['getDefinition'](_0x194ebf);return _0x5dfc75&&'image'===_0x5dfc75['type']?_0x5dfc75['width']||0x190:null;}['getDocumentMergeFieldsIds'](){const _0x136280=new Set();for(const _0x599bd6 of this['_mergeFieldElements'])'$graveyard'!==_0x599bd6['root']['rootName']&&('image'===this['getMergeFieldType'](_0x599bd6)?_0x136280['add'](this['unwrapAffixes'](_0x599bd6['getAttribute']('src'))):_0x136280['add'](_0x599bd6['getAttribute']('id')));return Array['from'](_0x136280);}['getMergeFieldsIds'](){const _0x4c5817=this['flattenedMergeFieldDefinitions']['map'](_0xba3df3=>_0xba3df3['id']),_0x37da2d=this['getDocumentMergeFieldsIds']();return Array['from'](new Set([..._0x4c5817,..._0x37da2d]));}['getDefinition'](_0x2c19b8){return this['flattenedMergeFieldDefinitions']['find'](_0x511069=>_0x511069['id']===_0x2c19b8)||null;}['refreshMergeFields'](){this['_mergeFieldElements']['forEach'](_0x4c3222=>{'$graveyard'!==_0x4c3222['root']['rootName']&&this['editor']['editing']['reconvertItem'](_0x4c3222);});}['wrapInAffixes'](_0x3dcf22){return this['_mergeFieldPrefix']+_0x3dcf22+this['_mergeFieldSuffix'];}['unwrapAffixes'](_0x4e948d){return _0x4e948d['slice'](this['_mergeFieldPrefix']['length'],_0x4e948d['length']-this['_mergeFieldSuffix']['length']);}['_getFlattenedMergeFieldDefinitions'](){const _0x2f7b60=new Set(),_0x515c02=this['editor'];return _0x515c02['config']['get']('mergeFields.definitions')['reduce']((_0x19f419,_0x20f6b2)=>{if('groupId'in _0x20f6b2){if(_0x2f7b60['has'](_0x20f6b2['groupId']))throw new _0x16a1d0('merge-fields-duplicate-group-id',_0x515c02,{'duplicateId':_0x20f6b2['groupId']});_0x2f7b60['add'](_0x20f6b2['groupId']);}return'groupId'in _0x20f6b2?function(_0x110853,_0x5d5999){for(const _0xa97305 of _0x5d5999['definitions'])_0x110853=_0x110853['concat'](_0xa97305);return _0x110853;}['bind'](_0x515c02)(_0x19f419,_0x20f6b2):_0x19f419['concat'](_0x20f6b2);},new Array());}['_validateConfig'](){const _0x771156=/^['"`!#%:;=@{}~$()*+/?[\\\]^|]+$/;if(!_0x771156['test'](this['_mergeFieldPrefix'])||!_0x771156['test'](this['_mergeFieldSuffix']))throw new _0x16a1d0('merge-fields-invalid-prefix-or-suffix',this,{'prefix':this['_mergeFieldPrefix'],'suffix':this['_mergeFieldSuffix']});if(this['_mergeFieldPrefix']['length']>0x8||this['_mergeFieldSuffix']['length']>0x8)throw new _0x16a1d0('merge-fields-prefix-or-suffix-too-long',this,{'prefix':this['_mergeFieldPrefix'],'suffix':this['_mergeFieldSuffix'],'limit':0x8});const _0x5f43b8=new Set();if(this['flattenedMergeFieldDefinitions']['map'](_0x4d8677=>{if(!A['test'](_0x4d8677['id']))throw new _0x16a1d0('merge-fields-invalid-id',this,{'incorrectId':_0x4d8677['id']});if(_0x5f43b8['has'](_0x4d8677['id']))throw new _0x16a1d0('merge-fields-duplicate-merge-field-id',this,{'duplicateId':_0x4d8677['id']});_0x5f43b8['add'](_0x4d8677['id']);}),this['_mergeFieldPrefix']===this['_mergeFieldSuffix'])throw new _0x16a1d0('merge-fields-prefix-and-suffix-must-differ',this);const _0x250b64=this['editor']['config']['get']('mergeFields.previewModes'),_0xe770fe=['$labels','$defaultValues','$dataSets'];if(!_0x250b64['length']||!_0x250b64['every'](_0x486365=>_0xe770fe['includes'](_0x486365)))throw new _0x16a1d0('merge-fields-invalid-preview-modes-configuration',this,{'invalidConfig':_0x250b64});const _0x1dfb77=new Set(),_0x1a84c2=this['editor']['config']['get']('mergeFields.dataSets');for(const _0x39304d of _0x1a84c2){if(_0x1dfb77['has'](_0x39304d['id']))throw new _0x16a1d0('merge-fields-duplicate-data-set-id',this,{'duplicateId':_0x39304d['id']});_0x1dfb77['add'](_0x39304d['id']);}}['_getAvailablePreviewModes'](){const _0x19eb58=this['editor']['config']['get']('mergeFields.previewModes'),_0x375c27=[];if(_0x19eb58['includes']('$labels')&&_0x375c27['push']('$labels'),_0x19eb58['includes']('$defaultValues')&&_0x375c27['push']('$defaultValues'),_0x19eb58['includes']('$dataSets')){const _0x510772=this['editor']['config']['get']('mergeFields.dataSets');_0x375c27['push'](..._0x510772['map'](_0x99b50=>_0x99b50['id']));}return _0x375c27;}['_defineSchema'](){const _0x582944=this['editor']['model']['schema'];_0x582944['register']('mergeField',{'inheritAllFrom':'$inlineObject','allowAttributes':['id'],'allowWhere':'$text'}),_0x582944['register']('mergeFieldBlock',{'inheritAllFrom':'$blockObject','allowAttributes':['id']});}['_defineConverters'](){const _0x4e7822=this['editor']['conversion'];_0x4e7822['for']('upcast')['add'](_0x29a098=>{_0x29a098['on']('text',(_0x5b5972,_0x4952be,_0x28426a)=>{const {writer:_0x42d100,safeInsert:_0x31a782}=_0x28426a,{viewItem:_0x5c9df7}=_0x4952be,_0x5b25ad=_0x5c9df7['data']['split'](this['_mergeFieldRegExp'])['filter'](_0x5a86ea=>_0x5a86ea);if(0x1===_0x5b25ad['length']&&!_0x5b25ad[0x0]['match'](this['_mergeFieldRegExp']))return;if(!_0x4952be['modelRange'])return;const _0x43ac7c=_0x42d100['createElement']('$cursor');_0x42d100['insert'](_0x43ac7c,_0x4952be['modelCursor']);const _0x1b9144=[];for(const _0xf6a013 of _0x4952be['modelRange']['getItems']()){if(!_0xf6a013['is']('$textProxy'))continue;const _0xd77c3d=_0xf6a013['textNode']['data']['matchAll'](this['_mergeFieldRegExp']),_0xa0f59a=_0xf6a013['parent'],_0xd74068=_0xf6a013['textNode']['startOffset'];for(const _0x4ed788 of[..._0xd77c3d]['reverse']()){const _0x141039=_0x4ed788[0x0],_0x2596d7=_0x42d100['createPositionAt'](_0xa0f59a,_0x4ed788['index']+_0xd74068),_0x361611=_0x2596d7['getShiftedBy'](_0x141039['length']),_0x2aaf66=_0x42d100['createRange'](_0x2596d7,_0x361611),_0x1cbee1=this['unwrapAffixes'](_0x141039),_0x5af18b=this['getMergeFieldType'](_0x1cbee1),_0x286790='block'==_0x5af18b?'mergeFieldBlock':'mergeField',_0x5565e3=_0x42d100['createElement'](_0x286790,{'id':_0x1cbee1});_0x42d100['remove'](_0x2aaf66),_0x42d100['insert'](_0x5565e3,_0x2596d7),'block'==_0x5af18b&&_0x1b9144['push'](_0x5565e3);}}_0x1b9144['reverse']();for(const _0x9a88d4 of _0x1b9144){const _0x319833=_0x42d100['createPositionBefore'](_0x9a88d4);_0x42d100['remove'](_0x9a88d4),_0x31a782(_0x9a88d4,_0x319833);}_0x4952be['modelCursor']=_0x42d100['createPositionBefore'](_0x43ac7c),_0x4952be['modelRange']=_0x42d100['createRange'](_0x4952be['modelRange']['start'],_0x4952be['modelCursor']),_0x42d100['remove'](_0x43ac7c);},{'priority':_0x24916e['get']('lowest')-0x1});}),_0x4e7822['for']('upcast')['elementToElement']({'view':{'name':'span','attributes':'data-ck-merge-field'},'model':(_0x49c31e,{writer:_0x25de55})=>_0x25de55['createElement']('mergeField',{'id':_0x49c31e['getAttribute']('data-ck-merge-field')})}),_0x4e7822['for']('upcast')['elementToElement']({'view':{'name':'div','attributes':'data-ck-merge-field'},'model':(_0x562c3f,{writer:_0x1a7d0c})=>_0x1a7d0c['createElement']('mergeFieldBlock',{'id':_0x562c3f['getAttribute']('data-ck-merge-field')})}),_0x4e7822['for']('upcast')['add'](this['_upcastSrcAttributeFromClipboard']()),_0x4e7822['for']('editingDowncast')['elementToElement']({'model':'mergeField','view':(_0xa9d52a,{writer:_0x86ec05})=>this['_createMergeFieldWidget'](_0xa9d52a,_0x86ec05,'text')}),_0x4e7822['for']('dataDowncast')['elementToElement']({'model':'mergeField','view':(_0x16cd79,{writer:_0x516af1,options:_0x17259b})=>this['_createTextualMergeField'](_0x16cd79,_0x516af1,_0x17259b)}),_0x4e7822['for']('editingDowncast')['elementToElement']({'model':'mergeFieldBlock','view':(_0x3768ba,{writer:_0xdaf616})=>this['_createMergeFieldWidget'](_0x3768ba,_0xdaf616,'block')}),_0x4e7822['for']('dataDowncast')['elementToElement']({'model':'mergeFieldBlock','view':(_0x5d6872,{writer:_0x3c9b0a,options:_0x4c9aa6})=>this['_createTextualMergeField'](_0x5d6872,_0x3c9b0a,_0x4c9aa6)}),_0x4e7822['for']('editingDowncast')['add'](this['_downcastSrcAttributeToEditing']('imageBlock'))['add'](this['_downcastSrcAttributeToEditing']('imageInline')),_0x4e7822['for']('dataDowncast')['add'](this['_downcastSrcAttributeToData']('imageBlock'))['add'](this['_downcastSrcAttributeToData']('imageInline'));}['_upcastSrcAttributeFromClipboard'](){return _0x543f68=>{_0x543f68['on']('element:img',(_0xd5df8a,_0x30f0b7,_0x37870f)=>{_0x37870f['consumable']['test'](_0x30f0b7['viewItem'],{'attributes':'data-ck-merge-field'})&&(_0x37870f['writer']['setAttribute']('src',this['wrapInAffixes'](_0x30f0b7['viewItem']['getAttribute']('data-ck-merge-field')),_0x30f0b7['modelCursor']['nodeBefore']),_0x37870f['consumable']['consume'](_0x30f0b7['viewItem'],{'attributes':'data-ck-merge-field'}));},{'priority':'low'});};}['_downcastSrcAttributeToData'](_0x3c7c04){const _0x153e42=this['editor']['plugins']['get']('ImageUtils'),_0x740676=(_0x23bdc4,_0x1b2429,_0xad98b3)=>{if(!0x1!==_0xad98b3['consumable']['test'](_0x1b2429['item'],_0x23bdc4['name']))return;if(!String(_0x1b2429['attributeNewValue'])['match'](this['_mergeFieldRegExp']))return;const _0x4454a9=_0xad98b3['writer'],_0x1d7954=_0xad98b3['mapper']['toViewElement'](_0x1b2429['item']),_0x190992=_0x153e42['findViewImgElement'](_0x1d7954),_0x26d3eb=String(_0x1b2429['attributeNewValue']),_0x1d9a79=this['unwrapAffixes'](_0x26d3eb),_0x1bbc18=_0xad98b3['options']['mergeFieldsData'];if(_0xad98b3['options']['isClipboardPipeline']&&'$labels'!==this['previewMode']){let _0x677683;return _0x677683='$defaultValues'===this['previewMode']?this['getMergeFieldDefaultValue'](_0x1d9a79)||this['getLabel'](_0x1d9a79)||this['wrapInAffixes'](_0x1d9a79):this['getMergeFieldValue'](_0x1d9a79,this['previewMode'])||this['getMergeFieldDefaultValue'](_0x1d9a79)||this['getLabel'](_0x1d9a79)||this['wrapInAffixes'](_0x1d9a79),_0x4454a9['setAttribute']('data-ck-merge-field',_0x1d9a79,_0x190992),void _0x4454a9['setAttribute'](_0x1b2429['attributeKey'],_0x677683,_0x190992);}const _0x4176fd=_0x1bbc18&&_0x1bbc18[_0x1d9a79]?_0x1bbc18[_0x1d9a79]:_0x26d3eb;_0x4454a9['setAttribute'](_0x1b2429['attributeKey'],_0x4176fd,_0x190992);};return _0x11de69=>{_0x11de69['on']('attribute:src:'+_0x3c7c04,_0x740676,{'priority':'low'});};}['_downcastSrcAttributeToEditing'](_0x1035f2){const _0x1fd723=this['editor']['plugins']['get']('ImageUtils'),_0x2c9dc1=(_0x391e01,_0x5e3615,_0x1b12e8)=>{if(!0x1!==_0x1b12e8['consumable']['test'](_0x5e3615['item'],_0x391e01['name']))return;if(!String(_0x5e3615['attributeNewValue'])['match'](this['_mergeFieldRegExp']))return;const _0x565ee6=_0x1b12e8['writer'],_0x1633fc=_0x1b12e8['mapper']['toViewElement'](_0x5e3615['item']),_0x4559d6=_0x1fd723['findViewImgElement'](_0x1633fc),_0x5835f1=String(_0x5e3615['attributeNewValue']),_0x56e4e2=this['unwrapAffixes'](_0x5835f1),_0x3c8ccc=this['getMergeFieldDefaultValue'](_0x56e4e2),_0x55ccfa='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAAtJREFUGFdjYAACAAAFAAGq1chRAAAAAElFTkSuQmCC';let _0x558ea6,_0x52d24a='',_0x292711='';if('$labels'===this['previewMode'])_0x558ea6=_0x55ccfa;else{if('$defaultValues'===this['previewMode'])_0x3c8ccc?(_0x558ea6=_0x3c8ccc,_0x292711='\x20ck-merge-field-image_with-value'):(_0x558ea6=_0x55ccfa,_0x52d24a='WARNING_MISSING_DEFAULT_VALUE',_0x292711='\x20ck-merge-field-image_with-warning\x20ck-merge-field-image_with-warning_no-default');else{const _0x16bf1f=this['getMergeFieldValue'](_0x56e4e2,this['previewMode']);_0x16bf1f?(_0x558ea6=_0x16bf1f,_0x292711='\x20ck-merge-field-image_with-value'):_0x3c8ccc?(_0x558ea6=_0x3c8ccc,_0x292711='\x20ck-merge-field-image_with-warning\x20ck-merge-field-image_with-warning_default-value-used',_0x52d24a='WARNING_MISSING_DATA_USED_DEFAULT_VALUE'):(_0x558ea6=_0x55ccfa,_0x292711='\x20ck-merge-field-image_with-warning\x20ck-merge-field-image_with-warning_missing-data',_0x52d24a='WARNING_MISSING_DATA');}}if(_0x565ee6['addClass']('ck-merge-field-image'+_0x292711,_0x1633fc),_0x565ee6['setAttribute'](_0x5e3615['attributeKey'],_0x558ea6,_0x4559d6),'$labels'===this['previewMode']){const _0x3c8d80='imageInline'===_0x1035f2?'span':'div',_0x516d25=this['_mergeFieldPrefix'],_0x5dc63f=this['_mergeFieldSuffix'],_0x5b470c=_0x565ee6['createContainerElement'](_0x3c8d80,{'class':'ck-merge-field','data-cke-tooltip-instant':'true'},[_0x565ee6['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0x588f44){const _0x204a86=this['toDomElement'](_0x588f44);return _0x204a86['innerHTML']=_0x516d25,_0x204a86;}),_0x565ee6['createContainerElement']('span',{'class':'ck-merge-field__content'},_0x565ee6['createText'](this['getLabel'](_0x56e4e2)||_0x56e4e2)),_0x565ee6['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0x17baf0){const _0x4821ae=this['toDomElement'](_0x17baf0);return _0x4821ae['innerHTML']=_0x5dc63f,_0x4821ae;})]);_0x565ee6['insert'](_0x565ee6['createPositionAt'](_0x1633fc,'end'),_0x5b470c),_0x565ee6['setAttribute']('data-cke-tooltip-text',this['getLabel'](_0x56e4e2)||_0x56e4e2,_0x5b470c);}else{if(_0x52d24a&&['WARNING_MISSING_DEFAULT_VALUE','WARNING_MISSING_DATA']['includes'](_0x52d24a)){const _0x357ab4='imageInline'===_0x1035f2?'span':'div',_0x4f6088=_0x292711['replace'](/ck-merge-field-image/g,'ck-merge-field'),_0x18dba2=_0x565ee6['createContainerElement'](_0x357ab4,{'class':'ck-merge-field'+_0x4f6088,'data-cke-tooltip-instant':'true'},[_0x565ee6['createContainerElement']('span',{'class':'ck-merge-field__content'},_0x565ee6['createText'](this['getLabel'](_0x56e4e2)||_0x56e4e2))]),_0x2ac8ee=_0x565ee6['createUIElement']('span',{'class':'ck-merge-field__icon'},function(_0x50ea5c){const _0xf609c9=this['toDomElement'](_0x50ea5c),_0x367948=new _0x41b78d();return _0x367948['set']({'content':_0x422ef8}),_0x367948['render'](),_0xf609c9['appendChild'](_0x367948['element']),_0xf609c9;});_0x565ee6['insert'](_0x565ee6['createPositionAt'](_0x18dba2,'end'),_0x2ac8ee),_0x565ee6['insert'](_0x565ee6['createPositionAt'](_0x1633fc,'end'),_0x18dba2),_0x565ee6['setCustomProperty']('mergeFieldStatus',_0x52d24a,_0x18dba2),_0x565ee6['setAttribute']('data-cke-tooltip-text',this['getLabel'](_0x56e4e2)||_0x56e4e2,_0x18dba2);}}_0x565ee6['setAttribute']('data-merge-field-name',_0x56e4e2,_0x1633fc),_0x52d24a&&_0x565ee6['setCustomProperty']('mergeFieldStatus',_0x52d24a,_0x1633fc);};return _0x2de729=>{_0x2de729['on']('attribute:src:'+_0x1035f2,_0x2c9dc1,{'priority':'low'});};}['_setupTooltipsTogglingForImageMergeField'](_0x58f090,_0x2006d2){if(!_0x2006d2['target'])return null;const _0x3f15ce=_0x2006d2['target']['parentElement'];return _0x3f15ce&&_0x3f15ce['classList']['contains']('ck-merge-field-image')?new _0x3f5f1f(_0x3f15ce,_0x1be115=>{const _0x2bf4ba=_0x1be115['target'],_0x42038d=_0x2bf4ba['querySelector']('.ck-merge-field'),_0x2ea6bf=_0x2bf4ba['querySelector']('.ck-merge-field__content');_0x42038d&&_0x2ea6bf&&(_0x2ea6bf['scrollWidth']>_0x2ea6bf['getBoundingClientRect']()['width']?_0x42038d['removeAttribute']('data-cke-tooltip-disabled'):_0x42038d['setAttribute']('data-cke-tooltip-disabled','true'));}):null;}['_createMergeFieldWidget'](_0x5ebd51,_0x313ac7,_0x3e4fd6){const {label:_0x3dcfd0,classes:_0x31a298,status:_0x13e04c,height:_0x5bcabd}=this['_prepareViewElementData'](_0x5ebd51),_0x1575a1=this['_mergeFieldPrefix'],_0x47c38a=this['_mergeFieldSuffix'],_0x232987=this['editor']['config']['get']('mergeFields.sanitizeHtml'),_0x87bcdf='text'===_0x3e4fd6?'span':'div';let _0x1769c6;if('$labels'===this['previewMode'])_0x1769c6=_0x313ac7['createContainerElement'](_0x87bcdf,{'class':_0x31a298},[_0x313ac7['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0xca2456){const _0x2dbaea=this['toDomElement'](_0xca2456);return _0x2dbaea['innerHTML']=_0x1575a1,_0x2dbaea;}),_0x313ac7['createContainerElement']('span',{'class':'ck-merge-field__content'},_0x313ac7['createText'](String(_0x3dcfd0))),_0x313ac7['createUIElement']('span',{'class':'ck-merge-field__affix'},function(_0x19d7f1){const _0xd5f64c=this['toDomElement'](_0x19d7f1);return _0xd5f64c['innerHTML']=_0x47c38a,_0xd5f64c;})]);else{if(_0x13e04c){const _0x2f78c0=this['_shouldPreviewHtmlValues']?_0x313ac7['createRawElement']('span',{'class':'ck-merge-field__content'},function(_0x396bda,_0x14cd01){_0x14cd01['setContentOf'](_0x396bda,_0x232987(_0x3dcfd0)['html']);}):_0x313ac7['createContainerElement']('span',{'class':'ck-merge-field__content'},_0x313ac7['createText'](_0x3dcfd0));if(_0x1769c6=_0x313ac7['createContainerElement'](_0x87bcdf,{'class':_0x31a298},[_0x2f78c0]),'text'===_0x3e4fd6||['WARNING_MISSING_DEFAULT_VALUE','WARNING_MISSING_DATA']['includes'](_0x13e04c)){const _0x10c165=_0x313ac7['createUIElement']('span',{'class':'ck-merge-field__icon'},function(_0x557be7){const _0x3d6e1b=this['toDomElement'](_0x557be7),_0xe3884f=new _0x41b78d();return _0xe3884f['set']({'content':_0x422ef8}),_0xe3884f['render'](),_0x3d6e1b['appendChild'](_0xe3884f['element']),_0x3d6e1b;});_0x313ac7['insert'](_0x313ac7['createPositionAt'](_0x1769c6,'end'),_0x10c165);}_0x313ac7['setCustomProperty']('mergeFieldStatus',_0x13e04c,_0x1769c6);}else{const _0x218e4a=this['_shouldPreviewHtmlValues']?_0x313ac7['createRawElement'](_0x87bcdf,{},function(_0x4f4605,_0x36a690){_0x36a690['setContentOf'](_0x4f4605,_0x232987(_0x3dcfd0)['html']);}):_0x313ac7['createText'](_0x3dcfd0);_0x1769c6=_0x313ac7['createContainerElement'](_0x87bcdf,{'class':_0x31a298},_0x218e4a);}}if('block'===_0x3e4fd6){const _0x106829=_0x313ac7['createContainerElement']('div',{'class':'ck-merge-field-block'},[_0x1769c6]);if(('$labels'===this['previewMode']||_0x13e04c&&['WARNING_MISSING_DEFAULT_VALUE','WARNING_MISSING_DATA']['includes'](_0x13e04c))&&_0x313ac7['setAttribute']('style','height:\x20'+_0x5bcabd+'px',_0x106829),_0x1769c6['hasClass']('ck-merge-field_with-value'))_0x313ac7['addClass']('ck-merge-field-block_with-value',_0x106829);else{if(_0x1769c6['hasClass']('ck-merge-field_with-warning')){for(const _0x3da98e of _0x1769c6['getClassNames']())if('ck-merge-field'!==_0x3da98e){const _0x3f4c35=_0x3da98e['replace']('ck-merge-field','ck-merge-field-block');_0x313ac7['addClass'](_0x3f4c35,_0x106829);}_0x313ac7['setCustomProperty']('mergeFieldStatus',_0x13e04c,_0x106829);}}return _0x313ac7['setCustomProperty']('mergeFieldBlock',!0x0,_0x106829),_0x313ac7['setAttribute']('data-merge-field-name',_0x5ebd51['getAttribute']('id'),_0x106829),_0x429e9a(_0x106829,_0x313ac7,{'hasSelectionHandle':!0x0});}return _0x313ac7['setCustomProperty']('mergeField',!0x0,_0x1769c6),_0x313ac7['setAttribute']('data-merge-field-name',_0x5ebd51['getAttribute']('id'),_0x1769c6),_0x429e9a(_0x1769c6,_0x313ac7);}['_prepareViewElementData'](_0x37f8ed){const _0x485f81=_0x37f8ed['getAttribute']('id'),_0xb6fa80=this['getDefinition'](_0x485f81);if(!_0xb6fa80)return'$labels'===this['previewMode']?{'label':_0x485f81,'classes':'ck-merge-field'}:{'label':_0x485f81,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_missing-definition','status':'WARNING_MISSING_DATA'};const _0x4eb54f=this['getLabel'](_0x485f81)||_0x485f81,_0x2edd67=this['getMergeFieldDefaultValue'](_0x485f81),_0x48d363=this['getMergeFieldHeight'](_0x485f81);if('$labels'===this['previewMode'])return{'label':_0x4eb54f,'height':_0x48d363,'classes':'ck-merge-field'};if('$defaultValues'===this['previewMode'])return _0x2edd67?{'label':_0x2edd67,'height':_0x48d363,'classes':'ck-merge-field\x20ck-merge-field_with-value'}:{'label':_0x4eb54f,'height':_0x48d363,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_no-default','status':'WARNING_MISSING_DEFAULT_VALUE'};const _0x1cf061=this['getMergeFieldValue'](_0xb6fa80['id'],this['previewMode']);return _0x1cf061?{'label':_0x1cf061,'height':_0x48d363,'classes':'ck-merge-field\x20ck-merge-field_with-value'}:_0x2edd67?{'label':_0x2edd67,'height':_0x48d363,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_default-value-used','status':'WARNING_MISSING_DATA_USED_DEFAULT_VALUE'}:{'label':_0x4eb54f,'height':_0x48d363,'classes':'ck-merge-field\x20ck-merge-field_with-warning\x20ck-merge-field_with-warning_missing-data','status':'WARNING_MISSING_DATA'};}['_createTextualMergeField'](_0x382447,_0x1d543d,_0xd49be1){const _0x11178b=_0x382447['getAttribute']('id');let _0x5ae515;if(_0xd49be1['isClipboardPipeline']&&'$labels'!==this['previewMode'])return this['_downcastForClipboard'](_0x11178b,_0x1d543d);const _0x5607b4=_0xd49be1['mergeFieldsData'],_0x42314f=_0x5607b4&&_0x5607b4[_0x11178b]?_0x5607b4[_0x11178b]:this['wrapInAffixes'](_0x11178b);if(_0x5607b4)_0x5ae515=_0x1d543d['createRawElement']('span',{},function(_0x3480c0,_0x828f4e){_0x828f4e['setContentOf'](_0x3480c0,String(_0x42314f));});else{_0x5ae515=_0x1d543d['createContainerElement']('span');const _0x2d6598=_0x1d543d['createText'](_0x42314f);_0x1d543d['insert'](_0x1d543d['createPositionAt'](_0x5ae515,'end'),_0x2d6598);}return _0x1d543d['setCustomProperty']('dataPipeline:transparentRendering',!0x0,_0x5ae515),_0x5ae515;}['_downcastForClipboard'](_0x1502bd,_0x4adf4e){const _0x7fbf5f='block'===this['getMergeFieldType'](_0x1502bd)?'div':'span';let _0x33fd3a,_0x4600d2;_0x33fd3a='$defaultValues'===this['previewMode']?this['getMergeFieldDefaultValue'](_0x1502bd)||this['getLabel'](_0x1502bd)||this['wrapInAffixes'](_0x1502bd):this['getMergeFieldValue'](_0x1502bd,this['previewMode'])||this['getMergeFieldDefaultValue'](_0x1502bd)||this['getLabel'](_0x1502bd)||this['wrapInAffixes'](_0x1502bd);const _0x29508f=this['editor']['config']['get']('mergeFields.sanitizeHtml');return _0x4600d2=this['_shouldPreviewHtmlValues']?_0x4adf4e['createRawElement'](_0x7fbf5f,{'data-ck-merge-field':_0x1502bd},function(_0x1a1fe4,_0x9073){_0x9073['setContentOf'](_0x1a1fe4,_0x29508f(_0x33fd3a)['html']);}):_0x4adf4e['createContainerElement'](_0x7fbf5f,{'data-ck-merge-field':_0x1502bd},_0x4adf4e['createText'](_0x33fd3a)),_0x4600d2;}['_validatePreviewMode'](_0x5bd2a3){if(!this['availablePreviewModes']['includes'](_0x5bd2a3))throw new _0x16a1d0('merge-fields-invalid-preview-mode-set',this,{'availablePreviewModes':this['availablePreviewModes'],'previewMode':_0x5bd2a3});}['_trackAddedMergeFields'](){for(const _0x599153 of this['editor']['model']['document']['differ']['getChanges']({'includeChangesInGraveyard':!0x0})){if('insert'!==_0x599153['type']||'$text'===_0x599153['name'])continue;if('mergeField'===_0x599153['name']||'mergeFieldBlock'===_0x599153['name']){this['_mergeFieldElements']['add'](_0x599153['position']['nodeAfter']);continue;}if('imageInline'===_0x599153['name']||'imageBlock'===_0x599153['name']&&_0x599153['attributes']['get']('src')&&String(_0x599153['attributes']['get']('src'))['match'](this['_mergeFieldRegExp'])){this['_mergeFieldElements']['add'](_0x599153['position']['nodeAfter']);continue;}const _0x132bcb=this['editor']['model']['createRangeIn'](_0x599153['position']['nodeAfter']);for(const _0xa9f335 of _0x132bcb['getItems']())_0xa9f335['is']('element')&&this['isMergeField'](_0xa9f335)&&this['_mergeFieldElements']['add'](_0xa9f335);}}['_registerConversionPostFixer'](){const _0xff743d=this['editor'];_0xff743d['model']['document']['registerPostFixer'](_0x328a01=>{if(!_0x328a01['batch']['isLocal'])return!0x1;const _0x1a5593=[],_0x12135b=new Set(),_0x377f96=this['_mergeFieldRegExp'];let _0x2b6a15=!0x1;for(const _0x438ffc of _0xff743d['model']['document']['differ']['getChanges']())if('insert'===_0x438ffc['type']||'remove'===_0x438ffc['type']){let _0x1bb34a='$text'==_0x438ffc['name']?_0x438ffc['position']['parent']:_0x438ffc['position']['nodeAfter'];if(!_0x1bb34a)continue;_0x1bb34a['is']('$text')&&(_0x1bb34a=_0x1bb34a['parent']),_0x15aa35(_0x1bb34a);}for(const _0x50dd4f of _0x1a5593['reverse']()){const {match:_0x548377,item:_0x2d2df7}=_0x50dd4f,_0x250dc8=_0x328a01['createPositionAt'](_0x2d2df7,_0x548377['index']),_0x59a197=_0x250dc8['getShiftedBy'](_0x548377[0x0]['length']),_0x23c61b=_0x328a01['createRange'](_0x250dc8,_0x59a197),_0x3c2f6e=_0x548377[0x0],_0x4d22fe=this['unwrapAffixes'](_0x3c2f6e),_0x2c7eed=_0xff3064(_0x23c61b),_0x10e30c=this['getMergeFieldType'](_0x4d22fe);if(A['test'](_0x4d22fe)){if(_0x2c7eed['set']('id',_0x4d22fe),'block'===_0x10e30c){const _0x390928=_0x328a01['createElement']('mergeFieldBlock',{'id':_0x4d22fe});_0x328a01['remove'](_0x23c61b),_0xff743d['model']['insertObject'](_0x390928,null,null,{'setSelection':'on','findOptimalPosition':void 0x0});}else{if('image'===_0x10e30c){const _0x1831fb=_0x328a01['createElement']('imageBlock',{'src':this['wrapInAffixes'](_0x4d22fe)});_0x328a01['remove'](_0x23c61b),_0xff743d['model']['insertObject'](_0x1831fb,null,null,{'setSelection':'on','findOptimalPosition':void 0x0});}else{const _0x4c5e4c=_0x328a01['createElement']('mergeField',_0x2c7eed);_0xff743d['model']['schema']['checkChild'](_0x23c61b['start'],'mergeField')?_0xff743d['model']['insertObject'](_0x4c5e4c,_0x23c61b):_0x328a01['remove'](_0x23c61b);}}_0x2b6a15=!0x0;}}return _0x2b6a15;function _0x15aa35(_0x5739cc){let _0x39c774='',_0x3afe06=0x0;if(!_0x12135b['has'](_0x5739cc))for(const _0x395d62 of _0x5739cc['getChildren']()){const _0x32b382=_0x395d62['nextSibling'];if(_0x395d62['is']('$text')&&(''===_0x39c774&&_0x395d62['startOffset']&&(_0x3afe06=_0x395d62['startOffset']),_0x39c774+=_0x395d62['data']),!_0x32b382||_0x32b382['is']('element')){for(const _0x15419e of _0x39c774['matchAll'](_0x377f96))_0x15419e['index']=_0x15419e['index']+_0x3afe06,_0x1a5593['push']({'match':_0x15419e,'item':_0x5739cc});_0x12135b['add'](_0x5739cc),_0x39c774='';}_0x395d62['is']('element')&&_0x15aa35(_0x395d62);}}function _0xff3064(_0x2e9b7a){const _0x314b1d=_0x2e9b7a['getItems'](),_0x1e3b2a=_0x314b1d['next']()['value'],_0x56e479=new Map(_0x1e3b2a['getAttributes']());for(const _0x4d3fe3 of _0x314b1d)for(const [_0x2c1bcc,_0x4cb15e]of _0x56e479)_0x4d3fe3['getAttribute'](_0x2c1bcc)!==_0x4cb15e&&_0x56e479['delete'](_0x2c1bcc);return _0x56e479;}});}['_disableCommandOnMergeFields'](_0x55dc9a){const _0x4cf79b=this['editor'],_0x58c696=_0x4cf79b['commands']['get'](_0x55dc9a);_0x58c696&&_0x58c696['on']('set:isEnabled',(_0x535593,_0x44dd4d,_0x31c7df)=>{if(0x1==_0x31c7df){const _0x550843=_0x4cf79b['model']['document']['selection']['getSelectedElement']();_0x550843&&this['isMergeField'](_0x550843)&&(_0x535593['return']=!0x1,_0x535593['stop']());}});}}class D extends _0x5283e2{['filter'](_0x679af4){return _0x2d200e(_0x679af4,this['items']);}}class U extends _0x1c3f56{constructor(_0x9f94ea){super(_0x9f94ea),this['set']('text','');const _0x9792c3=this['bindTemplate'];this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-merge-fields-form']},'children':[{'tag':'div','attributes':{'class':['ck','ck-merge-fields-form__status']},'children':[{'text':_0x9792c3['to']('text')}]}]});}}function q(_0x4fb71b,_0xcd7f5f){const t=_0x4fb71b['t'];switch(_0xcd7f5f){case'Search\x20merge\x20field':return t('Search\x20merge\x20field');case'No\x20merge\x20fields\x20found':return t('No\x20merge\x20fields\x20found');case'No\x20merge\x20fields\x20available':return t('No\x20merge\x20fields\x20available');case'Insert\x20merge\x20field':return t('Insert\x20merge\x20field');case'Merge\x20field':return t('Merge\x20field');case'Merge\x20fields\x20preview':return t('Merge\x20fields\x20preview');case'Labels':return t('Labels');case'Default\x20values':return t('Default\x20values');case'WARNING_MISSING_DATA_USED_DEFAULT_VALUE':return t({'string':'Default\x20value\x20is\x20used.','id':'WARNING_MISSING_DATA_USED_DEFAULT_VALUE'});case'WARNING_MISSING_DEFAULT_VALUE':return t({'string':'Default\x20value\x20not\x20available.','id':'WARNING_MISSING_DEFAULT_VALUE'});case'WARNING_MISSING_DATA':return t({'string':'Value\x20not\x20available.','id':'WARNING_MISSING_DATA'});default:return _0xcd7f5f;}}class u extends _0x69e996{['licenseKey'];['_licenseKeyCheckInterval'];['_balloon'];['_balloonPanelView']=null;static get['requires'](){return['Mention',m,_0x37836b,_0x449b60];}static get['pluginName'](){return'MergeFieldsUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x4dd9da){super(_0x4dd9da),this['_removeDefaultValuesPreviewIfUnnecessary'](),this['_removeMenuBarButtonIfUnnecessary'](),this['_setupMentionConfiguration']();}['init'](){const _0x4585d2=this['editor'];_0x4585d2['ui']['componentFactory']['add']('insertMergeField',_0x187db5=>{const _0x2729c6=function(_0x17f102){const _0x4a9dad=_0x3e8411(_0x17f102);return _0x4a9dad['set']({'class':'ck-insert-merge-field-dropdown','isEnabled':!0x0}),_0x4a9dad['buttonView']['set']({'label':q(_0x17f102,'Insert\x20merge\x20field'),'icon':_0x3332b2,'tooltip':!0x0}),_0x4a9dad;}(_0x187db5);return _0x2729c6['bind']('isEnabled')['toMany']([_0x4585d2['commands']['get']('insertMergeField'),_0x4585d2['commands']['get']('insertMergeFieldBlock'),_0x4585d2['commands']['get']('insertMergeFieldImage')],'isEnabled',(..._0x5ee468)=>_0x5ee468['some'](_0x55ac2f=>_0x55ac2f)),_0x2729c6['once']('change:isOpen',()=>{const _0x317366={'insertInline':_0x4585d2['commands']['get']('insertMergeField'),'insertBlock':_0x4585d2['commands']['get']('insertMergeFieldBlock'),'insertImage':_0x4585d2['commands']['get']('insertMergeFieldImage')},_0x5a0ece=function(_0x211ba2,_0x2f5396,_0x304000){const _0x67d4a4=new D(_0x211ba2),_0x4edfec=[],_0x387780=[];for(const _0x38acf6 of _0x2f5396)if('groupId'in _0x38acf6){const _0x4cf233=C(_0x211ba2,_0x38acf6['groupLabel']||_0x38acf6['groupId'],_0x38acf6['definitions'],_0x304000);_0x4cf233['delegate']('execute')['to'](_0x67d4a4),_0x387780['push'](_0x4cf233);}else _0x4edfec['push'](_0x38acf6);if(_0x4edfec['length']){const _0x16ea49=C(_0x211ba2,'Other',_0x4edfec,_0x304000);_0x16ea49['delegate']('execute')['to'](_0x67d4a4),_0x387780['push'](_0x16ea49);}return _0x67d4a4['items']['addMany'](_0x387780),_0x67d4a4;}(_0x187db5,_0x4585d2['config']['get']('mergeFields.definitions'),_0x317366);_0x5a0ece['delegate']('execute')['to'](_0x2729c6),_0x2729c6['on']('execute',(_0xd9c73c,_0x5a80c4)=>{const _0x5e0c22=_0x4585d2['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x5a80c4);'image'===_0x5e0c22?_0x4585d2['execute']('insertMergeFieldImage',_0x5a80c4):'block'===_0x5e0c22?_0x4585d2['execute']('insertMergeFieldBlock',_0x5a80c4):_0x4585d2['execute']('insertMergeField',_0x5a80c4),_0x4585d2['editing']['view']['focus']();});const _0x47536c=function(_0x47f202,_0x15a65c){return new _0xc7d652(_0x47f202,{'filteredView':_0x15a65c,'queryView':{'label':q(_0x47f202,'Search\x20merge\x20field')},'class':'ck-merge-fields-search','infoView':{'text':{'notFound':{'primary':q(_0x47f202,'No\x20merge\x20fields\x20found')},'noSearchableItems':{'primary':q(_0x47f202,'No\x20merge\x20fields\x20available')}}}});}(_0x187db5,_0x5a0ece);_0x2729c6['panelView']['children']['add'](_0x47536c),_0x2729c6['on']('change:isOpen',(_0xa80b50,_0x326167,_0xd2628)=>{_0xd2628&&_0x47536c['reset']();});}),_0x2729c6;}),_0x4585d2['ui']['componentFactory']['add']('menuBar:insertMergeField',_0x305016=>{const _0x1b7aec=new _0x54112d(_0x305016),_0x56a7f0={'insertInline':_0x4585d2['commands']['get']('insertMergeField'),'insertBlock':_0x4585d2['commands']['get']('insertMergeFieldBlock'),'insertImage':_0x4585d2['commands']['get']('insertMergeFieldImage')};_0x1b7aec['buttonView']['set']({'label':q(_0x305016,'Merge\x20field'),'icon':_0x3332b2}),_0x1b7aec['bind']('isEnabled')['toMany']([...Object['values'](_0x56a7f0)],'isEnabled',(..._0x47a195)=>_0x47a195['some'](_0x1bd4ff=>_0x1bd4ff));const _0x136072=[],_0x4f9857=new _0x3cd9f7(_0x305016);for(const _0x58aa44 of _0x4585d2['config']['get']('mergeFields.definitions'))if('groupId'in _0x58aa44){const _0x11e26e=new _0x574641(_0x305016,_0x1b7aec),_0x5dc83b=z(_0x305016,_0x58aa44,_0x56a7f0);_0x11e26e['children']['add'](_0x5dc83b),_0x5dc83b['delegate']('execute')['to'](_0x1b7aec),_0x4f9857['items']['add'](_0x11e26e);}else _0x136072['push'](_0x58aa44);if(_0x136072['length']){if(0x0===_0x4f9857['items']['length'])for(const _0x5c0e3e of _0x136072){let _0x30bb05;_0x30bb05='block'===_0x5c0e3e['type']?_0x56a7f0['insertBlock']:'image'===_0x5c0e3e['type']?_0x56a7f0['insertImage']:_0x56a7f0['insertInline'];const _0x1ce095=G(_0x305016,_0x5c0e3e,_0x1b7aec,_0x30bb05);_0x4f9857['items']['add'](_0x1ce095);}else{const _0x1724b4=new _0x574641(_0x305016,_0x1b7aec),_0x475742=z(_0x305016,{'groupId':'Other','definitions':_0x136072},_0x56a7f0);_0x1724b4['children']['add'](_0x475742),_0x475742['delegate']('execute')['to'](_0x1b7aec),_0x4f9857['items']['add'](_0x1724b4);}}return _0x1b7aec['panelView']['children']['add'](_0x4f9857),_0x1b7aec['on']('execute',(_0x30fed4,_0x27266e)=>{const _0x2eb639=_0x4585d2['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x27266e);'image'===_0x2eb639?_0x4585d2['execute']('insertMergeFieldImage',_0x27266e):'block'===_0x2eb639?_0x4585d2['execute']('insertMergeFieldBlock',_0x27266e):_0x4585d2['execute']('insertMergeField',_0x27266e),_0x4585d2['editing']['view']['focus']();}),_0x1b7aec;});const _0x233353=_0x4585d2['config']['get']('mergeFields.previewModes'),_0x9907f4=[];if(_0x233353['includes']('$labels')&&_0x9907f4['push']({'type':'button','model':new _0x3b16e6({'withText':!0x0,'isToggleable':!0x0,'label':q(this['editor']['locale'],'Labels'),'commandValue':'$labels'})}),_0x233353['includes']('$defaultValues')&&_0x9907f4['push']({'type':'button','model':new _0x3b16e6({'withText':!0x0,'isToggleable':!0x0,'label':q(this['editor']['locale'],'Default\x20values'),'commandValue':'$defaultValues'})}),_0x233353['includes']('$dataSets')){const _0x51cfe2=_0x4585d2['config']['get']('mergeFields.dataSets');if(_0x51cfe2['length']){for(const _0x1eabf7 of _0x51cfe2)_0x9907f4['push']({'type':'button','model':new _0x3b16e6({'withText':!0x0,'isToggleable':!0x0,'label':_0x1eabf7['label']||_0x1eabf7['id'],'commandValue':_0x1eabf7['id']})});}}_0x4585d2['ui']['componentFactory']['add']('previewMergeFields',_0x8a4e48=>{const _0x1b56f8=_0x4585d2['commands']['get']('previewMergeFields'),_0x30dd00=new _0xd0cd87();for(const _0x5e5350 of _0x2f62cf(_0x9907f4))_0x5e5350['model']['bind']('isOn')['to'](_0x1b56f8,'value',_0x143124=>_0x143124===_0x5e5350['model']['commandValue']),_0x30dd00['add'](_0x5e5350);const _0x16e5e1=_0x3e8411(_0x8a4e48),_0x223863=q(_0x8a4e48,'Merge\x20fields\x20preview');return _0x16e5e1['bind']('isEnabled')['to'](_0x1b56f8),_0x512702(_0x16e5e1,_0x30dd00,{'ariaLabel':_0x223863,'role':'menu'}),_0x16e5e1['set']({'class':'ck-merge-fields-preview-dropdown'}),_0x16e5e1['buttonView']['set']({'label':_0x223863,'ariaLabel':_0x223863,'ariaLabelledBy':void 0x0,'isOn':!0x1,'icon':_0x2a313d,'tooltip':!0x0}),this['listenTo'](_0x16e5e1,'execute',_0x16fb6a=>{const {commandValue:_0x54ae72}=_0x16fb6a['source'];_0x4585d2['execute']('previewMergeFields',_0x54ae72),_0x4585d2['editing']['view']['focus']();}),_0x16e5e1;}),_0x4585d2['ui']['componentFactory']['add']('menuBar:previewMergeFields',_0x4f25f8=>{const _0x925a7c=new _0x54112d(_0x4f25f8),_0x400f43=_0x4585d2['commands']['get']('previewMergeFields');_0x925a7c['buttonView']['set']({'label':q(_0x4f25f8,'Merge\x20fields\x20preview'),'icon':_0x2a313d}),_0x925a7c['bind']('isEnabled')['to'](_0x400f43);const _0x31ea72=new _0x3cd9f7(_0x4f25f8);_0x31ea72['set']({'ariaLabel':q(_0x4f25f8,'Merge\x20fields\x20preview')});for(const _0x4ddd00 of _0x2f62cf(_0x9907f4)){const _0xca3a4=new _0x574641(_0x4f25f8,_0x925a7c),_0x52dc49=new _0x4b9254(_0x4f25f8);_0x4ddd00['model']['bind']('isOn')['to'](_0x400f43,'value',_0x3219f3=>_0x3219f3===_0x4ddd00['model']['commandValue']),_0x52dc49['isToggleable']=!0x0,_0x52dc49['bind'](...Object['keys'](_0x4ddd00['model']))['to'](_0x4ddd00['model']),_0x52dc49['delegate']('execute')['to'](_0x925a7c),_0x52dc49['on']('execute',_0x1c8f1f=>{const {commandValue:_0x2464d6}=_0x1c8f1f['source'];_0x4585d2['execute']('previewMergeFields',_0x2464d6),_0x4585d2['editing']['view']['focus']();}),_0xca3a4['children']['add'](_0x52dc49),_0x31ea72['items']['add'](_0xca3a4);}return _0x925a7c['panelView']['children']['add'](_0x31ea72),_0x925a7c;}),this['_balloon']=_0x4585d2['plugins']['get'](_0x37836b),this['listenTo'](_0x4585d2['ui'],'update',()=>{this['_updateBalloonVisibility']();},{'priority':'low'}),this['listenTo'](_0x4585d2['ui']['focusTracker'],'change:isFocused',(_0x512b3e,_0x434ed2,_0x5e93b2)=>{this['_balloon']['visibleView']&&this['_balloon']['visibleView']===this['_balloonPanelView']&&(_0x5e93b2?this['_updateBalloonVisibility']():this['_hideBalloon']());},{'priority':'low'}),this['editor']['once']('ready',this['_overrideMentionExecuteListener']['bind'](this)),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x49c2a7=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x57ae0d;for(const _0x5ce1aa in _0x49c2a7){const _0x138017=_0x5ce1aa,_0x205a42=_0x49c2a7[_0x138017];if('mergeFieldsLicenseKeyValid'==_0x205a42||'mergeFieldsLicenseKeyInvalid'==_0x205a42||'mergeFieldsLicenseKeyExpired'==_0x205a42||'mergeFieldsLicenseKeyDomainLimit'==_0x205a42||'mergeFieldsLicenseKeyNotAllowed'==_0x205a42||'mergeFieldsLicenseKeyEvaluationLimit'==_0x205a42||'mergeFieldsLicenseKeyTrialLimit'==_0x205a42||'mergeFieldsLicenseKeyUsageLimit'==_0x205a42){delete _0x49c2a7[_0x138017],_0x57ae0d=_0x205a42,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'mergeFieldsLicenseKeyInvalid'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('invalid'),'mergeFieldsLicenseKeyExpired'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('expired'),'mergeFieldsLicenseKeyDomainLimit'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('domainLimit'),'mergeFieldsLicenseKeyNotAllowed'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('featureNotAllowed','MergeFields'),'mergeFieldsLicenseKeyEvaluationLimit'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('evaluationLimit'),'mergeFieldsLicenseKeyTrialLimit'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('trialLimit'),'mergeFieldsLicenseKeyUsageLimit'==_0x57ae0d&&_0x49c2a7['_showLicenseError']('usageLimit');},0x3e8);}['destroy'](){super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}['_updateBalloonVisibility'](){const _0x410355=this['editor']['editing']['view']['document']['selection']['getSelectedElement'](),_0x524b9d=!(!_0x410355||!_0x410355['getCustomProperty']('mergeFieldStatus'));if(this['_balloon']['hasView'](this['_balloonPanelView'])&&this['_balloon']['visibleView']===this['_balloonPanelView']){if(_0x524b9d){const _0x9e6c3f=_0x410355['getCustomProperty']('mergeFieldStatus');this['_balloonPanelView']['text']=q(this['editor']['locale'],_0x9e6c3f),this['_balloon']['updatePosition'](this['_getBalloonPositionData']());}else this['_hideBalloon']();}else{if(_0x524b9d){const _0x2ccd5c=_0x410355['getCustomProperty']('mergeFieldStatus');this['_showBalloon'](q(this['editor']['locale'],_0x2ccd5c));}}}['_showBalloon'](_0x940fe1){this['_balloonPanelView']||(this['_balloonPanelView']=new U(this['editor']['locale']),this['_balloonPanelView']['text']=_0x940fe1),this['_balloon']['hasView'](this['_balloonPanelView'])||(this['_balloon']['add']({'stackId':'mergeFieldsStatus','view':this['_balloonPanelView'],'position':this['_getBalloonPositionData']()}),this['_balloon']['showStack']('mergeFieldsStatus'));}['_getBalloonPositionData'](){const _0xd5465=this['editor']['editing']['view'];return{'target':()=>{const _0x30fe18=_0xd5465['document']['selection']['getFirstRange'](),_0x5da5bc=_0xd5465['domConverter']['mapViewToDom'](_0x30fe18['getContainedElement']());return _0x5da5bc?Array['from'](_0x5da5bc['getClientRects']())[0x0]:_0xd5465['domConverter']['viewRangeToDom'](_0x30fe18);}};}['_hideBalloon'](){this['_balloon']['remove'](this['_balloonPanelView']);}['_removeDefaultValuesPreviewIfUnnecessary'](){if(Object['values'](this['editor']['plugins']['get']('MergeFieldsEditing')['getDefaultValues']())['some'](_0x5973db=>_0x5973db))return;const _0x281237=this['editor']['config']['get']('mergeFields.previewModes');_0x281237['indexOf']('$defaultValues')>-0x1&&_0x281237['length']>0x1&&(_0x281237['splice'](_0x281237['indexOf']('$defaultValues'),0x1),this['editor']['config']['set']('mergeFields.previewModes',_0x281237));}['_removeMenuBarButtonIfUnnecessary'](){const _0x28f2a1=this['editor']['config'];if(_0x28f2a1['get']('mergeFields.previewModes')){const _0x2518a4=_0x28f2a1['get']('mergeFields.previewModes');if(0x1===_0x2518a4['length']){if(_0x2518a4['includes']('$dataSets'))0x1===_0x28f2a1['get']('mergeFields.dataSets')['length']&&_0x3deb16();else _0x3deb16();}}function _0x3deb16(){const _0xc206f7=_0x28f2a1['get']('menuBar.removeItems');_0xc206f7?(_0xc206f7['push']('menuBar:previewMergeFields'),_0x28f2a1['set']('menuBar.removeItems',_0xc206f7)):_0x28f2a1['set']('menuBar.removeItems',['menuBar:previewMergeFields']);}}['_setupMentionConfiguration'](){const _0x3877d2=this['editor'],_0x3a0277=_0x3877d2['config']['get']('mention.feeds'),_0x144e8e=_0x3877d2['config']['get']('mergeFields.prefix');_0x3a0277['push']({'marker':_0x144e8e,'dropdownLimit':0xa,'feed':_0x291a82=>_0x3877d2['plugins']['get']('MergeFieldsEditing')['flattenedMergeFieldDefinitions']['filter'](_0x198f90=>{const _0x976323=_0x3877d2['commands']['get']('insertMergeField')['isEnabled'],_0x3c7f44=_0x3877d2['commands']['get']('insertMergeFieldBlock')['isEnabled'],_0x2c000=_0x3877d2['commands']['get']('insertMergeFieldImage')['isEnabled'],_0x232e81=_0x3877d2['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x198f90['id']);if('text'===_0x232e81&&!_0x976323)return!0x1;if('block'===_0x232e81&&!_0x3c7f44)return!0x1;if('image'===_0x232e81&&!_0x2c000)return!0x1;return(_0x3877d2['plugins']['get']('MergeFieldsEditing')['getLabel'](_0x198f90['id'])||_0x198f90['id'])['toLowerCase']()['includes'](_0x291a82['toLowerCase']());}),'itemRenderer':_0x2d41fc=>{const _0x436713=document['createElement']('button');return _0x436713['innerHTML']=''+(_0x2d41fc['label']||_0x2d41fc['id']),_0x436713;}}),_0x3877d2['config']['set']('mention.feeds',_0x3a0277);}['_overrideMentionExecuteListener'](){const _0x2b6af5=this['editor'];_0x2b6af5['commands']['get']('mention')['on']('execute',(_0x1c4297,_0x46e289)=>{const _0x50a044=_0x46e289[0x0];_0x50a044['marker']===_0x2b6af5['config']['get']('mergeFields.prefix')&&_0x2b6af5['model']['change'](_0x5a5bda=>{_0x5a5bda['remove'](_0x50a044['range']);const _0x2aeca6=_0x50a044['mention']['id'],_0x2aab47=_0x2b6af5['plugins']['get']('MergeFieldsEditing')['getMergeFieldType'](_0x2aeca6);'text'===_0x2aab47?_0x2b6af5['execute']('insertMergeField',_0x2aeca6):'block'===_0x2aab47?_0x2b6af5['execute']('insertMergeFieldBlock',_0x2aeca6,!0x1):_0x2b6af5['execute']('insertMergeFieldImage',_0x2aeca6,{'breakBlock':!0x0}),_0x1c4297['stop']();});},{'priority':'high'});}}function C(_0x5ef629,_0x3509a3,_0x4597dd,_0x4eb60b){const _0x2f633e=new _0x475e42(_0x5ef629,new _0x2e5f7f());_0x2f633e['label']=_0x3509a3;for(const _0x5c4eca of _0x4597dd){let _0x724a26;_0x724a26='block'===_0x5c4eca['type']?_0x4eb60b['insertBlock']:'image'===_0x5c4eca['type']?_0x4eb60b['insertImage']:_0x4eb60b['insertInline'];const _0x5b51a3=R(_0x5ef629,_0x5c4eca,_0x724a26);_0x5b51a3['delegate']('execute')['to'](_0x2f633e),_0x2f633e['items']['add'](_0x5b51a3);}return _0x2f633e;}function R(_0x3741ea,_0x372743,_0x1072d3){const _0x9c6a0c=new _0x333673(_0x3741ea),_0x12f096=new _0x2d409d(),_0x5db379=new _0x2016ca(_0x3741ea,_0x12f096);return _0x9c6a0c['children']['add'](_0x5db379),_0x5db379['set']({'label':_0x372743['label']||_0x372743['id'],'withText':!0x0}),_0x5db379['bind']('isEnabled')['to'](_0x1072d3),_0x5db379['on']('execute',()=>{_0x9c6a0c['fire']('execute',_0x372743['id']);}),_0x9c6a0c;}function z(_0x1a656b,_0xe8e56c,_0x102109){const _0x24f07e=new _0x54112d(_0x1a656b),_0x544d52=new _0x3cd9f7(_0x1a656b);for(const _0x5e3b5f of _0xe8e56c['definitions']){let _0x557189;_0x557189='block'===_0x5e3b5f['type']?_0x102109['insertBlock']:'image'===_0x5e3b5f['type']?_0x102109['insertImage']:_0x102109['insertInline'];const _0x565c06=G(_0x1a656b,_0x5e3b5f,_0x24f07e,_0x557189);_0x544d52['items']['add'](_0x565c06);}return _0x24f07e['set']({'class':'ck-menu-bar__merge-fields-submenu'}),_0x24f07e['buttonView']['set']({'label':_0xe8e56c['groupLabel']||_0xe8e56c['groupId']}),_0x24f07e['panelView']['children']['add'](_0x544d52),_0x24f07e;}function G(_0x1689c9,_0x4d65d1,_0x27ea9b,_0x2786f0){const _0x219f18=new _0x574641(_0x1689c9,_0x27ea9b),_0x5a8e82=new _0x4b9254(_0x1689c9);return _0x5a8e82['set']({'label':_0x4d65d1['label']||_0x4d65d1['id']}),_0x219f18['delegate']('execute')['to'](_0x27ea9b),_0x219f18['children']['add'](_0x5a8e82),_0x5a8e82['bind']('isEnabled')['to'](_0x2786f0),_0x5a8e82['on']('execute',()=>{_0x219f18['fire']('execute',_0x4d65d1['id']);}),_0x219f18;}class c extends _0x69e996{static get['requires'](){return[m,u];}static get['pluginName'](){return'MergeFields';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}}export{c as MergeFields,m as MergeFieldsEditing,u as MergeFieldsUI};