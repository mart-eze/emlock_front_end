/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1c8ecc=_0x2102;function _0x40af(){const _0x6eb376=['refresh','widesidebar-attach-already-attached','getOrderedSelectedAnnotations','listenTo','ck-sidebar--wide','focus','16jHOnQo','add','addAnnotation','48KjVhBT','annotations','setActiveAnnotation','change:container','ready','off','resize','_detachFromContainer','blur','widesidebar-detach-not-attached','removeEventListener','addEventListener','WideSidebar','EditorAnnotations','attach','has','4490213Exyaxb','hasDomSelection','cancel','high','register','rearrange','isAttached','3878298COZQYS','10356114YmHfeL','context','uiUpdate','_destroyEditorAnnotationsIntegration','5MLunlq','_integrateWithEditorAnnotations','306456KVZurq','plugins','_annotations','from','_activeAnnotation','init','stopListening','3767084eswGdv','detach','destroy','_refreshPositioningDebounced','isOfficialPlugin','set','isPremiumPlugin','requires','_attachToContainer','switchTo','_editorAnnotations','updateTargetRect','1234826ChJwKa','refreshPositioning','stop','set:container','container','activeAnnotation','pluginName','wideSidebar','editors','43488020DwjaAA','get','remove'];_0x40af=function(){return _0x6eb376;};return _0x40af();}function _0x2102(_0x3d91c9,_0x1e52b9){const _0x40aff1=_0x40af();return _0x2102=function(_0x210286,_0x33ee4f){_0x210286=_0x210286-0xeb;let _0x19f0bf=_0x40aff1[_0x210286];return _0x19f0bf;},_0x2102(_0x3d91c9,_0x1e52b9);}(function(_0xa5200c,_0x1662c0){const _0x17ab09=_0x2102,_0x1e2082=_0xa5200c();while(!![]){try{const _0x5a8733=parseInt(_0x17ab09(0xf3))/0x1+-parseInt(_0x17ab09(0x12d))/0x2+parseInt(_0x17ab09(0x126))/0x3*(-parseInt(_0x17ab09(0x108))/0x4)+-parseInt(_0x17ab09(0x124))/0x5*(parseInt(_0x17ab09(0x120))/0x6)+-parseInt(_0x17ab09(0x118))/0x7+-parseInt(_0x17ab09(0x105))/0x8*(-parseInt(_0x17ab09(0x11f))/0x9)+parseInt(_0x17ab09(0xfc))/0xa;if(_0x5a8733===_0x1662c0)break;else _0x1e2082['push'](_0x1e2082['shift']());}catch(_0x377f56){_0x1e2082['push'](_0x1e2082['shift']());}}}(_0x40af,0xec7b4));import{ContextPlugin as _0x473899,Context as _0x24ac1a}from'ckeditor5/src/core.js';import _0x1db7e0 from'./annotationsuis.js';import _0x56d6a1 from'./sidebar.js';import{CKEditorError as _0x60ab08,Collection as _0x1cc643}from'ckeditor5/src/utils.js';import{debounce as _0x7783c2}from'es-toolkit/compat';export default class e extends _0x473899{[_0x1c8ecc(0x11e)];[_0x1c8ecc(0x109)];[_0x1c8ecc(0xf1)];[_0x1c8ecc(0x130)];static get[_0x1c8ecc(0xee)](){return[_0x56d6a1,_0x1db7e0];}static get[_0x1c8ecc(0xf9)](){const _0x19f555=_0x1c8ecc;return _0x19f555(0x114);}static get[_0x1c8ecc(0xeb)](){return!0x0;}static get[_0x1c8ecc(0xed)](){return!0x0;}constructor(_0x1abf6a){const _0x21986f=_0x1c8ecc;super(_0x1abf6a),this[_0x21986f(0x11e)]=!0x1,this[_0x21986f(0xec)](_0x21986f(0xf8),null),this[_0x21986f(0x109)]=null,this[_0x21986f(0xf1)]=new _0x1cc643(),this[_0x21986f(0x130)]=_0x7783c2(()=>{const _0x331578=_0x21986f;this[_0x331578(0x109)][_0x331578(0xf4)]();},0xfa,{'leading':!0x1});}[_0x1c8ecc(0x12b)](){const _0x4394cc=_0x1c8ecc,_0x541446=this[_0x4394cc(0x121)][_0x4394cc(0x127)][_0x4394cc(0xfd)](_0x1db7e0),_0x51d47d=this[_0x4394cc(0x121)][_0x4394cc(0x127)][_0x4394cc(0xfd)](_0x56d6a1);_0x541446[_0x4394cc(0x11c)](_0x4394cc(0xfa),this),_0x51d47d[_0x4394cc(0xf7)]&&_0x541446[_0x4394cc(0xf0)](_0x4394cc(0xfa));}[_0x1c8ecc(0x10a)](_0xf8f343){const _0x1f9f10=_0x1c8ecc;if(_0xf8f343===this[_0x1f9f10(0xf8)])return;const _0x275b29=this[_0x1f9f10(0x121)][_0x1f9f10(0x127)][_0x1f9f10(0xfd)](_0x56d6a1);_0x275b29[_0x1f9f10(0x12a)]=_0xf8f343;const _0x580dae=this[_0x1f9f10(0xf8)];_0x275b29[_0x1f9f10(0xff)]({'blurredAnnotation':_0x580dae,'activatedAnnotation':_0xf8f343}),this[_0x1f9f10(0xf8)]=_0xf8f343;}[_0x1c8ecc(0x116)](_0x32eae9){const _0x278902=_0x1c8ecc;this[_0x278902(0x109)]=_0x32eae9;const _0x238668=this[_0x278902(0x121)][_0x278902(0x127)][_0x278902(0xfd)](_0x56d6a1);if(_0x238668[_0x278902(0x128)]=_0x32eae9,this[_0x278902(0x11e)])throw new _0x60ab08(_0x278902(0x100),this);this[_0x278902(0x11e)]=!0x0,this[_0x278902(0x102)](_0x238668,_0x278902(0xf6),()=>{const _0x29ee41=_0x278902;this[_0x29ee41(0x12e)](),this[_0x29ee41(0x102)](_0x238668,_0x29ee41(0x10b),_0x5e3c9a=>{const _0x2f9fe4=_0x29ee41;_0x5e3c9a[_0x2f9fe4(0x10d)](),this[_0x2f9fe4(0x116)](_0x32eae9);});}),_0x238668[_0x278902(0xef)]({'viewClass':_0x278902(0x103)});const _0x1565f4=_0x186f37=>{const _0x44a097=_0x278902;_0x186f37[_0x44a097(0xf2)](),_0x238668[_0x44a097(0x107)](_0x186f37);};for(const _0xb9cb8e of _0x32eae9)_0x1565f4(_0xb9cb8e);this[_0x278902(0x102)](_0x32eae9,_0x278902(0x106),(_0x1bddd7,_0x29aba8)=>{_0x1565f4(_0x29aba8);}),this[_0x278902(0x102)](_0x32eae9,_0x278902(0xfe),(_0x14d631,_0x15fe07,_0x16357a)=>{const _0x13ef0b=_0x278902;_0x238668[_0x13ef0b(0x11d)]({'removedAnnotation':_0x15fe07,'previousAnnotation':_0x32eae9[_0x13ef0b(0xfd)](_0x16357a-0x1),'nextAnnotation':_0x32eae9[_0x13ef0b(0xfd)](_0x16357a+0x1)}),_0x15fe07===this[_0x13ef0b(0xf8)]&&this[_0x13ef0b(0x10a)](null);},{'priority':_0x278902(0x11b)}),this[_0x278902(0x102)](_0x32eae9,_0x278902(0x104),(_0x42017f,_0x558d49)=>{const _0x50318f=_0x278902;this[_0x50318f(0x10a)](_0x558d49);}),this[_0x278902(0x102)](_0x32eae9,_0x278902(0x110),()=>{const _0x5e92a6=_0x278902;this[_0x5e92a6(0x10a)](null);});const _0x53e46d=this[_0x278902(0x121)]instanceof _0x24ac1a?this[_0x278902(0x121)][_0x278902(0xfb)]:new _0x1cc643([this[_0x278902(0x121)]]);for(const _0x590eef of _0x53e46d)this[_0x278902(0x125)](_0x590eef);this[_0x278902(0x102)](_0x53e46d,_0x278902(0x106),(_0x2b269a,_0x5e0bda)=>{const _0x3f211a=_0x278902;this[_0x3f211a(0x102)](_0x5e0bda,_0x3f211a(0x10c),()=>{const _0x32d224=_0x3f211a;this[_0x32d224(0x125)](_0x5e0bda);});}),this[_0x278902(0x102)](_0x53e46d,_0x278902(0xfe),(_0x258aa4,_0x40d050)=>{const _0x7c6661=_0x278902;_0x40d050[_0x7c6661(0x127)][_0x7c6661(0x117)](_0x7c6661(0x115))&&this[_0x7c6661(0x123)](_0x40d050[_0x7c6661(0x127)][_0x7c6661(0xfd)](_0x7c6661(0x115)));}),window[_0x278902(0x113)](_0x278902(0x10e),this[_0x278902(0x130)]),this[_0x278902(0x109)][_0x278902(0xf4)]();}[_0x1c8ecc(0x12e)](){const _0x271cf2=_0x1c8ecc;if(!this[_0x271cf2(0x11e)])throw new _0x60ab08(_0x271cf2(0x111),this);this[_0x271cf2(0x10a)](null);const _0x8d3713=this[_0x271cf2(0x121)][_0x271cf2(0x127)][_0x271cf2(0xfd)](_0x56d6a1);_0x8d3713[_0x271cf2(0x10f)](this[_0x271cf2(0x109)]),this[_0x271cf2(0x12c)](_0x8d3713),this[_0x271cf2(0x12c)](this[_0x271cf2(0x109)]),this[_0x271cf2(0x121)]instanceof _0x24ac1a&&this[_0x271cf2(0x12c)](this[_0x271cf2(0x121)][_0x271cf2(0xfb)]);for(const _0x5d0301 of Array[_0x271cf2(0x129)](this[_0x271cf2(0xf1)]))this[_0x271cf2(0x123)](_0x5d0301);window[_0x271cf2(0x112)](_0x271cf2(0x10e),this[_0x271cf2(0x130)]),this[_0x271cf2(0x130)][_0x271cf2(0x11a)](),this[_0x271cf2(0xf8)]=null,this[_0x271cf2(0x11e)]=!0x1,this[_0x271cf2(0x109)]=null;}[_0x1c8ecc(0x12f)](){const _0x3b5321=_0x1c8ecc;this[_0x3b5321(0x11e)]&&this[_0x3b5321(0x12e)]();}[_0x1c8ecc(0x125)](_0x19925a){const _0x14efd8=_0x1c8ecc;if(!_0x19925a[_0x14efd8(0x127)][_0x14efd8(0x117)](_0x14efd8(0x115)))return;const _0x442086=_0x19925a[_0x14efd8(0x127)][_0x14efd8(0xfd)](_0x14efd8(0x115)),_0x2d4c57=()=>{const _0x3b6596=_0x14efd8,_0x2b5ed4=_0x442086[_0x3b6596(0x101)]({'annotations':this[_0x3b6596(0x109)],'activeAnnotation':this[_0x3b6596(0xf8)]});this[_0x3b6596(0x10a)](_0x2b5ed4[0x0]||null);};this[_0x14efd8(0x102)](_0x442086,_0x14efd8(0xff),_0x2d4c57),this[_0x14efd8(0x102)](_0x442086,_0x14efd8(0x110),(_0x3a8448,{isAnnotationTracked:_0x4da86d})=>{const _0x1fe071=_0x14efd8;this[_0x1fe071(0xf8)]&&_0x4da86d(this[_0x1fe071(0xf8)])&&this[_0x1fe071(0x10a)](null);}),this[_0x14efd8(0x102)](_0x442086,_0x14efd8(0x122),()=>{const _0xdac8a5=_0x14efd8;this[_0xdac8a5(0x130)]();}),this[_0x14efd8(0x102)](this[_0x14efd8(0x109)],_0x14efd8(0x110),_0x23dcc7=>{const _0x434b66=_0x14efd8;_0x442086[_0x434b66(0x119)]()&&(_0x2d4c57(),_0x23dcc7[_0x434b66(0xf5)]());},{'priority':_0x14efd8(0x11b)}),this[_0x14efd8(0xf1)][_0x14efd8(0x106)](_0x442086);}[_0x1c8ecc(0x123)](_0x1a4107){const _0x22321c=_0x1c8ecc;this[_0x22321c(0x12c)](_0x1a4107),this[_0x22321c(0xf1)][_0x22321c(0xfe)](_0x1a4107);}}