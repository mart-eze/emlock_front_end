/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x3148(){const _0x5a02e6=['narrowsidebar-attach-already-attached','delete','northArrowSouth','attach','activeAnnotation','_refreshPositioning','high','Esc','attachToDom','balloonPanelView','target','20kYIUSy','addAnnotation','create','661408ifyEbl','_detachFromContainer','hasDomSelection','pluginName','unpin','detach','blur','_integrateWithEditorAnnotations','view','resize','_annotations','rearrange','has','annotationType','requires','26zNrRBi','init','stopPropagation','refreshPositioning','uiUpdate','_refreshPositioningDebounced','destroy','_annotationToNarrowView','keyCode','get','isVisible','_attachListeners','4PTFAzS','3KhwCNB','ready','isPremiumPlugin','locale','narrowsidebar-detach-not-attached','execute','mousedown','ck-sidebar--narrow','getOrderedSelectedAnnotations','preventClosingBalloon','keydown','_updateBalloonPosition','NarrowSidebar','change:height','add','content','southArrowNorth','element','170rfviMr','length','1251272hVayeo','isAttached','southArrowNorthEast','getByView','focus','_showBalloon','bodyCollection','esc','low','addEventListener','change:container','removeEventListener','isOfficialPlugin','stopListening','_domEmitter','focusableElements','_selectedAnnotations','values','northArrowSouthWest','set','stop','EditorAnnotations','off','remove','460233UCBFNU','isDirty','_attachToContainer','listenTo','northArrowSouthEast','3498fcoomv','clear','southArrowNorthWest','refresh','annotations','from','_detachListeners','set:container','_manuallyClosedAnnotationViews','first','number','bind','2233294NDsdSB','pin','430067IwETLo','_hideBalloon','defaultPositions','detachFromDom','7JpniDd','editors','register','includes','find','plugins','contains','_destroyEditorAnnotationsIntegration','_setSelectedAnnotations','12HRVkkm','type','preventDefault','_editorAnnotations','context','narrowSidebar','getSidebarItemView','cancel','setActiveAnnotation','7017zXtHui'];_0x3148=function(){return _0x5a02e6;};return _0x3148();}const _0x2d1122=_0x1356;(function(_0x23348b,_0x3279ad){const _0x1b8533=_0x1356,_0xc60aa0=_0x23348b();while(!![]){try{const _0x3f6c0a=-parseInt(_0x1b8533(0x1d8))/0x1*(-parseInt(_0x1b8533(0x182))/0x2)+parseInt(_0x1b8533(0x183))/0x3*(-parseInt(_0x1b8533(0x167))/0x4)+-parseInt(_0x1b8533(0x195))/0x5*(parseInt(_0x1b8533(0x1b4))/0x6)+-parseInt(_0x1b8533(0x1c6))/0x7*(parseInt(_0x1b8533(0x197))/0x8)+parseInt(_0x1b8533(0x1af))/0x9*(parseInt(_0x1b8533(0x164))/0xa)+parseInt(_0x1b8533(0x1c2))/0xb*(parseInt(_0x1b8533(0x1cf))/0xc)+-parseInt(_0x1b8533(0x176))/0xd*(-parseInt(_0x1b8533(0x1c0))/0xe);if(_0x3f6c0a===_0x3279ad)break;else _0xc60aa0['push'](_0xc60aa0['shift']());}catch(_0x3660dd){_0xc60aa0['push'](_0xc60aa0['shift']());}}}(_0x3148,0x20700));import{ContextPlugin as _0x561977,Context as _0x13931d}from'ckeditor5/src/core.js';import _0x88642 from'./annotationsuis.js';import _0x3ca974 from'./sidebar.js';import _0x1d44f3 from'./view/annotationcounterbuttonview.js';import{BalloonPanelView as _0x52200c,BodyCollection as _0x213fbf}from'ckeditor5/src/ui.js';function _0x1356(_0x4ff714,_0x147a6e){const _0x31482b=_0x3148();return _0x1356=function(_0x1356ad,_0x60a270){_0x1356ad=_0x1356ad-0x163;let _0x348d3e=_0x31482b[_0x1356ad];return _0x348d3e;},_0x1356(_0x4ff714,_0x147a6e);}import{CKEditorError as _0x4b4d99,DomEmitterMixin as _0x2287f9,keyCodes as _0x531674,Collection as _0x3c2409}from'ckeditor5/src/utils.js';import'../../theme/sidebar-narrow.css';import{debounce as _0x462c6b}from'es-toolkit/compat';export default class n extends _0x561977{[_0x2d1122(0x198)];[_0x2d1122(0x1b8)];[_0x2d1122(0x1bc)];[_0x2d1122(0x1a5)];[_0x2d1122(0x17d)];[_0x2d1122(0x1a7)];[_0x2d1122(0x1d2)];[_0x2d1122(0x17b)];static get[_0x2d1122(0x175)](){return[_0x3ca974,_0x88642];}static get[_0x2d1122(0x16a)](){const _0x51945b=_0x2d1122;return _0x51945b(0x18f);}static get[_0x2d1122(0x1a3)](){return!0x0;}static get[_0x2d1122(0x185)](){return!0x0;}constructor(_0x420ff){const _0x4c961e=_0x2d1122;super(_0x420ff),this[_0x4c961e(0x198)]=!0x1,this[_0x4c961e(0x1bc)]=new Set(),this[_0x4c961e(0x1a5)]=Object[_0x4c961e(0x166)](_0x2287f9),this[_0x4c961e(0x17d)]=new Map(),this[_0x4c961e(0x1aa)](_0x4c961e(0x1dd),null),this[_0x4c961e(0x1b8)]=null,this[_0x4c961e(0x1a7)]=[],this[_0x4c961e(0x1d2)]=new _0x3c2409(),this[_0x4c961e(0x17b)]=_0x462c6b(()=>{const _0x1c3142=_0x4c961e;this[_0x1c3142(0x1de)]();},0xfa,{'leading':!0x1});}[_0x2d1122(0x177)](){const _0x372f79=_0x2d1122;this[_0x372f79(0x1d3)][_0x372f79(0x1cb)][_0x372f79(0x17f)](_0x88642)[_0x372f79(0x1c8)](_0x372f79(0x1d4),this),this[_0x372f79(0x19d)]=new _0x213fbf(this[_0x372f79(0x1d3)][_0x372f79(0x186)]),this[_0x372f79(0x1e2)]=new _0x52200c(this[_0x372f79(0x1d3)][_0x372f79(0x186)]),this[_0x372f79(0x19d)][_0x372f79(0x1e1)](),this[_0x372f79(0x19d)][_0x372f79(0x191)](this[_0x372f79(0x1e2)]);}[_0x2d1122(0x1dc)](_0x461f2b){const _0x41c800=_0x2d1122;this[_0x41c800(0x1b8)]=_0x461f2b;const _0x4f507d=this[_0x41c800(0x1d3)][_0x41c800(0x1cb)][_0x41c800(0x17f)](_0x3ca974),_0x3c5048=this[_0x41c800(0x1e2)];if(_0x4f507d[_0x41c800(0x171)]=_0x461f2b,this[_0x41c800(0x198)])throw new _0x4b4d99(_0x41c800(0x1d9),this);this[_0x41c800(0x198)]=!0x0,this[_0x41c800(0x1b2)](_0x4f507d,_0x41c800(0x1bb),()=>{const _0x47500a=_0x41c800;this[_0x47500a(0x16c)](),this[_0x47500a(0x1b2)](_0x4f507d,_0x47500a(0x1a1),_0x1768d3=>{const _0x301ec8=_0x47500a;_0x1768d3[_0x301ec8(0x1ad)](),this[_0x301ec8(0x1dc)](_0x461f2b);});}),_0x4f507d[_0x41c800(0x1b1)]({'viewClass':_0x41c800(0x18a),'spaceBetweenItems':0x5});const _0x482161=_0x2fc097=>{const _0x2f0662=_0x41c800,_0x587e9b=new _0x1d44f3(this[_0x2f0662(0x1d3)][_0x2f0662(0x186)]);_0x4f507d[_0x2f0662(0x165)](_0x2fc097,_0x587e9b),this[_0x2f0662(0x17d)][_0x2f0662(0x1aa)](_0x2fc097,_0x587e9b),_0x587e9b[_0x2f0662(0x1bf)](_0x2f0662(0x1b0),_0x2f0662(0x174),_0x2f0662(0x1be))['to'](_0x2fc097[_0x2f0662(0x16f)],_0x2f0662(0x1b0),_0x2f0662(0x1d0),_0x2f0662(0x196)),_0x587e9b['on'](_0x2f0662(0x188),()=>{const _0x527fdb=_0x2f0662;this[_0x527fdb(0x1bc)][_0x527fdb(0x1b5)](),_0x3c5048[_0x527fdb(0x192)][_0x527fdb(0x1bd)]!==_0x2fc097[_0x527fdb(0x16f)]?(this[_0x527fdb(0x19c)](_0x2fc097),_0x2fc097[_0x527fdb(0x16f)][_0x527fdb(0x194)][_0x527fdb(0x19b)](),this[_0x527fdb(0x1d7)](_0x2fc097)):this[_0x527fdb(0x1d7)](null);});};for(const _0x4bd975 of _0x461f2b)_0x482161(_0x4bd975);this[_0x41c800(0x1b2)](_0x461f2b,_0x41c800(0x191),(_0x59b3b6,_0x5f1f45)=>{_0x482161(_0x5f1f45);}),this[_0x41c800(0x1b2)](_0x461f2b,_0x41c800(0x1ae),(_0x525160,_0x104d8e,_0x5218b1)=>{const _0x3c8169=_0x41c800;this[_0x3c8169(0x17d)][_0x3c8169(0x17f)](_0x104d8e)[_0x3c8169(0x17c)](),this[_0x3c8169(0x17d)][_0x3c8169(0x1da)](_0x104d8e),_0x4f507d[_0x3c8169(0x172)]({'removedAnnotation':_0x104d8e,'previousAnnotation':_0x461f2b[_0x3c8169(0x17f)](_0x5218b1-0x1),'nextAnnotation':_0x461f2b[_0x3c8169(0x17f)](_0x5218b1+0x1)}),_0x104d8e===this[_0x3c8169(0x1dd)]&&this[_0x3c8169(0x1d7)](null);},{'priority':_0x41c800(0x19f)}),this[_0x41c800(0x1b2)](_0x461f2b,_0x41c800(0x19b),(_0x47670c,_0x9a46ca)=>{const _0x17bf28=_0x41c800;this[_0x17bf28(0x1d7)](_0x9a46ca);}),this[_0x41c800(0x1b2)](_0x461f2b,_0x41c800(0x16d),()=>{const _0x3cf5ad=_0x41c800;this[_0x3cf5ad(0x1d7)](null);}),this[_0x41c800(0x1a5)][_0x41c800(0x1b2)](document,_0x41c800(0x18d),(_0x4430e2,_0x35dd7c)=>{const _0x34357e=_0x41c800;_0x35dd7c[_0x34357e(0x17e)]===_0x531674[_0x34357e(0x19e)]&&_0x3c5048[_0x34357e(0x180)]&&(this[_0x34357e(0x1bc)][_0x34357e(0x191)](_0x3c5048[_0x34357e(0x192)][_0x34357e(0x1bd)]),this[_0x34357e(0x1c3)](),_0x35dd7c[_0x34357e(0x178)](),_0x35dd7c[_0x34357e(0x1d1)]());}),this[_0x41c800(0x1a5)][_0x41c800(0x1b2)](document,_0x41c800(0x189),(_0x5a39be,_0x5394db)=>{const _0x4b9359=_0x41c800,_0x4448bb=_0x5394db[_0x4b9359(0x163)];_0x3c5048[_0x4b9359(0x180)]&&_0x3c5048[_0x4b9359(0x194)][_0x4b9359(0x1cc)](_0x4448bb)||_0x4f507d[_0x4b9359(0x16f)][_0x4b9359(0x194)][_0x4b9359(0x1cc)](_0x4448bb)||_0x5a39be[_0x4b9359(0x18c)]||this[_0x4b9359(0x1dd)]&&this[_0x4b9359(0x1dd)][_0x4b9359(0x1a6)][_0x4b9359(0x1ca)](_0x322174=>_0x322174[_0x4b9359(0x1cc)](_0x4448bb))||(this[_0x4b9359(0x1bc)][_0x4b9359(0x1b5)](),this[_0x4b9359(0x1c3)](),this[_0x4b9359(0x1d7)](null));});const _0xbba37d=this[_0x41c800(0x1d3)]instanceof _0x13931d?this[_0x41c800(0x1d3)][_0x41c800(0x1c7)]:new _0x3c2409([this[_0x41c800(0x1d3)]]);for(const _0x1aa780 of _0xbba37d)this[_0x41c800(0x16e)](_0x1aa780);this[_0x41c800(0x1b2)](_0xbba37d,_0x41c800(0x191),(_0x12bd8b,_0x19b757)=>{const _0x26bd5c=_0x41c800;this[_0x26bd5c(0x1b2)](_0x19b757,_0x26bd5c(0x184),()=>{const _0x841728=_0x26bd5c;this[_0x841728(0x16e)](_0x19b757);});}),this[_0x41c800(0x1b2)](_0xbba37d,_0x41c800(0x1ae),(_0x42f1d8,_0x2427a4)=>{const _0x2be2db=_0x41c800;_0x2427a4[_0x2be2db(0x1cb)][_0x2be2db(0x173)](_0x2be2db(0x1ac))&&this[_0x2be2db(0x1cd)](_0x2427a4[_0x2be2db(0x1cb)][_0x2be2db(0x17f)](_0x2be2db(0x1ac)));}),window[_0x41c800(0x1a0)](_0x41c800(0x170),this[_0x41c800(0x17b)]),this[_0x41c800(0x1de)]();}[_0x2d1122(0x1d7)](_0x4a9df8){const _0x5c0ceb=_0x2d1122;if(_0x4a9df8===this[_0x5c0ceb(0x1dd)])return;const _0xd9036d=this[_0x5c0ceb(0x1d3)][_0x5c0ceb(0x1cb)][_0x5c0ceb(0x17f)](_0x3ca974);if(_0xd9036d[_0x5c0ceb(0x1b7)]({'blurredAnnotation':this[_0x5c0ceb(0x1dd)],'activatedAnnotation':_0x4a9df8,'disableAnimationOnActivatedAnnotation':!0x0}),_0x4a9df8)_0xd9036d[_0x5c0ceb(0x1d5)](_0x4a9df8)?this[_0x5c0ceb(0x19c)](_0x4a9df8):this[_0x5c0ceb(0x1c3)]();else this[_0x5c0ceb(0x1c3)]();this[_0x5c0ceb(0x1dd)]=_0x4a9df8;}[_0x2d1122(0x16c)](){const _0x1c8210=_0x2d1122;if(!this[_0x1c8210(0x198)])throw new _0x4b4d99(_0x1c8210(0x187),this);this[_0x1c8210(0x1d7)](null);const _0x3d2fae=this[_0x1c8210(0x1d3)][_0x1c8210(0x1cb)][_0x1c8210(0x17f)](_0x3ca974);this[_0x1c8210(0x1c3)](),Array[_0x1c8210(0x1b9)](this[_0x1c8210(0x17d)][_0x1c8210(0x1a8)](),_0x3270ea=>_0x3270ea[_0x1c8210(0x17c)]()),this[_0x1c8210(0x17d)][_0x1c8210(0x1b5)](),_0x3d2fae[_0x1c8210(0x168)](this[_0x1c8210(0x1b8)]),this[_0x1c8210(0x1a4)](),this[_0x1c8210(0x1a5)][_0x1c8210(0x1a4)](),this[_0x1c8210(0x1d3)]instanceof _0x13931d&&this[_0x1c8210(0x1a4)](this[_0x1c8210(0x1d3)][_0x1c8210(0x1c7)]);for(const _0x582534 of Array[_0x1c8210(0x1b9)](this[_0x1c8210(0x1d2)]))this[_0x1c8210(0x1cd)](_0x582534);window[_0x1c8210(0x1a2)](_0x1c8210(0x170),this[_0x1c8210(0x17b)]),this[_0x1c8210(0x17b)][_0x1c8210(0x1d6)](),this[_0x1c8210(0x1a7)]=[],this[_0x1c8210(0x198)]=!0x1,this[_0x1c8210(0x1b8)]=null;}[_0x2d1122(0x17c)](){const _0x39cc1a=_0x2d1122;this[_0x39cc1a(0x198)]&&this[_0x39cc1a(0x16c)](),this[_0x39cc1a(0x19d)][_0x39cc1a(0x1c5)]();}[_0x2d1122(0x16e)](_0x1156b6){const _0x3a3482=_0x2d1122;if(!_0x1156b6[_0x3a3482(0x1cb)][_0x3a3482(0x173)](_0x3a3482(0x1ac)))return;const _0x573fba=_0x1156b6[_0x3a3482(0x1cb)][_0x3a3482(0x17f)](_0x3a3482(0x1ac)),_0x297103=this[_0x3a3482(0x1d3)][_0x3a3482(0x1cb)][_0x3a3482(0x17f)](_0x3ca974),_0x23eb48=this[_0x3a3482(0x1b8)],_0x36cc1a=this[_0x3a3482(0x1e2)],_0x3c1364=()=>{const _0x3455ab=_0x3a3482,_0x3369e5=_0x573fba[_0x3455ab(0x18b)]({'annotations':this[_0x3455ab(0x1b8)],'activeAnnotation':this[_0x3455ab(0x1dd)]});this[_0x3455ab(0x1ce)](_0x3369e5),this[_0x3455ab(0x1d7)](_0x3369e5[0x0]||null);};this[_0x3a3482(0x1b2)](_0x573fba,_0x3a3482(0x1b7),_0x3c1364),this[_0x3a3482(0x1b2)](_0x573fba,_0x3a3482(0x16d),(_0x352642,{isAnnotationTracked:_0x2f5fc2})=>{const _0x15351e=_0x3a3482;this[_0x15351e(0x1dd)]&&_0x2f5fc2(this[_0x15351e(0x1dd)])&&(this[_0x15351e(0x1ce)]([]),this[_0x15351e(0x1d7)](null));}),this[_0x3a3482(0x1b2)](_0x573fba,_0x3a3482(0x17a),()=>{const _0x67d606=_0x3a3482;this[_0x67d606(0x17b)]();}),this[_0x3a3482(0x1b2)](_0x23eb48,_0x3a3482(0x16d),_0x388879=>{const _0x1fb0cb=_0x3a3482;_0x573fba[_0x1fb0cb(0x169)]()&&_0x388879[_0x1fb0cb(0x1ab)]();},{'priority':_0x3a3482(0x1df)}),this[_0x3a3482(0x1b2)](this[_0x3a3482(0x1a5)],_0x3a3482(0x189),(_0x2f979a,_0x22f39c)=>{const _0x560f61=_0x3a3482,_0x2153df=_0x22f39c[_0x560f61(0x163)];_0x36cc1a[_0x560f61(0x180)]&&_0x36cc1a[_0x560f61(0x194)][_0x560f61(0x1cc)](_0x2153df)||_0x297103[_0x560f61(0x16f)][_0x560f61(0x194)][_0x560f61(0x1cc)](_0x2153df)||this[_0x560f61(0x1dd)]&&_0x573fba[_0x560f61(0x169)]()&&(_0x3c1364(),_0x2f979a[_0x560f61(0x18c)]=!0x0);},{'priority':_0x3a3482(0x1df)}),this[_0x3a3482(0x1d2)][_0x3a3482(0x191)](_0x573fba);}[_0x2d1122(0x1cd)](_0x873f25){const _0x59b8be=_0x2d1122;_0x873f25&&(this[_0x59b8be(0x1a4)](_0x873f25),this[_0x59b8be(0x1d2)][_0x59b8be(0x1ae)](_0x873f25));}[_0x2d1122(0x1ce)](_0xe1bbec){const _0xea208d=_0x2d1122;for(const _0x25bbf7 of this[_0xea208d(0x1a7)])_0xe1bbec[_0xea208d(0x1c9)](_0x25bbf7)||this[_0xea208d(0x1bc)][_0xea208d(0x1da)](_0x25bbf7[_0xea208d(0x16f)]);this[_0xea208d(0x1a7)]=_0xe1bbec;}[_0x2d1122(0x1de)](){const _0x3781cd=_0x2d1122,_0x1249a2=this[_0x3781cd(0x1e2)];this[_0x3781cd(0x1b8)][_0x3781cd(0x179)](),_0x1249a2[_0x3781cd(0x180)]&&this[_0x3781cd(0x18e)]();}[_0x2d1122(0x19c)](_0x24b151){const _0x1587f1=_0x2d1122;if(this[_0x1587f1(0x1bc)][_0x1587f1(0x173)](_0x24b151[_0x1587f1(0x16f)]))return;const _0x45f5b3=this[_0x1587f1(0x1e2)][_0x1587f1(0x192)][_0x1587f1(0x1bd)];_0x45f5b3!==_0x24b151[_0x1587f1(0x16f)]?(_0x45f5b3&&this[_0x1587f1(0x1ba)](_0x45f5b3),this[_0x1587f1(0x181)](_0x24b151[_0x1587f1(0x16f)]),this[_0x1587f1(0x1e2)][_0x1587f1(0x192)][_0x1587f1(0x1b5)](),this[_0x1587f1(0x1e2)][_0x1587f1(0x192)][_0x1587f1(0x191)](_0x24b151[_0x1587f1(0x16f)]),this[_0x1587f1(0x18e)]()):this[_0x1587f1(0x18e)]();}[_0x2d1122(0x18e)](){const _0x1d8f08=_0x2d1122,_0x31725a=this[_0x1d8f08(0x1e2)][_0x1d8f08(0x192)][_0x1d8f08(0x1bd)],_0x3ad6f0=_0x31725a&&this[_0x1d8f08(0x1b8)][_0x1d8f08(0x19a)](_0x31725a);if(!_0x3ad6f0||!this[_0x1d8f08(0x17d)][_0x1d8f08(0x173)](_0x3ad6f0))return;const _0x17bcd0=this[_0x1d8f08(0x17d)][_0x1d8f08(0x17f)](_0x3ad6f0)[_0x1d8f08(0x194)],_0xede4a7=(function(){const _0x2b6949=_0x1d8f08,_0x3beed6=_0x52200c[_0x2b6949(0x1c4)];return[_0x3beed6[_0x2b6949(0x199)],_0x3beed6[_0x2b6949(0x1b3)],_0x3beed6[_0x2b6949(0x193)],_0x3beed6[_0x2b6949(0x1db)],_0x3beed6[_0x2b6949(0x1b6)],_0x3beed6[_0x2b6949(0x1a9)]];}());this[_0x1d8f08(0x1e2)][_0x1d8f08(0x1c1)]({'target':_0x17bcd0,'positions':_0xede4a7});}[_0x2d1122(0x1c3)](){const _0x2deb0c=_0x2d1122,_0x337617=this[_0x2deb0c(0x1e2)],_0x1bbeed=_0x337617[_0x2deb0c(0x192)][_0x2deb0c(0x1bd)];_0x1bbeed&&(this[_0x2deb0c(0x1ba)](_0x1bbeed),_0x337617[_0x2deb0c(0x16b)](),_0x337617[_0x2deb0c(0x192)][_0x2deb0c(0x1b5)]());}[_0x2d1122(0x181)](_0x2accb3){const _0x3feb33=_0x2d1122;this[_0x3feb33(0x1b2)](_0x2accb3,_0x3feb33(0x190),()=>this[_0x3feb33(0x18e)]()),this[_0x3feb33(0x1b2)](_0x2accb3,_0x3feb33(0x1e0),(_0x2d3756,_0x2776a9)=>{const _0x41d673=_0x3feb33;this[_0x41d673(0x1bc)][_0x41d673(0x191)](_0x2accb3),this[_0x41d673(0x1c3)](),_0x2776a9();});}[_0x2d1122(0x1ba)](_0x5d62b8){const _0x1d8fec=_0x2d1122;this[_0x1d8fec(0x1a4)](_0x5d62b8);}}