/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x1255(){const _0x276051=['deactivate','type','set','collection','init','_addActiveAnnotation','isOfficialPlugin','listenTo','add','5701740uXaThR','filter','annotationsuis-missing-ui','context','remove','3805lrDAaf','39XUfCnI','find','_setSelectedAnnotations','annotationsuis-register-invalid-interface','deactivateAll','plugins','length','1085abSuwJ','refilterAnnotations','detach','904vmPJEC','annotationsuis-register-already-registered','30592IPVZUU','_uis','stopListening','from','2909241bnplAa','has','function','change:activeAnnotation','42NlgRzs','_activateAnnotation','defaultFilter','annotationsuis-annotation-mismatch','switchTo','isActive','activeAnnotations','attach','activeUIs','setActiveAnnotation','_deactivateAllAnnotations','get','_visibleAnnotations','AnnotationsUIs','size','35028612hrjgCo','push','_assertAnnotationDoesNotBelongToMultipleUIs','973235djBBVe','10RaQvpx','pluginName','isPremiumPlugin','145596iksQPa','requires','activate','_removeActiveAnnotation','destroy','register','delete','uisData','hasActive'];_0x1255=function(){return _0x276051;};return _0x1255();}const _0x537b18=_0x13b8;(function(_0x5d23c7,_0x18ab67){const _0x150467=_0x13b8,_0x2b1a8f=_0x5d23c7();while(!![]){try{const _0x104a25=parseInt(_0x150467(0x143))/0x1*(parseInt(_0x150467(0x14e))/0x2)+-parseInt(_0x150467(0x144))/0x3*(-parseInt(_0x150467(0x16e))/0x4)+parseInt(_0x150467(0x16a))/0x5*(parseInt(_0x150467(0x158))/0x6)+-parseInt(_0x150467(0x14b))/0x7*(parseInt(_0x150467(0x150))/0x8)+parseInt(_0x150467(0x154))/0x9*(parseInt(_0x150467(0x16b))/0xa)+parseInt(_0x150467(0x13e))/0xb+-parseInt(_0x150467(0x167))/0xc;if(_0x104a25===_0x18ab67)break;else _0x2b1a8f['push'](_0x2b1a8f['shift']());}catch(_0x334ac1){_0x2b1a8f['push'](_0x2b1a8f['shift']());}}}(_0x1255,0xd8292));import{ContextPlugin as _0x5cfcbe}from'ckeditor5/src/core.js';import{CKEditorError as _0x21ed72}from'ckeditor5/src/utils.js';import _0x49e40f,{bindAnnotationCollections as _0x1a5b5d}from'./annotationcollection.js';function _0x13b8(_0x3b5b14,_0x51e07d){const _0x1255f5=_0x1255();return _0x13b8=function(_0x13b8dc,_0x102408){_0x13b8dc=_0x13b8dc-0x133;let _0x49b8e8=_0x1255f5[_0x13b8dc];return _0x49b8e8;},_0x13b8(_0x3b5b14,_0x51e07d);}import _0x5eea0d from'./annotations.js';export default class M extends _0x5cfcbe{[_0x537b18(0x160)];[_0x537b18(0x133)];[_0x537b18(0x151)];static get[_0x537b18(0x16f)](){return[_0x5eea0d];}static get[_0x537b18(0x16c)](){const _0xe3ed21=_0x537b18;return _0xe3ed21(0x165);}static get[_0x537b18(0x13b)](){return!0x0;}static get[_0x537b18(0x16d)](){return!0x0;}constructor(_0x573c14){const _0x3f8feb=_0x537b18;super(_0x573c14),this[_0x3f8feb(0x160)]=new Set(),this[_0x3f8feb(0x151)]=new Map(),this[_0x3f8feb(0x133)]=new Map();}[_0x537b18(0x139)](){const _0x52b1db=_0x537b18,_0x2c248b=this[_0x52b1db(0x141)][_0x52b1db(0x149)][_0x52b1db(0x163)](_0x5eea0d);this[_0x52b1db(0x13c)](_0x2c248b,_0x52b1db(0x159),(_0x399f24,_0x10bd80)=>{const _0xbd8592=_0x52b1db;for(const _0xa45056 of this[_0xbd8592(0x160)]){const _0x397acb=this[_0xbd8592(0x151)][_0xbd8592(0x163)](_0xa45056);(0x0,this[_0xbd8592(0x133)][_0xbd8592(0x163)](_0xa45056)[_0xbd8592(0x13f)])(_0x10bd80)&&_0x397acb[_0xbd8592(0x161)](_0x10bd80);}}),this[_0x52b1db(0x13c)](_0x2c248b,_0x52b1db(0x162),()=>{const _0x11da7c=_0x52b1db;for(const _0x4453f5 of this[_0x11da7c(0x160)]){this[_0x11da7c(0x151)][_0x11da7c(0x163)](_0x4453f5)[_0x11da7c(0x161)](null);}}),this[_0x52b1db(0x13c)](_0x2c248b[_0x52b1db(0x164)],_0x52b1db(0x13d),(_0x52245c,_0x48ee3b)=>{const _0x591263=_0x52b1db;this[_0x591263(0x169)](_0x48ee3b);});}[_0x537b18(0x134)](){const _0x1481ed=_0x537b18;return this[_0x1481ed(0x160)][_0x1481ed(0x166)]>0x0;}[_0x537b18(0x15d)](_0x520547){const _0x4b27af=_0x537b18;return this[_0x4b27af(0x160)][_0x4b27af(0x155)](_0x520547);}[_0x537b18(0x170)](_0x197838,_0x573bd0=this[_0x537b18(0x15a)]){const _0x59dd0d=_0x537b18,_0x527310=this[_0x59dd0d(0x141)][_0x59dd0d(0x149)][_0x59dd0d(0x163)](_0x5eea0d);if(!this[_0x59dd0d(0x151)][_0x59dd0d(0x155)](_0x197838))throw new _0x21ed72(_0x59dd0d(0x140),this,{'uiName':_0x197838});this[_0x59dd0d(0x15d)](_0x197838)&&this[_0x59dd0d(0x135)](_0x197838),this[_0x59dd0d(0x160)][_0x59dd0d(0x13d)](_0x197838);const _0x58c848=new _0x49e40f(),_0x27db64=_0x527310[_0x59dd0d(0x164)];_0x1a5b5d({'source':_0x27db64,'target':_0x58c848,'filter':_0x573bd0}),this[_0x59dd0d(0x133)][_0x59dd0d(0x137)](_0x197838,{'collection':_0x58c848,'filter':_0x573bd0});const _0x4933dc=this[_0x59dd0d(0x151)][_0x59dd0d(0x163)](_0x197838);_0x4933dc[_0x59dd0d(0x15f)](_0x58c848),this[_0x59dd0d(0x13c)](_0x4933dc,_0x59dd0d(0x157),(_0x2f90dd,_0x37f690,_0xbf6cee,_0x4f2e9d)=>{const _0x4cd4d8=_0x59dd0d;_0x4f2e9d&&_0x527310[_0x4cd4d8(0x171)](_0x4f2e9d),_0xbf6cee&&_0x527310[_0x4cd4d8(0x13a)](_0xbf6cee);});}[_0x537b18(0x135)](_0xd2d94){const _0x146d42=_0x537b18;if(this[_0x146d42(0x160)][_0x146d42(0x174)](_0xd2d94),!this[_0x146d42(0x151)][_0x146d42(0x155)](_0xd2d94))throw new _0x21ed72(_0x146d42(0x140),this,{'uiName':_0xd2d94});const _0x1a7650=this[_0x146d42(0x151)][_0x146d42(0x163)](_0xd2d94);_0x1a7650[_0x146d42(0x14d)](),this[_0x146d42(0x152)](_0x1a7650),this[_0x146d42(0x133)][_0x146d42(0x163)](_0xd2d94)[_0x146d42(0x138)][_0x146d42(0x172)](),this[_0x146d42(0x133)][_0x146d42(0x174)](_0xd2d94);}[_0x537b18(0x15c)](_0x123cef){const _0x2fe773=_0x537b18;if(!this[_0x2fe773(0x151)][_0x2fe773(0x155)](_0x123cef))throw new _0x21ed72(_0x2fe773(0x140),this,{'uiName':_0x123cef});const _0x12b44e=this[_0x2fe773(0x141)][_0x2fe773(0x149)][_0x2fe773(0x163)](_0x5eea0d),_0x102a04=Array[_0x2fe773(0x153)](_0x12b44e[_0x2fe773(0x15e)])[0x0]||null;this[_0x2fe773(0x148)](),this[_0x2fe773(0x170)](_0x123cef);const _0x3117d0=this[_0x2fe773(0x151)][_0x2fe773(0x163)](_0x123cef);_0x3117d0[_0x2fe773(0x161)](_0x102a04),_0x3117d0[_0x2fe773(0x146)]&&_0x102a04&&_0x3117d0[_0x2fe773(0x146)]([_0x102a04]);}[_0x537b18(0x148)](){const _0x10b171=_0x537b18;for(const _0x4a2bd3 of this[_0x10b171(0x160)])this[_0x10b171(0x135)](_0x4a2bd3);}[_0x537b18(0x173)](_0x3b24fa,_0x5b587c){const _0x3fa632=_0x537b18;if(this[_0x3fa632(0x151)][_0x3fa632(0x155)](_0x3b24fa))throw new _0x21ed72(_0x3fa632(0x14f));if(_0x3fa632(0x156)!=typeof _0x5b587c[_0x3fa632(0x15f)]||_0x3fa632(0x156)!=typeof _0x5b587c[_0x3fa632(0x14d)]||_0x3fa632(0x156)!=typeof _0x5b587c[_0x3fa632(0x161)])throw new _0x21ed72(_0x3fa632(0x147),null);this[_0x3fa632(0x151)][_0x3fa632(0x137)](_0x3b24fa,_0x5b587c);}[_0x537b18(0x14c)](){const _0x5c6d5c=_0x537b18,_0x311664=this[_0x5c6d5c(0x141)][_0x5c6d5c(0x149)][_0x5c6d5c(0x163)](_0x5eea0d)[_0x5c6d5c(0x138)],_0x39069e=new Map(),_0x14d99d=Array[_0x5c6d5c(0x153)](this[_0x5c6d5c(0x160)]);for(const _0x1d7472 of this[_0x5c6d5c(0x160)]){const _0x46ddf2=this[_0x5c6d5c(0x133)][_0x5c6d5c(0x163)](_0x1d7472)[_0x5c6d5c(0x138)];for(const _0x3662a1 of _0x46ddf2)_0x39069e[_0x5c6d5c(0x137)](_0x3662a1,_0x1d7472);}for(const _0x806f79 of _0x311664){const _0x471725=_0x39069e[_0x5c6d5c(0x163)](_0x806f79);this[_0x5c6d5c(0x169)](_0x806f79);const _0x47c0cd=_0x14d99d[_0x5c6d5c(0x145)](_0x56b780=>this[_0x5c6d5c(0x133)][_0x5c6d5c(0x163)](_0x56b780)[_0x5c6d5c(0x13f)](_0x806f79));_0x471725!==_0x47c0cd&&(_0x471725&&this[_0x5c6d5c(0x133)][_0x5c6d5c(0x163)](_0x471725)[_0x5c6d5c(0x138)][_0x5c6d5c(0x142)](_0x806f79),_0x47c0cd&&this[_0x5c6d5c(0x133)][_0x5c6d5c(0x163)](_0x47c0cd)[_0x5c6d5c(0x138)][_0x5c6d5c(0x13d)](_0x806f79));}}[_0x537b18(0x172)](){const _0x1ab23d=_0x537b18;this[_0x1ab23d(0x148)](),super[_0x1ab23d(0x172)]();}[_0x537b18(0x15a)](){return!0x0;}[_0x537b18(0x169)](_0x587d20){const _0x228f2d=_0x537b18,_0xa15e5d=[];for(const _0x3a6186 of this[_0x228f2d(0x160)]){(0x0,this[_0x228f2d(0x133)][_0x228f2d(0x163)](_0x3a6186)[_0x228f2d(0x13f)])(_0x587d20)&&_0xa15e5d[_0x228f2d(0x168)](_0x3a6186);}if(_0xa15e5d[_0x228f2d(0x14a)]>0x1)throw new _0x21ed72(_0x228f2d(0x15b),null,{'matchedUIs':_0xa15e5d,'annotationType':_0x587d20[_0x228f2d(0x136)]});}}