/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x3c79(){const _0x59c7a6=['document','addSourceCollector','894ljpQrY','70JhJGzg','isPremiumPlugin','fire','requires','element','1qcPIJu','uiUpdate','editorannotations-invalid-source-callback','hasDomSelection','update','view','refreshSelectedViews','editing','listenTo','from','cancel','pluginName','232461cHAzTM','1139203nEmRhg','isOfficialPlugin','98344lgTAJO','set','isReadOnly','_dataCollectors','get','EditorAnnotations','innerView','isCollapsed','_editorAnnotationsData','113592LvLwVi','9950KdiGjq','map','containsRange','focusTracker','getByInnerView','change:isFocused','init','44kdYnqQ','function','has','delete','isEqual','add','editor','176842dzcpak','10xddOze','8YUWPSh','_editorAnnotations','sort','2518416aMfYjd','registerAnnotation','getRanges','selection','range','161xPqiFB','change:range','getOrderedSelectedAnnotations','collection','blur','plugins','push','remove','model','annotation','refresh','directChange'];_0x3c79=function(){return _0x59c7a6;};return _0x3c79();}const _0x5bc9ae=_0x1c1e;function _0x1c1e(_0x34a344,_0x4747f3){const _0x3c79a6=_0x3c79();return _0x1c1e=function(_0x1c1e00,_0x2dc24b){_0x1c1e00=_0x1c1e00-0x8a;let _0x21ea4d=_0x3c79a6[_0x1c1e00];return _0x21ea4d;},_0x1c1e(_0x34a344,_0x4747f3);}(function(_0x3ac0a1,_0x447b2c){const _0x168b2e=_0x1c1e,_0x46d6e9=_0x3ac0a1();while(!![]){try{const _0x203164=-parseInt(_0x168b2e(0x8f))/0x1*(parseInt(_0x168b2e(0xb6))/0x2)+parseInt(_0x168b2e(0x9b))/0x3*(parseInt(_0x168b2e(0xb8))/0x4)+-parseInt(_0x168b2e(0xa8))/0x5*(parseInt(_0x168b2e(0xce))/0x6)+-parseInt(_0x168b2e(0xc0))/0x7*(-parseInt(_0x168b2e(0x9e))/0x8)+parseInt(_0x168b2e(0xbb))/0x9*(-parseInt(_0x168b2e(0xb7))/0xa)+-parseInt(_0x168b2e(0xaf))/0xb*(parseInt(_0x168b2e(0xa7))/0xc)+parseInt(_0x168b2e(0x9c))/0xd*(parseInt(_0x168b2e(0x8a))/0xe);if(_0x203164===_0x447b2c)break;else _0x46d6e9['push'](_0x46d6e9['shift']());}catch(_0x1599e1){_0x46d6e9['push'](_0x46d6e9['shift']());}}}(_0x3c79,0x2a4c1));import{Plugin as _0x2f7e7a}from'ckeditor5/src/core.js';import{CKEditorError as _0xd9d100}from'ckeditor5/src/utils.js';import{debounce as _0x5892c0}from'es-toolkit/compat';import _0x92f693 from'./annotations.js';export default class P extends _0x2f7e7a{[_0x5bc9ae(0xa1)];[_0x5bc9ae(0xb9)];static get[_0x5bc9ae(0x8d)](){return[_0x92f693];}static get[_0x5bc9ae(0x9a)](){const _0x59dad5=_0x5bc9ae;return _0x59dad5(0xa3);}static get[_0x5bc9ae(0x9d)](){return!0x0;}static get[_0x5bc9ae(0x8b)](){return!0x0;}constructor(_0x2e617f){const _0x3ced8b=_0x5bc9ae;super(_0x2e617f),this[_0x3ced8b(0xa1)]=new Set(),this[_0x3ced8b(0xb9)]=new Set();}[_0x5bc9ae(0xae)](){const _0x443d49=_0x5bc9ae,_0x568d59=this[_0x443d49(0xb5)],_0xa3bd5f=_0x568d59[_0x443d49(0xc8)][_0x443d49(0xcc)][_0x443d49(0xbe)],_0x2efa13=_0x5892c0(()=>this[_0x443d49(0x95)](),0xa);_0xa3bd5f['on'](_0x443d49(0xc1),(_0x3228fe,_0x500ec)=>{const _0x1461d5=_0x443d49;_0x500ec[_0x1461d5(0xcb)]&&(_0x2efa13[_0x1461d5(0x99)](),this[_0x1461d5(0x95)]());}),this[_0x443d49(0x97)](_0x568d59[_0x443d49(0x96)][_0x443d49(0x94)][_0x443d49(0xcc)],_0x443d49(0xad),(_0x12b99f,_0x32ab02,_0x446448)=>{_0x446448&&_0x2efa13();}),this[_0x443d49(0x97)](_0x568d59['ui'][_0x443d49(0xab)],_0x443d49(0xad),(_0x44adb4,_0x54f25a,_0x14e6ef)=>{const _0x513f78=_0x443d49;_0x14e6ef||_0x568d59[_0x513f78(0xa0)]||this[_0x513f78(0x8c)](_0x513f78(0xc4),{'isAnnotationTracked':_0x3034b5=>this[_0x513f78(0xa6)][_0x513f78(0xb1)](_0x3034b5[_0x513f78(0xa4)])});}),this[_0x443d49(0x97)](this[_0x443d49(0xb5)]['ui'],_0x443d49(0x93),()=>this[_0x443d49(0x8c)](_0x443d49(0x90)));}[_0x5bc9ae(0xbc)](_0xcc5d55){const _0x584993=_0x5bc9ae;if(this[_0x584993(0xb9)][_0x584993(0xb1)](_0xcc5d55[_0x584993(0x94)]))return;this[_0x584993(0xb9)][_0x584993(0xb4)](_0xcc5d55[_0x584993(0x94)]),this[_0x584993(0xb5)]['ui'][_0x584993(0xab)][_0x584993(0xb4)](_0xcc5d55[_0x584993(0x94)][_0x584993(0x8e)]);const _0x4e9eee=this[_0x584993(0xb5)][_0x584993(0xc5)][_0x584993(0xa2)](_0x92f693);this[_0x584993(0x97)](_0x4e9eee[_0x584993(0xc3)],_0x584993(0xc7),(_0x466330,_0x57f29c)=>{const _0x5ec69e=_0x584993;this[_0x5ec69e(0xb5)]['ui'][_0x5ec69e(0xab)][_0x5ec69e(0xc7)](_0x57f29c[_0x5ec69e(0x94)][_0x5ec69e(0x8e)]),this[_0x5ec69e(0xb9)][_0x5ec69e(0xb2)](_0x57f29c[_0x5ec69e(0x94)]);});}[_0x5bc9ae(0x92)](){const _0x56e885=_0x5bc9ae;return this[_0x56e885(0xb5)][_0x56e885(0x96)][_0x56e885(0x94)][_0x56e885(0x92)];}[_0x5bc9ae(0xcd)](_0x190477){const _0x1ef635=_0x5bc9ae;if(_0x1ef635(0xb0)!=typeof _0x190477)throw new _0xd9d100(_0x1ef635(0x91));this[_0x1ef635(0xa1)][_0x1ef635(0xb4)](_0x190477);}[_0x5bc9ae(0x95)](){const _0x545257=_0x5bc9ae;this[_0x545257(0x8c)](_0x545257(0xca));}[_0x5bc9ae(0xc2)]({activeAnnotation:_0x5b5b69,annotations:_0x1dd955}){const _0xbfe181=_0x5bc9ae,_0x279fb4=[],_0x444eba=this[_0xbfe181(0xb5)][_0xbfe181(0xc8)][_0xbfe181(0xcc)][_0xbfe181(0xbe)],_0x423c60=Array[_0xbfe181(0x98)](_0x444eba[_0xbfe181(0xbd)]());for(const [_0x48656a,_0x46683c]of this[_0xbfe181(0xa6)]){const _0x483b3d=_0x313506(_0x46683c),_0xa79f3a=_0x1dd955[_0xbfe181(0xac)](_0x48656a);_0x483b3d&&_0xa79f3a&&_0x279fb4[_0xbfe181(0xc6)]({'annotation':_0xa79f3a,'range':_0x483b3d});}function _0x313506(_0x223ed0){const _0x118e00=_0xbfe181;for(const _0x3ee7dc of _0x223ed0)for(const _0x113864 of _0x423c60)if(_0x3ee7dc[_0x118e00(0xaa)](_0x113864,!_0x444eba[_0x118e00(0xa5)]))return _0x3ee7dc;return null;}return _0x279fb4[_0xbfe181(0xba)]((_0x470aa3,_0x19c6dc)=>{const _0x6b5898=_0xbfe181,_0x1fcbb3=_0x470aa3[_0x6b5898(0xbf)],_0x2540f1=_0x19c6dc[_0x6b5898(0xbf)];if(!_0x1fcbb3[_0x6b5898(0xb3)](_0x2540f1)){if(_0x1fcbb3[_0x6b5898(0xaa)](_0x2540f1,!0x0))return 0x1;if(_0x2540f1[_0x6b5898(0xaa)](_0x1fcbb3,!0x0))return-0x1;}return _0x470aa3[_0x6b5898(0xc9)]==_0x5b5b69?-0x1:_0x19c6dc[_0x6b5898(0xc9)]==_0x5b5b69?0x1:0x0;})[_0xbfe181(0xa9)](_0x39e7cf=>_0x39e7cf[_0xbfe181(0xc9)]);}get[_0x5bc9ae(0xa6)](){const _0x425c2f=_0x5bc9ae,_0x57257b=new Map();for(const _0x262d9d of Array[_0x425c2f(0x98)](this[_0x425c2f(0xa1)]))for(const [_0x18dd1d,_0x57c85f]of _0x262d9d())_0x57257b[_0x425c2f(0x9f)](_0x18dd1d,_0x57c85f);return _0x57257b;}}