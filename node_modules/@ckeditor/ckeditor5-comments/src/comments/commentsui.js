/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x54b3cd=_0xd3b7;(function(_0x12881d,_0x442049){const _0x59a69d=_0xd3b7,_0x3a8872=_0x12881d();while(!![]){try{const _0x487b38=parseInt(_0x59a69d(0xd8))/0x1*(-parseInt(_0x59a69d(0xca))/0x2)+-parseInt(_0x59a69d(0xd3))/0x3*(parseInt(_0x59a69d(0x106))/0x4)+-parseInt(_0x59a69d(0xd6))/0x5*(-parseInt(_0x59a69d(0xe7))/0x6)+parseInt(_0x59a69d(0xf7))/0x7*(parseInt(_0x59a69d(0xbe))/0x8)+-parseInt(_0x59a69d(0xce))/0x9*(-parseInt(_0x59a69d(0xc5))/0xa)+parseInt(_0x59a69d(0xc9))/0xb*(-parseInt(_0x59a69d(0xd7))/0xc)+parseInt(_0x59a69d(0xea))/0xd;if(_0x487b38===_0x442049)break;else _0x3a8872['push'](_0x3a8872['shift']());}catch(_0x16f58c){_0x3a8872['push'](_0x3a8872['shift']());}}}(_0x988f,0xc5e8d));import{Plugin as _0x1a0fcd}from'ckeditor5/src/core.js';import{IconAddComment as _0x414a15}from'ckeditor5/src/icons.js';import _0x154214 from'./commentsrepository.js';import _0x306fc8 from'./commentsediting.js';import _0x5b0dad from'../annotations/editorannotations.js';import{ButtonView as _0x25f255,MenuBarMenuListItemButtonView as _0x466725}from'ckeditor5/src/ui.js';import _0x2cd838 from'../annotations/annotations.js';import _0x3b3be8 from'./ui/view/commentslistview.js';import _0x4ffdfa from'./ui/view/commentthreadinputview.js';function _0xd3b7(_0x28fef3,_0x35aea2){const _0x988fb5=_0x988f();return _0xd3b7=function(_0xd3b79e,_0x8355a5){_0xd3b79e=_0xd3b79e-0xb6;let _0x1edf42=_0x988fb5[_0xd3b79e];return _0x1edf42;},_0xd3b7(_0x28fef3,_0x35aea2);}function _0x988f(){const _0x429d8c=['commentsLicenseKeyExpired','find','comment:','getRange','from','26184qBURyv','isEnabled','config','17666857lINcbI','low','init','view','getCommentThread','_createUIButton','_viewToController','expired','commentsLicenseKeyEvaluationLimit','highest','isFocused','map','focus','4402251XmhMlg','has','invalid','usageLimit','locale','execute','bind','commands','stop','Comments','hasCommentThread','model','_licenseKeyCheckInterval','editing','componentFactory','8dvZLPW','pluginName','_threadToController','featureNotAllowed','isOfficialPlugin','CommentsUI','requires','commentsLicenseKeyInvalid','add','_showLicenseError','commentsLicenseKeyNotAllowed','activeMarker','addSourceCollector','comment','removeCommentThread','commentsLicenseKeyUsageLimit','CommentsListView','8CxxvBv','Comment','tooltip','trialLimit','change:activeAnnotations','listenTo','commentsLicenseKeyDomainLimit','882420GttgOy','domainLimit','push','isPremiumPlugin','4046108JdDPdd','18zGNInj','CommentThreadInputView','addCommentThread','evaluationLimit','18IKYevA','get','commentsLicenseKeyTrialLimit','plugins','focusTracker','14439XqwCBZ','getAllMarkersForId','destroy','505EPGAjw','24wCKBWq','116579pfbSmn','commentsLicenseKeyValid','innerView','addComment','editor','licenseKey','length','set','hasMarkerForId','menuBar:comment'];_0x988f=function(){return _0x429d8c;};return _0x988f();}import{getTranslation as _0x238480}from'../utils/common-translations.js';export default class i extends _0x1a0fcd{[_0x54b3cd(0xdd)];[_0x54b3cd(0x103)];static get[_0x54b3cd(0x107)](){const _0x32c1f0=_0x54b3cd;return _0x32c1f0(0x10b);}static get[_0x54b3cd(0x10a)](){return!0x0;}static get[_0x54b3cd(0xc8)](){return!0x0;}static get[_0x54b3cd(0x10c)](){return[_0x154214,_0x306fc8,_0x5b0dad,_0x2cd838];}get[_0x54b3cd(0xbd)](){return _0x3b3be8;}get[_0x54b3cd(0xcb)](){return _0x4ffdfa;}[_0x54b3cd(0xec)](){const _0x4fcb1a=_0x54b3cd,_0x568a3d=this[_0x4fcb1a(0xdc)],_0x3b78a9=_0x568a3d[_0x4fcb1a(0xd1)][_0x4fcb1a(0xcf)](_0x154214),_0x25138f=_0x568a3d[_0x4fcb1a(0xd1)][_0x4fcb1a(0xcf)](_0x306fc8),_0x340088=_0x568a3d[_0x4fcb1a(0xd1)][_0x4fcb1a(0xcf)](_0x2cd838),_0x1590bb=_0x568a3d[_0x4fcb1a(0xd1)][_0x4fcb1a(0xcf)](_0x5b0dad);_0x568a3d['ui'][_0x4fcb1a(0x105)][_0x4fcb1a(0x10e)](_0x4fcb1a(0xba),()=>{const _0x2f0c95=_0x4fcb1a,_0x26de21=this[_0x2f0c95(0xef)](_0x25f255);return _0x26de21[_0x2f0c95(0xc0)]=!0x0,_0x26de21;}),_0x568a3d['ui'][_0x4fcb1a(0x105)][_0x4fcb1a(0x10e)](_0x4fcb1a(0xe1),()=>this[_0x4fcb1a(0xef)](_0x466725)),_0x1590bb[_0x4fcb1a(0xb9)](()=>{const _0x2dbf77=_0x4fcb1a,_0x1ca0c1=[];for(const [_0x37181f,_0x3b26b3]of _0x3b78a9[_0x2dbf77(0x108)]){const _0xe1023c=_0x25138f[_0x2dbf77(0xd4)](_0x37181f['id']),_0x113e7b=_0xe1023c[_0x2dbf77(0xf5)](_0x160aba=>_0x160aba[_0x2dbf77(0xe5)]());_0xe1023c[_0x2dbf77(0xde)]>0x0&&_0x1ca0c1[_0x2dbf77(0xc7)]([_0x3b26b3[_0x2dbf77(0xed)],_0x113e7b]);}return _0x1ca0c1;}),this[_0x4fcb1a(0xc3)](_0x340088,_0x4fcb1a(0xc2),(_0x56b1ab,_0x44e9c2,_0x2e903d)=>{const _0x543260=_0x4fcb1a,_0x3d2640=Array[_0x543260(0xe6)](_0x2e903d)[_0x543260(0xf5)](_0x30b233=>_0x30b233[_0x543260(0xda)])[_0x543260(0xe3)](_0x5ac75c=>_0x3b78a9[_0x543260(0xf0)][_0x543260(0xf8)](_0x5ac75c));if(!_0x3d2640)return void(_0x25138f[_0x543260(0xb8)]=null);const _0x26d655=_0x3b78a9[_0x543260(0xf0)][_0x543260(0xcf)](_0x3d2640)[_0x543260(0x102)]['id'],_0x298333=_0x543260(0xe4)+_0x26d655;_0x26d655&&_0x25138f[_0x543260(0xe0)](_0x26d655)?_0x25138f[_0x543260(0xb8)]=_0x298333:_0x25138f[_0x543260(0xb8)]&&(_0x25138f[_0x543260(0xb8)]=null);}),this[_0x4fcb1a(0xc3)](_0x3b78a9,_0x4fcb1a(0xbb),(_0x54438d,{threadId:_0x321bd5,isFromAdapter:_0x2abcf5})=>{const _0x1938a7=_0x4fcb1a;!_0x2abcf5&&_0x568a3d['ui'][_0x1938a7(0xd2)][_0x1938a7(0xf4)]&&_0x25138f[_0x1938a7(0xe0)](_0x321bd5)&&_0x568a3d[_0x1938a7(0x104)][_0x1938a7(0xed)][_0x1938a7(0xf6)]();},{'priority':_0x4fcb1a(0xf3)}),this[_0x4fcb1a(0xc3)](_0x3b78a9,_0x4fcb1a(0xdb),(_0x2f7e97,{threadId:_0x24c697,isFromAdapter:_0x5365da})=>{const _0x275e31=_0x4fcb1a;if(_0x5365da||!_0x25138f[_0x275e31(0xe0)](_0x24c697)||!_0x3b78a9[_0x275e31(0x101)](_0x24c697))return;0x1===_0x3b78a9[_0x275e31(0xee)](_0x24c697)[_0x275e31(0xde)]&&(_0x568a3d[_0x275e31(0x104)][_0x275e31(0xed)][_0x275e31(0xf6)](),_0x2f7e97[_0x275e31(0xff)]());},{'priority':_0x4fcb1a(0xeb)}),this[_0x4fcb1a(0xdd)]=this[_0x4fcb1a(0xdc)][_0x4fcb1a(0xe9)][_0x4fcb1a(0xcf)](_0x4fcb1a(0xdd));const _0x367816=this[_0x4fcb1a(0xdc)];this[_0x4fcb1a(0x103)]=setInterval(()=>{const _0x1b0109=_0x4fcb1a;let _0x169d24;for(const _0x50c3a5 in _0x367816){const _0xec5ad0=_0x50c3a5,_0x350edb=_0x367816[_0xec5ad0];if(_0x1b0109(0xd9)==_0x350edb||_0x1b0109(0x10d)==_0x350edb||_0x1b0109(0xe2)==_0x350edb||_0x1b0109(0xc4)==_0x350edb||_0x1b0109(0xb7)==_0x350edb||_0x1b0109(0xf2)==_0x350edb||_0x1b0109(0xd0)==_0x350edb||_0x1b0109(0xbc)==_0x350edb){delete _0x367816[_0xec5ad0],_0x169d24=_0x350edb,clearInterval(this[_0x1b0109(0x103)]),this[_0x1b0109(0x103)]=void 0x0;break;}}_0x1b0109(0x10d)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xf9)),_0x1b0109(0xe2)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xf1)),_0x1b0109(0xc4)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xc6)),_0x1b0109(0xb7)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0x109),_0x1b0109(0x100)),_0x1b0109(0xf2)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xcd)),_0x1b0109(0xd0)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xc1)),_0x1b0109(0xbc)==_0x169d24&&_0x367816[_0x1b0109(0xb6)](_0x1b0109(0xfa));},0x3e8);}[_0x54b3cd(0xd5)](){const _0x501d2c=_0x54b3cd;super[_0x501d2c(0xd5)](),this[_0x501d2c(0x103)]&&clearInterval(this[_0x501d2c(0x103)]);}[_0x54b3cd(0xef)](_0x483dc2){const _0x3cc258=_0x54b3cd,_0x22ab53=this[_0x3cc258(0xdc)],_0x5b5ca2=new _0x483dc2(_0x22ab53[_0x3cc258(0xfb)]),_0x4ac6e9=_0x22ab53[_0x3cc258(0xfe)][_0x3cc258(0xcf)](_0x3cc258(0xcc));return _0x5b5ca2[_0x3cc258(0xdf)]({'label':_0x238480(_0x22ab53[_0x3cc258(0xfb)],_0x3cc258(0xbf)),'icon':_0x414a15}),_0x5b5ca2[_0x3cc258(0xfd)](_0x3cc258(0xe8))['to'](_0x4ac6e9),this[_0x3cc258(0xc3)](_0x5b5ca2,_0x3cc258(0xfc),()=>{const _0x33277a=_0x3cc258;_0x4ac6e9[_0x33277a(0xfc)]();}),_0x5b5ca2;}}