/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x40cf86=_0x3fd5;function _0x3fd5(_0x1e6f60,_0x317d1e){const _0x516124=_0x5161();return _0x3fd5=function(_0x3fd575,_0x105717){_0x3fd575=_0x3fd575-0x75;let _0x63e55e=_0x516124[_0x3fd575];return _0x63e55e;},_0x3fd5(_0x1e6f60,_0x317d1e);}(function(_0x13a713,_0x58f9e6){const _0x2e63a9=_0x3fd5,_0x3db323=_0x13a713();while(!![]){try{const _0x4b9c96=parseInt(_0x2e63a9(0x95))/0x1*(parseInt(_0x2e63a9(0x8e))/0x2)+parseInt(_0x2e63a9(0x7a))/0x3+parseInt(_0x2e63a9(0x85))/0x4*(-parseInt(_0x2e63a9(0x7b))/0x5)+-parseInt(_0x2e63a9(0xb2))/0x6+-parseInt(_0x2e63a9(0x8a))/0x7+-parseInt(_0x2e63a9(0xa3))/0x8+parseInt(_0x2e63a9(0xa7))/0x9;if(_0x4b9c96===_0x58f9e6)break;else _0x3db323['push'](_0x3db323['shift']());}catch(_0x4f7995){_0x3db323['push'](_0x3db323['shift']());}}}(_0x5161,0xdcc07));import{ContextPlugin as _0x32e442}from'ckeditor5/src/core.js';import{Collection as _0x28294f,CKEditorError as _0x23ae70}from'ckeditor5/src/utils.js';import _0x5beebe from'./permissions.js';import{getTranslation as _0x1211ed}from'./utils/common-translations.js';import'../theme/usercolors.css';export default class u extends _0x32e442{[_0x40cf86(0x86)];[_0x40cf86(0xa0)];[_0x40cf86(0x81)];[_0x40cf86(0x9f)];static get[_0x40cf86(0xad)](){const _0x54ed62=_0x40cf86;return _0x54ed62(0xa4);}static get[_0x40cf86(0x8c)](){return!0x0;}static get[_0x40cf86(0x9a)](){return!0x0;}static get[_0x40cf86(0xac)](){return[_0x5beebe];}constructor(_0x2be9a3){const _0x5d4f50=_0x40cf86;super(_0x2be9a3),this[_0x5d4f50(0x9e)][_0x5d4f50(0xb0)][_0x5d4f50(0xae)](_0x5d4f50(0x7c),_0x5d4f50(0x99)),this[_0x5d4f50(0x9e)][_0x5d4f50(0xb0)][_0x5d4f50(0xae)](_0x5d4f50(0x80),0x8),this[_0x5d4f50(0x86)]=new _0x28294f(),this[_0x5d4f50(0x9f)]=_0x2be9a3[_0x5d4f50(0x75)],this[_0x5d4f50(0xa0)]=0x0,this[_0x5d4f50(0x81)]=null,this[_0x5d4f50(0xb1)](_0x5d4f50(0xb6));}[_0x40cf86(0x8f)](){const _0x410be2=_0x40cf86;this[_0x410be2(0xa8)]();}get['me'](){const _0x391dc1=_0x40cf86;return null==this[_0x391dc1(0x81)]?null:this[_0x391dc1(0x7e)](this[_0x391dc1(0x81)]);}[_0x40cf86(0xb4)]({id:_0x4aaf15,name:_0xd89489,..._0x524bf3}){const _0x3dea28=_0x40cf86;if(!_0x4aaf15||_0x3dea28(0x82)!=typeof _0x4aaf15)throw new _0x23ae70(_0x3dea28(0x90));if(this[_0x3dea28(0x86)][_0x3dea28(0x79)](_0x4aaf15))throw new _0x23ae70(_0x3dea28(0x77),null,{'id':_0x4aaf15});const _0x35bc68=this[_0x3dea28(0x9e)][_0x3dea28(0xb0)][_0x3dea28(0xaf)](_0x3dea28(0x89)),_0x5afed2={..._0x524bf3,'id':_0x4aaf15,'name':h(this[_0x3dea28(0x9f)],_0xd89489),'color':this[_0x3dea28(0xa1)]()};_0x5afed2[_0x3dea28(0xa6)]=h(this[_0x3dea28(0x9f)],_0x5afed2[_0x3dea28(0xa6)]);const _0x5b777c=new User(_0x5afed2,_0x35bc68);return this[_0x3dea28(0x86)][_0x3dea28(0x78)](_0x5b777c),_0x5b777c;}[_0x40cf86(0x7e)](_0x5e7a16){const _0x17a89d=_0x40cf86;return this[_0x17a89d(0x86)][_0x17a89d(0xaf)](_0x5e7a16);}[_0x40cf86(0x91)](){const _0x17e1a7=_0x40cf86,_0x545d5e=this[_0x17e1a7(0x9e)][_0x17e1a7(0xb0)][_0x17e1a7(0xaf)](_0x17e1a7(0x7c));this[_0x17e1a7(0x81)]||this[_0x17e1a7(0x8b)](_0x545d5e);}[_0x40cf86(0x8b)](_0x4ea40c){const _0x39f6bf=_0x40cf86;if(this[_0x39f6bf(0x81)])throw new _0x23ae70(_0x39f6bf(0x88),null);const _0x1c0d15=this[_0x39f6bf(0x7e)](_0x4ea40c);if(!_0x1c0d15)throw new _0x23ae70(_0x39f6bf(0x9d),null);this[_0x39f6bf(0x81)]=_0x4ea40c,_0x1c0d15[_0x39f6bf(0xab)]=!0x0;}[_0x40cf86(0xb6)](){return this['me'];}[_0x40cf86(0xa1)](){const _0x42ea08=_0x40cf86,_0x456bdf=this[_0x42ea08(0x9e)][_0x42ea08(0xb0)][_0x42ea08(0xaf)](_0x42ea08(0x80));return this[_0x42ea08(0xa0)]>=_0x456bdf&&(this[_0x42ea08(0xa0)]=0x0),new l(this[_0x42ea08(0xa0)]++);}[_0x40cf86(0xa8)](){const _0x3d5dcd=_0x40cf86,_0x3fcca9=this[_0x3d5dcd(0x9e)][_0x3d5dcd(0xb0)][_0x3d5dcd(0xaf)](_0x3d5dcd(0x7c));this[_0x3d5dcd(0xb4)]({'id':_0x3fcca9,'name':_0x1211ed(this[_0x3d5dcd(0x9f)],_0x3d5dcd(0x96))})[_0x3d5dcd(0x93)]=!0x0;}}export class User{['id'];[_0x40cf86(0x84)];[_0x40cf86(0xa6)];[_0x40cf86(0x98)];[_0x40cf86(0x83)];[_0x40cf86(0xab)];[_0x40cf86(0x93)];constructor(_0x3485cc,_0xa3c72a){const _0x559dff=_0x40cf86;this['id']=_0x3485cc['id'],this[_0x559dff(0x84)]=_0x3485cc[_0x559dff(0x84)],this[_0x559dff(0xa6)]=_0x3485cc[_0x559dff(0xa6)],this[_0x559dff(0x98)]=_0xa3c72a?_0xa3c72a(this[_0x559dff(0xa6)]):this[_0x559dff(0x87)](),this[_0x559dff(0x83)]=_0x3485cc[_0x559dff(0x83)],this[_0x559dff(0x93)]=!0x1,this[_0x559dff(0xab)]=!0x1;}get[_0x40cf86(0x7d)](){const _0x22937b=_0x40cf86;return this[_0x22937b(0x93)];}get[_0x40cf86(0x94)](){const _0x54502b=_0x40cf86;return this[_0x54502b(0xab)];}[_0x40cf86(0x87)](){const _0x215771=_0x40cf86,_0x482a45=this[_0x215771(0xa6)][_0x215771(0xa2)]('\x20')[_0x215771(0xa5)](_0x139e36=>/^[\p{Letter}]/u[_0x215771(0x76)](_0x139e36));return 0x1===_0x482a45[_0x215771(0x9c)]?this[_0x215771(0xb9)](_0x482a45[0x0]):0x0===_0x482a45[_0x215771(0x9c)]?this[_0x215771(0xb9)](this[_0x215771(0xa6)]):this[_0x215771(0xb9)](_0x482a45[0x0])+this[_0x215771(0xb9)](_0x482a45[_0x482a45[_0x215771(0x9c)]-0x1]);}[_0x40cf86(0xb9)](_0x1c0f16){const _0x2fe9e3=_0x40cf86;return String[_0x2fe9e3(0x92)](_0x1c0f16[_0x2fe9e3(0x97)](0x0))[_0x2fe9e3(0xa9)]();}}function h(_0x2ae598,_0x339e3d=''){const _0xf1a14e=_0x40cf86;return''==(_0x339e3d=_0x339e3d[_0xf1a14e(0xb5)]())?_0x1211ed(_0x2ae598,_0xf1a14e(0x96)):_0x339e3d;}class l{[_0x40cf86(0xaa)];constructor(_0x18741b){const _0x20980d=_0x40cf86;this[_0x20980d(0xaa)]=_0x18741b;}[_0x40cf86(0xb7)](){const _0x411e9b=_0x40cf86;return _0x411e9b(0x7f)+this[_0x411e9b(0xaa)];}[_0x40cf86(0x9b)](){const _0x28ea5b=_0x40cf86;return _0x28ea5b(0xb8)+this[_0x28ea5b(0xaa)];}[_0x40cf86(0x8d)](){const _0x51f16b=_0x40cf86;return _0x51f16b(0xb3)+this[_0x51f16b(0xaa)];}}function _0x5161(){const _0x288484=['color','50408YQkjgn','users','_computeInitials','users-me-already-defined','users.getInitialsCallback','11813459fTWmOC','defineMe','isOfficialPlugin','getMarkerClass','48782xqxzoj','init','users-add-invalid-id','useAnonymousUser','fromCodePoint','_isAnonymous','isMe','73XXEYtt','Anonymous','codePointAt','initials','anonymous-user','isPremiumPlugin','getSelectionClass','length','users-me-missing-user','context','_locale','_lastColor','_getNextColor','split','13375784rWWLin','Users','filter','name','26309628MqLNMX','_addAnonymousUser','toUpperCase','_id','_isMe','requires','pluginName','define','get','config','decorate','3416766ynTsFh','ck-user__marker--','addUser','trim','getOperationAuthor','getBackgroundColorClass','ck-user__selection--','_getInitial','locale','test','users-add-duplicated-id','add','has','4395741rPAKUH','530YEcAhJ','users.anonymousUserId','isAnonymous','getUser','ck-user__bg-color--','users.colorsCount','_myId','string','avatar'];_0x5161=function(){return _0x288484;};return _0x5161();}