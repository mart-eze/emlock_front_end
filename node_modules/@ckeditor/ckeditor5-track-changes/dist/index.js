/*
 *             Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import{Command as _0x485279,Plugin as _0x2e402e,PendingActions as _0x324e00}from'@ckeditor/ckeditor5-core/dist/index.js';import{CKEditorError as _0x154abc,ObservableMixin as _0x2fddcd,uid as _0x35a597,priorities as _0x38ebba,insertToPriorityArray as _0x338e6d,logWarning as _0x3f4f28,getEnvKeystrokeText as _0x241b6b,FocusTracker as _0x42da76,KeystrokeHandler as _0x3795a5,Collection as _0x175d96}from'@ckeditor/ckeditor5-utils/dist/index.js';import{IconCheck as _0xcf3c42,IconCancel as _0x5a37ba,IconTrackChanges as _0x4b8ee1}from'@ckeditor/ckeditor5-icons/dist/index.js';import{normalizeColorOptions as _0x3ad279,View as _0x1a32e9,ViewCollection as _0x350714,FocusCycler as _0x46bcaa,ViewModel as _0x117175,createDropdown as _0x3f8089,SplitButtonView as _0xe483bf,addListToDropdown as _0x38edf8,MenuBarMenuView as _0x2f2f68,MenuBarMenuListView as _0x248a9a,ListSeparatorView as _0x324f0a,MenuBarMenuListItemView as _0x17a348,MenuBarMenuListItemButtonView as _0x450363,BodyCollection as _0x3b21f6,Dialog as _0x8f1cc9}from'@ckeditor/ckeditor5-ui/dist/index.js';import{Users as _0x370d6e,hashObject as _0x14074c,surroundingMarkersDetector as _0x336650,FOCUS_ANNOTATION_KEYSTROKE as _0x1ab607,AriaDescriptionView as _0xa7e2d6,setupThreadKeyboardNavigation as _0x4691ec,trimHtml as ti,UserView as _0x502fb1,LateFocusButtonView as _0x26e116,getDateTimeFormatter as _0x363307,getAllMarkersDomElementsSorted as _0x3866ae,sanitizeEditorConfig as _0x537397}from'ckeditor5-collaboration/dist/index.js';import{Element as _0x6391f5,LiveRange as _0x29cc96,LivePosition as _0x2dfdcc,DowncastWriter as _0x530dcd}from'@ckeditor/ckeditor5-engine/dist/index.js';import{setHighlightHandling as _0x468aeb,toWidget as _0x46aac5}from'@ckeditor/ckeditor5-widget/dist/index.js';import{cloneDeep as _0x459926,set as _0x161986,isEqual as _0x258000,unset as _0x5cf20d,omit as Ft}from'es-toolkit/compat';import{Delete as _0xdc3ebc,Input as tr}from'@ckeditor/ckeditor5-typing/dist/index.js';import{Enter as _0x642fd7}from'@ckeditor/ckeditor5-enter/dist/index.js';import{ClipboardPipeline as _0x2cf5b4}from'@ckeditor/ckeditor5-clipboard/dist/index.js';class B extends _0x485279{['_enabledCommands'];constructor(_0x40547b,_0x2ce5cf){super(_0x40547b),this['_enabledCommands']=_0x2ce5cf,this['value']=!0x1,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){this['value']=!this['value'],this['value']?this['_disableUnsupportedCommands']():this['_enableCommands']();}['_disableUnsupportedCommands'](){for(const _0x3a6568 of this['editor']['commands']['commands']())_0x3a6568['affectsData']&&!this['_enabledCommands']['has'](_0x3a6568)&&_0x3a6568['forceDisabled']('TrackChangesCommand');}['_enableCommands'](){for(const _0x19d2f3 of this['editor']['commands']['commands']())_0x19d2f3['affectsData']&&!this['_enabledCommands']['has'](_0x19d2f3)&&_0x19d2f3['clearForceDisabled']('TrackChangesCommand');}}class O extends _0x485279{['_suggestions'];constructor(_0x17e3ef,_0x1c1bbb){super(_0x17e3ef),this['_suggestions']=_0x1c1bbb,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x25e2c1){const _0x38ed74=this['_suggestions']['get'](_0x25e2c1);if(!_0x38ed74)throw new _0x154abc('track-changes-accept-suggestion-not-found',this);const _0x4dc939=_0x38ed74['getRanges']();this['editor']['model']['canEditAt'](_0x4dc939)&&this['editor']['plugins']['get']('TrackChangesEditing')['acceptSuggestion'](_0x38ed74);}}class R extends _0x485279{['_suggestions'];constructor(_0x3f7658,_0x4bbcd4){super(_0x3f7658),this['_suggestions']=_0x4bbcd4,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){this['isEnabled']=!0x0;}['execute'](_0x291ad5){const _0x2b749f=this['_suggestions']['get'](_0x291ad5);if(!_0x2b749f)throw new _0x154abc('track-changes-discard-suggestion-not-found',this);const _0x270d21=_0x2b749f['getRanges']();this['editor']['model']['canEditAt'](_0x270d21)&&this['editor']['plugins']['get']('TrackChangesEditing')['discardSuggestion'](_0x2b749f);}}function ls(_0x245a1a,_0x36ef8d){let _0x2e77ca='';return _0x2e77ca+=_0x245a1a['split']('*')['map']((_0x59c973,_0x5c9b6d)=>_0x5c9b6d%0x2!=0x0?'<span\x20class=\x22ck-suggestion-type\x22>'+nn(_0x59c973)+'</span>':nn(_0x59c973))['join'](''),_0x36ef8d&&(_0x2e77ca+='<span\x20class=\x22ck-suggestion-color\x22\x20style=\x22background-color:\x20'+_0x36ef8d['value']+'\x22\x20title=\x22'+_0x36ef8d['title']+'\x22></span>'),_0x2e77ca;}function nn(_0x30c62d){const _0x150bec=document['createElement']('span');return _0x150bec['innerText']=_0x30c62d,_0x150bec['innerHTML'];}function ts(_0x156d58){return _0x156d58['sort']((_0x218305,_0x95d473)=>'deletion'==_0x218305['type']&&'deletion'!=_0x95d473['type']?-0x1:'deletion'!=_0x218305['type']&&'deletion'==_0x95d473['type']?0x1:0x0);}function to(_0x1cb642,_0x13cac2){let _0x5a4da7,_0x4feae8=0x0;const _0x12823b=[],_0x1a3aa3=_0x13cac2['schema'];for(;_0x4feae8<_0x1cb642['length'];){const _0x401a51=_0x1cb642[_0x4feae8],_0x4d7937=_0x1cb642[_0x4feae8+0x1];_0x5a4da7||(_0x5a4da7=_0x13cac2['createPositionBefore'](_0x401a51)),on(_0x13cac2,_0x401a51,_0x4d7937)||(_0x12823b['push'](_0x13cac2['createRange'](_0x5a4da7,_0x1a3aa3['isObject'](_0x401a51)?_0x13cac2['createPositionAfter'](_0x401a51):_0x13cac2['createPositionAt'](_0x401a51,'end'))),_0x5a4da7=null),_0x4feae8++;}return _0x12823b;}function on(_0x1bedcf,_0x15c12d,_0x185543){if(!_0x185543)return!0x1;const _0x11f72f=_0x1bedcf['createPositionAfter'](_0x15c12d),_0x3c5354=_0x1bedcf['createPositionBefore'](_0x185543);return _0x11f72f['isTouching'](_0x3c5354);}function rs(_0x31b738,_0x5aca74,_0x3dc059){for(;_0x3dc059['length'];){const _0x2add37=_0x3dc059['splice'](0x0,0x64);_0x31b738['change'](()=>{for(const _0x533064 of _0x2add37)_0x533064['isInContent']&&_0x5aca74['execute'](_0x533064['id']);});}}class x extends _0x485279{['_command'];['_suggestions'];constructor(_0x59f2b4,_0x2ef54c,_0x4e139b){super(_0x59f2b4),this['_command']=_0x2ef54c,this['_suggestions']=_0x4e139b,this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x20a321=Array['from'](this['_suggestions']['values']())['some'](_0x1fb195=>_0x1fb195['isInContent']);this['isEnabled']=this['_command']['isEnabled']&&_0x20a321;}['execute'](){const _0x4794f9=ts(Array['from'](this['_suggestions']['values']()));for(const _0x16b17f of _0x4794f9){const _0x3eb359=_0x16b17f['getRanges']();if(!this['editor']['model']['canEditAt'](_0x3eb359))return;}rs(this['editor']['model'],this['_command'],_0x4794f9);}}class E extends _0x485279{['_command'];['_suggestions'];['_selectedSuggestions'];constructor(_0x234e9c,_0x22d861,_0x42345b){super(_0x234e9c),this['_command']=_0x22d861,this['_suggestions']=_0x42345b,this['_selectedSuggestions']=new Set(),this['refresh'](),this['_isEnabledBasedOnSelection']=!0x1;}['refresh'](){const _0x1ceab5=this['editor']['model']['document']['selection'],_0x1fbda8=Array['from'](this['_suggestions']['values']());this['_selectedSuggestions']=function(_0x1b8b40,_0x56a7da){const _0x4a58d7=Array['from'](_0x1b8b40['getRanges']()),_0x17de87=new Set();for(const _0x408473 of _0x56a7da)if(_0x408473['isInContent']){for(const _0x1c726e of _0x4a58d7)for(const _0x52c2b1 of _0x408473['getRanges']())(_0x1c726e['isIntersecting'](_0x52c2b1)||_0x1b8b40['isCollapsed']&&!_0x408473['isMultiRange']&&_0x408473['next']&&_0x52c2b1['end']['isTouching'](_0x1c726e['start']))&&_0x17de87['add'](_0x408473);}return _0x17de87;}(_0x1ceab5,_0x1fbda8),this['isEnabled']=this['_command']['isEnabled']&&!!this['_selectedSuggestions']['size'];}['execute'](){const _0x4d53fa=ts(Array['from'](this['_selectedSuggestions']));for(const _0x16c07e of _0x4d53fa){const _0x559550=_0x16c07e['getRanges']();if(!this['editor']['model']['canEditAt'](_0x559550))return;}rs(this['editor']['model'],this['_command'],_0x4d53fa);}}class o extends/* #__PURE__ -- @preserve */
_0x2fddcd(){['id'];['type'];['subType'];['author'];['creator'];['isExternal'];['data'];['createdAt'];['_isDataLoaded']=!0x1;['_model'];['_onAccept'];['_onDiscard'];['_onAttributesChange'];['_markerNames'];constructor(_0x287b06,_0x636794){super(),this['id']=_0x636794['id'],this['type']=_0x636794['type'],this['subType']=_0x636794['subType']||null,this['author']=_0x636794['author'],this['creator']=_0x636794['creator']||_0x636794['author'],this['isExternal']=Boolean(_0x636794['attributes']&&_0x636794['attributes']['@external']),this['data']=null,this['_model']=_0x287b06,this['_onAccept']=_0x636794['onAccept'],this['_onDiscard']=_0x636794['onDiscard'],this['_onAttributesChange']=_0x636794['onAttributesChange'],this['_markerNames']=new Set(),this['createdAt']=null,this['set']('authoredAt',null),this['set']('attributes',_0x636794['attributes']||{}),this['set']('previous',null),this['set']('next',null),this['set']('commentThread',null),this['set']('_saved',!0x1),this['decorate']('accept'),this['decorate']('discard');}get['head'](){let _0xe4fa28=this;for(;_0xe4fa28['previous'];)_0xe4fa28=_0xe4fa28['previous'];return _0xe4fa28;}get['hasComments'](){return!!this['commentThread']&&this['commentThread']['length']>0x0;}get['isMultiRange'](){if(0x0==this['_markerNames']['size'])return!0x1;return 0x6==Array['from'](this['_markerNames'])[0x0]['split'](':')['length'];}get['isInContent'](){return null!==this['getFirstMarker']();}['addMarkerName'](_0x1a3a9b){this['_markerNames']['add'](_0x1a3a9b);}['getMarkerNames'](){return Array['from'](this['_markerNames']);}['getMarkers'](){return this['getMarkerNames']()['map'](_0x44bc0f=>this['_model']['markers']['get'](_0x44bc0f))['filter'](_0x16d4fc=>_0x16d4fc);}['getFirstMarker'](){return this['getMarkers']()[0x0]||null;}['removeMarkers'](){this['_model']['change'](_0x56eacb=>{for(const _0xfb9542 of this['getMarkers']())_0x56eacb['removeMarker'](_0xfb9542);}),this['_markerNames']['clear']();}['removeMarker'](_0x4af4d1){this['_model']['change'](_0x1b735e=>{_0x1b735e['removeMarker'](_0x4af4d1);}),this['_markerNames']['delete'](_0x4af4d1);}['addRange'](_0x5aaf30){const _0x18d41d='suggestion:'+this['type']+':'+this['subType']+':'+this['id']+':'+this['creator']['id']+':'+o['getMultiRangeId']();this['addMarkerName'](_0x18d41d),this['_model']['change'](_0x15d04d=>{_0x15d04d['addMarker'](_0x18d41d,{'range':_0x5aaf30,'usingOperation':!0x0,'affectsData':!0x0});});}['isIntersectingWithRange'](_0x39030c){for(const _0x52bfed of this['getRanges']())if(_0x52bfed['isIntersecting'](_0x39030c))return!0x0;return!0x1;}['getRanges'](){return this['getMarkers']()['map'](_0x2158b0=>_0x2158b0['getRange']());}['getItems'](){return this['getRanges']()['reduce']((_0x30e3e1,_0x52b00f)=>[..._0x30e3e1,..._0x52b00f['getItems']()],[]);}['getFirstRange'](){return this['getFirstMarker']()?.['getRange']()||null;}['getContainedElement'](){const _0x5d7c07=this['getRanges']();if(0x1!=_0x5d7c07['length'])return null;const _0x5e0d92=_0x5d7c07[0x0],_0x54f28e=_0x5e0d92['start']['nodeAfter'],_0x5a2c62=_0x5e0d92['end']['nodeBefore'];return _0x54f28e instanceof _0x6391f5?_0x54f28e!=_0x5a2c62?null:_0x54f28e:null;}['accept'](){this['_onAccept'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['discard'](){this['_onDiscard'](this['getRanges'](),this['data'],this['attributes']),this['removeMarkers']();}['getAllAdjacentSuggestions'](){const _0x197ca1=[];let _0xdae13e=this['head'];for(;_0xdae13e;)_0x197ca1['push'](_0xdae13e),_0xdae13e=_0xdae13e['next'];return _0x197ca1;}['setAttribute'](_0x4587c9,_0x28294d){const _0x363942=_0x459926(this['attributes']);_0x161986(_0x363942,_0x4587c9,_0x28294d),_0x258000(_0x363942,this['attributes'])||(this['attributes']=_0x363942,this['_onAttributesChange'](_0x363942));}['removeAttribute'](_0x16c264){const _0x11dbdd=_0x459926(this['attributes']);_0x5cf20d(_0x11dbdd,_0x16c264),_0x258000(_0x11dbdd,this['attributes'])||(this['attributes']=_0x11dbdd,this['_onAttributesChange'](this['attributes']));}['toJSON'](){return{'id':this['id'],'type':this['subType']?this['type']+':'+this['subType']:this['type'],'authorId':this['creator']['id'],'createdAt':this['createdAt'],'hasComments':this['hasComments'],'data':this['data'],'attributes':this['attributes']};}static['getMultiRangeId'](){return _0x35a597()['substr'](0x1,0x5);}}function c(_0xb0bc3a,_0xd69f79,_0xd85e77){const _0x67c488=_0xb0bc3a['t'],t=_0xb0bc3a['t'];switch(_0xd69f79){case'Track\x20changes':return t('Track\x20changes');case'Accept\x20suggestion':return t('Accept\x20suggestion');case'Discard\x20suggestion':return t('Discard\x20suggestion');case'Accept\x20all\x20suggestions':return t('Accept\x20all\x20suggestions');case'Accept\x20all\x20selected\x20suggestions':return t('Accept\x20all\x20selected\x20suggestions');case'Discard\x20all\x20suggestions':return t('Discard\x20all\x20suggestions');case'Discard\x20all\x20selected\x20suggestions':return t('Discard\x20all\x20selected\x20suggestions');case'Preview\x20final\x20content':return t('Preview\x20final\x20content');case'Final\x20content\x20preview':return t('Final\x20content\x20preview');case'*Reset\x20font\x20size*':return t('*Reset\x20font\x20size*');case'*Reset\x20font\x20family*':return t('*Reset\x20font\x20family*');case'*Reset\x20font\x20color*':return t('*Reset\x20font\x20color*');case'*Reset\x20font\x20background\x20color*':return t('*Reset\x20font\x20background\x20color*');case'*Remove\x20image\x20text\x20alternative*':return t('*Remove\x20image\x20text\x20alternative*');case'*Reset\x20image\x20width*':return t('*Reset\x20image\x20width*');case'*Remove\x20link*':return t('*Remove\x20link*');case'*Check\x20item*':return t('*Check\x20item*');case'*Uncheck\x20item*':return t('*Uncheck\x20item*');case'*Remove\x20all\x20formatting*':return t('*Remove\x20all\x20formatting*');case'*Replace\x20table\x20cells*':return t('*Replace\x20table\x20cells*');case'*Merge\x20cells*':return t('*Merge\x20cells*');case'*Split\x20cell:*\x20vertically':return t('*Split\x20cell:*\x20vertically');case'*Split\x20cell:*\x20horizontally':return t('*Split\x20cell:*\x20horizontally');case'*Indent:*\x20%0':return t('*Indent:*\x20%0',_0xd85e77);case'*Outdent:*\x20%0':return t('*Outdent:*\x20%0',_0xd85e77);case'*Change\x20to:*\x20%0':return t('*Change\x20to:*\x20%0',_0xd85e77);case'*Insert:*\x20%0':return t('*Insert:*\x20%0',_0xd85e77);case'*Format:*\x20%0':return t('*Format:*\x20%0',_0xd85e77);case'*Format:*\x20change\x20table\x20properties':return t('*Format:*\x20change\x20table\x20properties');case'*Format:*\x20change\x20table\x20cell\x20properties':return t('*Format:*\x20change\x20table\x20cell\x20properties');case'*Format:*\x20insert\x20into\x20%0':return t('*Format:*\x20insert\x20into\x20%0',_0xd85e77);case'*Format:*\x20remove\x20from\x20%0':return t('*Format:*\x20remove\x20from\x20%0',_0xd85e77);case'*Replace\x20image*':return t('*Replace\x20image*');case'*Format:*\x20resize\x20table':return t('*Format:*\x20resize\x20table');case'*Format:*\x20set\x20order\x20to\x20reversed':return t('*Format:*\x20set\x20order\x20to\x20reversed');case'*Format:*\x20set\x20order\x20to\x20regular':return t('*Format:*\x20set\x20order\x20to\x20regular');case'*Format:*\x20set\x20start\x20index\x20to\x20%0':return t('*Format:*\x20set\x20start\x20index\x20to\x20%0',_0xd85e77);case'*Change\x20%0\x20content*':return t('*Change\x20%0\x20content*',_0xd85e77);case'*Remove:*\x20%0':return t('*Remove:*\x20%0',_0xd85e77);case'*Merge:*\x20%0':return t('*Merge:*\x20%0',_0xd85e77);case'*Split:*\x20%0':return t('*Split:*\x20%0',_0xd85e77);case'*Remove\x20format:*\x20%0':return t('*Remove\x20format:*\x20%0',_0xd85e77);case'*Set\x20bookmark:*\x20%0':return t('*Set\x20bookmark:*\x20%0',_0xd85e77);case'*Set\x20font\x20size:*\x20%0':return t('*Set\x20font\x20size:*\x20%0',_0xd85e77);case'*Set\x20font\x20family:*\x20%0':return t('*Set\x20font\x20family:*\x20%0',_0xd85e77);case'*Set\x20format\x20to:*\x20%0':return t('*Set\x20format\x20to:*\x20%0',_0xd85e77);case'*Set\x20font\x20color:*\x20%0':return t('*Set\x20font\x20color:*\x20%0',_0xd85e77);case'*Set\x20font\x20background\x20color:*\x20%0':return t('*Set\x20font\x20background\x20color:*\x20%0',_0xd85e77);case'*Set\x20format:*\x20%0':return t('*Set\x20format:*\x20%0',_0xd85e77);case'*Set\x20image\x20text\x20alternative:*\x20%0':return t('*Set\x20image\x20text\x20alternative:*\x20%0',_0xd85e77);case'*Set\x20image\x20width:*\x20%0':return t('*Set\x20image\x20width:*\x20%0',_0xd85e77);case'*Set\x20link:*\x20%0':return t('*Set\x20link:*\x20%0',_0xd85e77);case'*Set\x20highlight:*\x20%0':return t('*Set\x20highlight:*\x20%0',_0xd85e77);case'*Set\x20table\x20type:*\x20%0':return t('*Set\x20table\x20type:*\x20%0',_0xd85e77);case'*Remove\x20highlight*':return t('*Remove\x20highlight*');case'FORMAT_HIGHLIGHT':return t({'string':'highlight','id':'FORMAT_HIGHLIGHT'});case'FORMAT_RESTRICTED_ENABLED':return t({'string':'*Enable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_ENABLED'});case'FORMAT_RESTRICTED_DISABLED':return t({'string':'*Disable\x20in\x20restricted\x20editing\x20mode*','id':'FORMAT_RESTRICTED_DISABLED'});case'ELEMENT_TABLE':return t({'string':'table','plural':'%0\x20tables','id':'ELEMENT_TABLE'},_0xd85e77);case'ELEMENT_CONTENT_TABLE':return t({'string':'content\x20table','plural':'%0\x20content\x20tables','id':'ELEMENT_CONTENT_TABLE'},_0xd85e77);case'ELEMENT_LAYOUT_TABLE':return t({'string':'layout\x20table','plural':'%0\x20layout\x20tables','id':'ELEMENT_LAYOUT_TABLE'},_0xd85e77);case'ELEMENT_PARAGRAPH':return t({'string':'paragraph','plural':'%0\x20paragraphs','id':'ELEMENT_PARAGRAPH'},_0xd85e77);case'ELEMENT_PAGE_BREAK':return t({'string':'page\x20break','plural':'%0\x20page\x20breaks','id':'ELEMENT_PAGE_BREAK'},_0xd85e77);case'ELEMENT_MEDIA':return t({'string':'media\x20item','plural':'%0\x20media\x20items','id':'ELEMENT_MEDIA'},_0xd85e77);case'ELEMENT_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_IMAGE'},_0xd85e77);case'ELEMENT_INLINE_IMAGE':return t({'string':'image','plural':'%0\x20images','id':'ELEMENT_INLINE_IMAGE'},_0xd85e77);case'FORMAT_SIDE_IMAGE':return t({'string':'side\x20image','id':'FORMAT_SIDE_IMAGE'});case'ELEMENT_CAPTION':return t({'string':'caption','id':'ELEMENT_CAPTION'});case'ELEMENT_HORIZONTAL_LINE':return t({'string':'horizontal\x20line','plural':'%0\x20horizontal\x20lines','id':'ELEMENT_HORIZONTAL_LINE'},_0xd85e77);case'ELEMENT_HTML_EMBED':return t({'string':'HTML\x20embed','plural':'%0\x20HTML\x20embeds','id':'ELEMENT_HTML_EMBED'},_0xd85e77);case'ELEMENT_HEADING':return t({'string':'heading\x20(level\x20%1)','plural':'%0\x20headings\x20(level\x20%1)','id':'ELEMENT_HEADING'},_0xd85e77);case'ELEMENT_HEADING_CUSTOM':return t({'string':'heading\x20(%1)','plural':'%0\x20headings\x20(%1)','id':'ELEMENT_HEADING_CUSTOM'},_0xd85e77);case'ELEMENT_LIST_ITEM':return t({'string':'list\x20item','plural':'%0\x20list\x20items','id':'ELEMENT_LIST_ITEM'},_0xd85e77);case'ELEMENT_DEFAULT_LIST_DEFAULT':return t({'string':'default\x20list\x20style','id':'ELEMENT_DEFAULT_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST':return t({'string':'bulleted\x20list','id':'ELEMENT_BULLETED_LIST'});case'ELEMENT_BULLETED_LIST_DEFAULT':return t({'string':'bulleted\x20list\x20(default)','id':'ELEMENT_BULLETED_LIST_DEFAULT'});case'ELEMENT_BULLETED_LIST_CIRCLE':return t({'string':'bulleted\x20list\x20(circle)','id':'ELEMENT_BULLETED_LIST_CIRCLE'});case'ELEMENT_BULLETED_LIST_DISC':return t({'string':'bulleted\x20list\x20(disc)','id':'ELEMENT_BULLETED_LIST_DISC'});case'ELEMENT_BULLETED_LIST_SQUARE':return t({'string':'bulleted\x20list\x20(square)','id':'ELEMENT_BULLETED_LIST_SQUARE'});case'ELEMENT_NUMBERED_LIST_DEFAULT':return t({'string':'numbered\x20list\x20(default)','id':'ELEMENT_NUMBERED_LIST_DEFAULT'});case'ELEMENT_NUMBERED_LIST':return t({'string':'numbered\x20list','id':'ELEMENT_NUMBERED_LIST'});case'ELEMENT_NUMBERED_LIST_DECIMAL':return t({'string':'numbered\x20list\x20(decimal)','id':'ELEMENT_NUMBERED_LIST_DECIMAL'});case'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO':return t({'string':'numbered\x20list\x20(decimal\x20with\x20leading\x20zero)','id':'ELEMENT_NUMBERED_LIST_DECIMAL_LEADING_ZERO'});case'ELEMENT_NUMBERED_LIST_LOWER_LATIN':return t({'string':'numbered\x20list\x20(lower-latin)','id':'ELEMENT_NUMBERED_LIST_LOWER_LATIN'});case'ELEMENT_NUMBERED_LIST_LOWER_ROMAN':return t({'string':'numbered\x20list\x20(lower-roman)','id':'ELEMENT_NUMBERED_LIST_LOWER_ROMAN'});case'ELEMENT_NUMBERED_LIST_UPPER_LATIN':return t({'string':'numbered\x20list\x20(upper-latin)','id':'ELEMENT_NUMBERED_LIST_UPPER_LATIN'});case'ELEMENT_NUMBERED_LIST_UPPER_ROMAN':return t({'string':'numbered\x20list\x20(upper-roman)','id':'ELEMENT_NUMBERED_LIST_UPPER_ROMAN'});case'ELEMENT_TODO_LIST':return t({'string':'to-do\x20list','id':'ELEMENT_TODO_LIST'});case'ELEMENT_MULTI_LEVEL_LIST':return t({'string':'multi-level\x20list','id':'ELEMENT_MULTI_LEVEL_LIST'});case'REPLACE_TEXT':return t({'string':'*Replace:*\x20%0\x20*with*\x20%1','id':'REPLACE_TEXT'},_0xd85e77);case'ELEMENT_SPACE':return t({'string':'space','plural':'%0\x20spaces','id':'ELEMENT_SPACE'},_0xd85e77);case'FORMAT_ALIGNMENT':return t({'string':'alignment','id':'FORMAT_ALIGNMENT'});case'FORMAT_ALIGN_TO_LEFT':return t({'string':'align\x20to\x20left','id':'FORMAT_ALIGN_TO_LEFT'});case'FORMAT_ALIGN_TO_RIGHT':return t({'string':'align\x20to\x20right','id':'FORMAT_ALIGN_TO_RIGHT'});case'FORMAT_ALIGN_TO_CENTER':return t({'string':'align\x20to\x20center','id':'FORMAT_ALIGN_TO_CENTER'});case'FORMAT_JUSTIFY_TEXT':return t({'string':'justify','id':'FORMAT_JUSTIFY_TEXT'});case'FORMAT_BOLD':return t({'string':'bold','id':'FORMAT_BOLD'});case'FORMAT_ITALIC':return t({'string':'italic','id':'FORMAT_ITALIC'});case'FORMAT_UNDERLINE':return t({'string':'underline','id':'FORMAT_UNDERLINE'});case'FORMAT_CODE':return t({'string':'code','id':'FORMAT_CODE'});case'FORMAT_STRIKETHROUGH':return t({'string':'strikethrough','id':'FORMAT_STRIKETHROUGH'});case'FORMAT_SUBSCRIPT':return t({'string':'subscript','id':'FORMAT_SUBSCRIPT'});case'FORMAT_SUPERSCRIPT':return t({'string':'superscript','id':'FORMAT_SUPERSCRIPT'});case'ELEMENT_BLOCK_QUOTE':return t({'string':'block\x20quote','id':'ELEMENT_BLOCK_QUOTE'});case'ELEMENT_CODE_BLOCK':return t({'string':'code\x20block','plural':'%0\x20code\x20blocks','id':'ELEMENT_CODE_BLOCK'},_0xd85e77);case'FORMAT_HEADER_COLUMN':return t({'string':'header\x20column','id':'FORMAT_HEADER_COLUMN'});case'FORMAT_REGULAR_COLUMN':return t({'string':'regular\x20column','id':'FORMAT_REGULAR_COLUMN'});case'FORMAT_HEADER_ROW':return t({'string':'header\x20row','id':'FORMAT_HEADER_ROW'});case'FORMAT_REGULAR_ROW':return t({'string':'regular\x20row','id':'FORMAT_REGULAR_ROW'});case'FORMAT_INDENT':return t({'string':'indent','id':'FORMAT_INDENT'});case'FORMAT_LIST_REVERSED':return t({'string':'list\x20reversed','id':'FORMAT_LIST_REVERSED'});case'FORMAT_LIST_START':return t({'string':'list\x20start','id':'FORMAT_LIST_START'});case'FORMAT_FONT_SIZE':return t({'string':'font\x20size','id':'FORMAT_FONT_SIZE'});case'FORMAT_FONT_FAMILY':return t({'string':'font\x20family','id':'FORMAT_FONT_FAMILY'});case'FORMAT_FONT_COLOR':return t({'string':'font\x20color','id':'FORMAT_FONT_COLOR'});case'FORMAT_FONT_BACKGROUND':return t({'string':'font\x20background\x20color','id':'FORMAT_FONT_BACKGROUND'});case'FORMAT_IMAGE_SIZE':return t({'string':'image\x20size','id':'FORMAT_IMAGE_SIZE'});case'FORMAT_STYLE':return t({'string':'style','id':'FORMAT_STYLE'});case'PENDING_ACTION_SUGGESTION':return t({'string':'Unsaved\x20change\x20in\x20suggestion.','id':'PENDING_ACTION_SUGGESTION'});case'ELEMENT_TABLE_WITH_TEXT':return t({'string':'table\x20*with\x20text*\x20%0','id':'ELEMENT_TABLE_WITH_TEXT'},_0xd85e77);case'ELEMENT_TABLE_ROW':return t({'string':'table\x20row','plural':'%0\x20table\x20rows','id':'ELEMENT_TABLE_ROW'},_0xd85e77);case'ELEMENT_TABLE_ROW_WITH_TEXT':return t({'string':'table\x20row\x20*with\x20text*\x20%1','plural':'%0\x20table\x20rows\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_ROW_WITH_TEXT'},_0xd85e77);case'ELEMENT_TABLE_COLUMN':return t({'string':'table\x20column','plural':'%0\x20table\x20columns','id':'ELEMENT_TABLE_COLUMN'},_0xd85e77);case'ELEMENT_TABLE_COLUMN_WITH_TEXT':return t({'string':'table\x20column\x20*with\x20text*\x20%1','plural':'%0\x20table\x20columns\x20*with\x20text*\x20%1','id':'ELEMENT_TABLE_COLUMN_WITH_TEXT'},_0xd85e77);case'ELEMENT_TABLE_OF_CONTENTS':return t({'string':'table\x20of\x20contents','plural':'%0\x20tables\x20of\x20contents','id':'ELEMENT_TABLE_OF_CONTENTS'},_0xd85e77);case'ELEMENT_LINE_BREAK':return t({'id':'ELEMENT_LINE_BREAK','string':'line\x20break','plural':'%0\x20line\x20breaks'},_0xd85e77);case'ELEMENT_TITLE':return t({'id':'ELEMENT_TITLE','string':'title'});case'ELEMENT_MERGE_FIELD':return t({'id':'ELEMENT_MERGE_FIELD','string':'merge\x20field','plural':'%0\x20merge\x20fields'},_0xd85e77);case'ELEMENT_BOOKMARK':return t({'id':'ELEMENT_BOOKMARK','string':'bookmark','plural':'%0\x20bookmarks'},_0xd85e77);case'EXTERNAL_SUGGESTION':return t({'id':'EXTERNAL_SUGGESTION','string':'This\x20suggestion\x20comes\x20from\x20an\x20external\x20source.'});case'EXTERNAL_IMPORT_WORD_SUGGESTION':return t({'string':'This\x20suggestion\x20comes\x20from\x20an\x20imported\x20Word\x20file.','id':'EXTERNAL_IMPORT_WORD_SUGGESTION'});case'EXTERNAL_AVATAR':return _0x67c488({'string':'Displayed\x20author\x20name\x20comes\x20from\x20external\x20source\x20(added\x20by\x20%0)','id':'EXTERNAL_AVATAR'},_0xd85e77);case'EXTERNAL_IMPORT_WORD_AVATAR':return _0x67c488({'string':'Displayed\x20author\x20name\x20comes\x20from\x20a\x20Word\x20document\x20imported\x20by\x20%0','id':'EXTERNAL_IMPORT_WORD_AVATAR'},_0xd85e77);case'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20insertion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_INSERTION_SUGGESTION_ANNOUNCEMENT'},_0xd85e77);case'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20insertion\x20suggestion.','id':'LEAVE_INSERTION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20deletion\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_DELETION_SUGGESTION_ANNOUNCEMENT'},_0xd85e77);case'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20deletion\x20suggestion.','id':'LEAVE_DELETION_SUGGESTION_ANNOUNCEMENT'});case'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Entering\x20formatting\x20suggestion.\x20Press\x20%0\x20to\x20go\x20to\x20the\x20discussion.','id':'ENTER_FORMATTING_SUGGESTION_ANNOUNCEMENT'},_0xd85e77);case'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT':return t({'string':'Leaving\x20formatting\x20suggestion.','id':'LEAVE_FORMATTING_SUGGESTION_ANNOUNCEMENT'});case'SUGGESTION_THREAD_ARIA_LABEL':return t({'string':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20reply.\x20%3','plural':'Suggestion\x20by\x20%1.\x20Created\x20on\x20%2.\x20%0\x20replies.\x20%3','id':'SUGGESTION_THREAD_ARIA_LABEL'},_0xd85e77);case'SUGGESTION_THREAD_DESCRIPTION':return t({'string':'Press\x20Enter\x20for\x20more\x20options.\x20Press\x20Escape\x20to\x20exit.','id':'SUGGESTION_THREAD_DESCRIPTION'});default:return _0xd69f79;}}class f{['_customCallbacks'];['_itemLabels'];['_itemLabelsCallbacks'];['_attributeLabels'];['_schema'];['_locale'];constructor(_0x14145a,_0x364270){this['_customCallbacks']=[],this['_itemLabels']=new Map(),this['_itemLabelsCallbacks']=[],this['_attributeLabels']=new Map(),this['_schema']=_0x14145a,this['_locale']=_0x364270;}['getDescriptions'](_0x4ec02f){const _0x5dc0e1=[],_0x1ac3f6=new Set(),_0x4983fc=new Set();for(let _0x5e6d82=0x0;_0x5e6d82<_0x4ec02f['length'];_0x5e6d82++){const _0x7d1154=_0x4ec02f[_0x5e6d82];if(!_0x7d1154['isInContent'])continue;const _0x121f84=this['_handleCustomCallbackDescription'](_0x7d1154);if(_0x121f84){if(null!=_0x7d1154['subType']){if(_0x1ac3f6['has'](_0x7d1154['subType']))continue;_0x1ac3f6['add'](_0x7d1154['subType']);}_0x5dc0e1['push'](_0x121f84);}else{if('attribute'!=_0x7d1154['type'])'insertion'!=_0x7d1154['type']&&'deletion'!=_0x7d1154['type']||this['_handleInsertRemoveSuggestionDescription'](_0x5dc0e1,_0x7d1154,_0x4ec02f[_0x5e6d82+0x1]);else{const _0x3094ee=_0x7d1154['data']['key'];if(_0x4983fc['has'](_0x3094ee))continue;_0x4983fc['add'](_0x7d1154['data']['key']),_0x3094ee==u?this['_handleRenameSuggestionDescription'](_0x5dc0e1,_0x7d1154):this['_handleAttributeSuggestionDescription'](_0x5dc0e1,_0x7d1154);}}}return this['_resolveDescriptionItems'](_0x5dc0e1);}['registerDescriptionCallback'](_0x23cfaa){this['_customCallbacks']['push'](_0x23cfaa);}['registerElementLabel'](_0x1fed68,_0x19e55d,_0xec7853=_0x38ebba['normal']){'function'==typeof _0x1fed68?_0x338e6d(this['_itemLabelsCallbacks'],{'matchingCallback':_0x1fed68,'label':_0x19e55d,'priority':_0xec7853}):this['_itemLabels']['set'](_0x1fed68,_0x19e55d);}['registerAttributeLabel'](_0x2d9b3e,_0x47dd59){this['_attributeLabels']['set'](_0x2d9b3e,_0x47dd59);}['getItemLabel'](_0xf02981,_0x4b43aa=0x1){let _0x7ba121;for(const _0x4abd41 of this['_itemLabelsCallbacks'])if(_0x4abd41['matchingCallback'](_0xf02981)){_0x7ba121=_0x4abd41['label'];break;}return _0x7ba121||(_0x7ba121=this['_itemLabels']['get'](_0xf02981['name'])),_0x7ba121?_0x7ba121(_0x4b43aa):0x1!==_0x4b43aa?_0x4b43aa+'\x20'+_0xf02981['name']+'s':''+_0xf02981['name'];}['_addDescriptionItems'](_0x298602,_0x41f491){const _0x2281d6=_0x41f491['getFirstRange']()['getWalker'](),_0x2c86ae='insertion'==_0x41f491['type']?'add':'remove';for(const _0x1454c4 of _0x2281d6){const _0x110203=_0x1454c4['item'],_0x1d5d83=_0x298602[_0x298602['length']-0x1];if(_0x110203['is']('$textProxy'))_0x1d5d83&&_0x1d5d83['type']['indexOf']('Container')>-0x1&&_0x298602['pop'](),_0x1d5d83&&'text'==_0x1d5d83['type']?_0x1d5d83[_0x2c86ae]+=_0x110203['data']:_0x298602['push']({'type':'text','add':'add'==_0x2c86ae?_0x110203['data']:'','remove':'remove'==_0x2c86ae?_0x110203['data']:''});else{if(this['_schema']['isObject'](_0x110203)){const _0x2ca753=_0x110203;if(_0x1d5d83&&_0x1d5d83['type']['indexOf']('Container')>-0x1&&_0x298602['pop'](),'elementEnd'==_0x1454c4['type'])continue;_0x1d5d83&&_0x1d5d83['type']==_0x2c86ae+'Object'&&_0x1d5d83['element']['name']==_0x2ca753['name']?_0x1d5d83['quantity']++:_0x298602['push']({'type':_0x2c86ae+'Object','element':_0x2ca753,'quantity':0x1}),_0x2281d6['skip'](_0x39c778=>!('elementEnd'==_0x39c778['type']&&_0x39c778['item']==_0x110203));}else{if(this['_schema']['checkChild'](_0x110203,'$text')||_0x110203['is']('element','softBreak')){const _0x590c36=_0x110203;if('add'==_0x2c86ae&&'elementStart'==_0x1454c4['type']||'remove'==_0x2c86ae&&'elementEnd'==_0x1454c4['type'])continue;if(_0x1d5d83&&-0x1==_0x1d5d83['type']['indexOf']('Container')){'text'==_0x1d5d83['type']&&(_0x1d5d83[_0x2c86ae]+='\x0a');continue;}let _0x4e2187;if(_0x4e2187='add'==_0x2c86ae?_0x590c36['nextSibling']&&!this['_schema']['isObject'](_0x590c36['nextSibling'])?_0x590c36['nextSibling']:null:_0x590c36['previousSibling']&&!this['_schema']['isObject'](_0x590c36['previousSibling'])?_0x590c36['previousSibling']:null,_0x590c36['isEmpty']||_0x4e2187&&_0x4e2187['isEmpty']){const _0x3bb59c=_0x4e2187&&_0x4e2187['isEmpty']?_0x4e2187:_0x590c36;_0x1d5d83&&_0x1d5d83['type']==_0x2c86ae+'EmptyContainer'&&_0x1d5d83['element']['name']==_0x3bb59c['name']?_0x1d5d83['quantity']++:_0x298602['push']({'type':_0x2c86ae+'EmptyContainer','element':_0x3bb59c,'quantity':0x1});}else _0x298602['push']({'type':_0x2c86ae+'Container','element':_0x590c36});}}}}}['_resolveDescriptionItems'](_0x572ce2){const _0x126ade=this['_locale'],_0x4c6471=[],_0x5374a2=[],_0x74db48=[];for(const _0x2ec5bb of _0x572ce2)switch(_0x2ec5bb['type']){case'text':if(_0x2ec5bb['add']=_0x2ec5bb['add']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),_0x2ec5bb['remove']=_0x2ec5bb['remove']['replace'](/(\S)\u000A+(\S)/g,'$1\x20$2')['replace'](/\u000A/g,''),''!=_0x2ec5bb['add']&&''!=_0x2ec5bb['remove']){_0x4c6471['push']({'type':'replace','content':c(_0x126ade,'REPLACE_TEXT',['\x22'+_0x2ec5bb['remove']+'\x22','\x22'+_0x2ec5bb['add']+'\x22'])});continue;}if(null!=_0x2ec5bb['add']['match'](/^ +$/)){_0x4c6471['push']({'type':'insertion','content':c(_0x126ade,'*Insert:*\x20%0',c(_0x126ade,'ELEMENT_SPACE',_0x2ec5bb['add']['length']))});continue;}if(null!=_0x2ec5bb['remove']['match'](/^ +$/)){_0x4c6471['push']({'type':'deletion','content':c(_0x126ade,'*Remove:*\x20%0',c(_0x126ade,'ELEMENT_SPACE',_0x2ec5bb['remove']['length']))});continue;}if(''!=_0x2ec5bb['add']){_0x4c6471['push']({'type':'insertion','content':c(_0x126ade,'*Insert:*\x20%0','\x22'+_0x2ec5bb['add']+'\x22')});continue;}_0x4c6471['push']({'type':'deletion','content':c(_0x126ade,'*Remove:*\x20%0','\x22'+_0x2ec5bb['remove']+'\x22')});continue;case'addEmptyContainer':case'addObject':_0x4c6471['push']({'type':'insertion','content':c(_0x126ade,'*Insert:*\x20%0',this['getItemLabel'](_0x2ec5bb['element'],_0x2ec5bb['quantity']))});continue;case'removeEmptyContainer':case'removeObject':_0x4c6471['push']({'type':'deletion','content':c(_0x126ade,'*Remove:*\x20%0',this['getItemLabel'](_0x2ec5bb['element'],_0x2ec5bb['quantity']))});continue;case'addContainer':_0x4c6471['push']({'type':'insertion','content':c(_0x126ade,'*Split:*\x20%0',this['getItemLabel'](_0x2ec5bb['element'],_0x2ec5bb['quantity']))});continue;case'removeContainer':_0x4c6471['push']({'type':'deletion','content':c(_0x126ade,'*Merge:*\x20%0',this['getItemLabel'](_0x2ec5bb['element'],_0x2ec5bb['quantity']))});continue;case'addFormat':_0x5374a2['push'](_0x2ec5bb['key']);continue;case'removeFormat':_0x74db48['push'](_0x2ec5bb['key']);continue;default:_0x4c6471['push'](_0x2ec5bb);}if(_0x5374a2['length']){const _0x1e0738=_0x5374a2['map'](_0x5428ed=>this['_attributeLabels']['has'](_0x5428ed)?this['_attributeLabels']['get'](_0x5428ed):_0x5428ed)['join'](',\x20');_0x4c6471['push']({'type':'format','content':c(this['_locale'],'*Set\x20format:*\x20%0',_0x1e0738)});}if(_0x74db48['length']){const _0x5895cb=_0x74db48['map'](_0x163c63=>this['_attributeLabels']['has'](_0x163c63)?this['_attributeLabels']['get'](_0x163c63):_0x163c63)['join'](',\x20');_0x4c6471['push']({'type':'format','content':c(this['_locale'],'*Remove\x20format:*\x20%0',_0x5895cb)});}return _0x4c6471;}['_handleCustomCallbackDescription'](_0x21d0f1){for(const _0x213f51 of this['_customCallbacks']){const _0x53179f=_0x213f51(_0x21d0f1);if(_0x53179f&&'type'in _0x53179f)return _0x53179f;}}['_handleAttributeSuggestionDescription'](_0x5f2c2c,_0x70fb43){const _0x19e7f4=_0x70fb43['data'],_0x1f5659=void 0x0===_0x19e7f4['newValue']?'removeFormat':'addFormat';_0x5f2c2c['push']({'type':_0x1f5659,'key':_0x19e7f4['key']});}['_handleRenameSuggestionDescription'](_0x3de9fc,_0x33e739){_0x3de9fc['push']({'type':'format','content':c(this['_locale'],'*Change\x20to:*\x20%0',this['getItemLabel'](_0x33e739['getFirstRange']()['start']['nodeAfter'],0x1))});}['_handleInsertRemoveSuggestionDescription'](_0x1f84f3,_0x254f73,_0x3ccfa8){if(this['_addDescriptionItems'](_0x1f84f3,_0x254f73),_0x3ccfa8&&_0x3ccfa8['getFirstRange']()&&!_0x254f73['getFirstRange']()['end']['isEqual'](_0x3ccfa8['getFirstRange']()['start'])){const _0x4b87b7=_0x1f84f3[_0x1f84f3['length']-0x1],_0x1d61b4='insertion'==_0x254f73['type']?'add':'remove';_0x4b87b7&&'text'==_0x4b87b7['type']&&(_0x4b87b7[_0x1d61b4]+='\x0a');}}}class U extends _0x2e402e{['afterInit'](){const _0x1b07f7=this['editor'],_0x5dff11=_0x1b07f7['plugins']['get']('TrackChangesEditing');_0x1b07f7['commands']['get']('showAIAssistant')&&_0x5dff11['enableCommand']('showAIAssistant');}}class V extends _0x2e402e{['afterInit'](){const _0x277076=this['editor'],_0x33cf71=_0x277076['locale'];if(!_0x277076['plugins']['has']('AlignmentEditing'))return;const _0x37259b=_0x277076['plugins']['get']('TrackChangesEditing');_0x37259b['enableDefaultAttributesIntegration']('alignment'),_0x37259b['registerBlockAttribute']('alignment'),_0x37259b['descriptionFactory']['registerAttributeLabel']('alignment',c(_0x33cf71,'FORMAT_ALIGNMENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x373ef6=this['editor'],_0x447cb9=_0x373ef6['locale'];_0x373ef6['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xc2af59=>{if('formatBlock'!=_0xc2af59['type'])return;const {data:_0x30b506}=_0xc2af59;if(_0x30b506&&'alignment'==_0x30b506['commandName']){const _0x2c4670=_0x30b506['commandParams'][0x0]['value'];return{'type':'format','content':c(_0x447cb9,'*Format:*\x20%0',function(_0x46f4e6){switch(_0x46f4e6){case'left':return c(_0x447cb9,'FORMAT_ALIGN_TO_LEFT');case'right':return c(_0x447cb9,'FORMAT_ALIGN_TO_RIGHT');case'center':return c(_0x447cb9,'FORMAT_ALIGN_TO_CENTER');case'justify':return c(_0x447cb9,'FORMAT_JUSTIFY_TEXT');}}(_0x2c4670))};}});}}const Zt=['BoldEditing','ItalicEditing','UnderlineEditing','CodeEditing','StrikethroughEditing','SubscriptEditing','SuperscriptEditing'];class F extends _0x2e402e{['afterInit'](){const _0x125469=this['editor'],_0x25cbc3=_0x125469['plugins']['get']('TrackChangesEditing'),_0x59cda2=_0x125469['locale'];for(const _0x494ef2 of Zt){if(!_0x125469['plugins']['has'](_0x494ef2))continue;const _0x49d3d2=_0x494ef2['slice'](0x0,-0x7)['toLowerCase'](),_0x19d2fc='FORMAT_'+_0x49d3d2['toUpperCase']();_0x25cbc3['enableDefaultAttributesIntegration'](_0x49d3d2),_0x25cbc3['registerInlineAttribute'](_0x49d3d2),_0x25cbc3['descriptionFactory']['registerAttributeLabel'](_0x49d3d2,c(_0x59cda2,_0x19d2fc));}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2d58a0=this['editor'],_0x11dc73=_0x2d58a0['locale'],_0x17cb33=_0x2d58a0['plugins']['get']('TrackChangesEditing');function _0x21caa0(_0x460a59,_0x5e172f){_0x17cb33['descriptionFactory']['registerDescriptionCallback'](_0x47b0a7=>{if('formatInline'!=_0x47b0a7['type'])return;const {data:_0x5671ff}=_0x47b0a7;return _0x5671ff&&_0x5671ff['commandName']===_0x460a59?_0x5671ff['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x11dc73,'*Format:*\x20%0',_0x5e172f)}:{'type':'format','content':c(_0x11dc73,'*Remove\x20format:*\x20%0',_0x5e172f)}:void 0x0;});}_0x21caa0('bold',c(_0x11dc73,'FORMAT_BOLD')),_0x21caa0('italic',c(_0x11dc73,'FORMAT_ITALIC')),_0x21caa0('underline',c(_0x11dc73,'FORMAT_UNDERLINE')),_0x21caa0('code',c(_0x11dc73,'FORMAT_CODE')),_0x21caa0('strikethrough',c(_0x11dc73,'FORMAT_STRIKETHROUGH')),_0x21caa0('subscript',c(_0x11dc73,'FORMAT_SUBSCRIPT')),_0x21caa0('superscript',c(_0x11dc73,'FORMAT_SUPERSCRIPT'));}}class G extends _0x2e402e{['afterInit'](){const _0x552a33=this['editor'],_0x5da5cb=_0x552a33['locale'];if(!_0x552a33['plugins']['has']('BlockQuoteEditing'))return;const _0x30199a=_0x552a33['plugins']['get']('TrackChangesEditing'),_0x9f20ed=this['editor']['commands']['get']('blockQuote');_0x30199a['enableCommand']('blockQuote',(_0x1d495a,_0x2f08da={})=>{const _0x2df43b=this['editor']['model']['document']['selection'],_0x2fd099=_0x2f08da&&void 0x0!==_0x2f08da['forceValue']?_0x2f08da['forceValue']:!_0x9f20ed['value'];let _0x404c80=[];if(_0x2fd099){const _0x9c97ec=Array['from'](_0x2df43b['getSelectedBlocks']())['filter'](_0x5f0a58=>oo(_0x5f0a58)||function(_0x3a2b26,_0x23d79c){const _0x35800a=_0x23d79c['checkChild'](_0x3a2b26['parent'],'blockQuote'),_0x4d7f04=_0x23d79c['checkChild'](['$root','blockQuote'],_0x3a2b26);return _0x35800a&&_0x4d7f04;}(_0x5f0a58,this['editor']['model']['schema']));_0x404c80=to(_0x9c97ec,_0x552a33['model']);}else{const _0x5e311b=Array['from'](_0x2df43b['getSelectedBlocks']())['filter'](_0x46763e=>oo(_0x46763e));_0x404c80=to(_0x5e311b,_0x552a33['model']);}_0x552a33['model']['change'](()=>{for(const _0x4f4290 of _0x404c80)_0x30199a['markBlockFormat'](_0x4f4290,{'commandName':'blockQuote','commandParams':[{'forceValue':_0x2fd099}]});});}),_0x30199a['descriptionFactory']['registerDescriptionCallback'](_0x18c935=>{const {data:_0x1733d1}=_0x18c935;if(_0x1733d1&&'blockQuote'==_0x1733d1['commandName']){const _0xdf91db=c(_0x5da5cb,'ELEMENT_BLOCK_QUOTE');return _0x1733d1['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x5da5cb,'*Set\x20format:*\x20%0',_0xdf91db)}:{'type':'format','content':c(_0x5da5cb,'*Remove\x20format:*\x20%0',_0xdf91db)};}});}}function oo(_0x158282){return'blockQuote'==_0x158282['parent']['name'];}class L extends _0x2e402e{['afterInit'](){const _0x328ea4=this['editor'],_0x1ab742=_0x328ea4['locale'],_0x104651=_0x328ea4['plugins']['get']('TrackChangesEditing');_0x328ea4['plugins']['has']('BookmarkEditing')&&(_0x104651['enableCommand']('insertBookmark'),_0x104651['enableDefaultAttributesIntegration']('updateBookmark'),_0x104651['registerBlockAttribute']('bookmarkId'),_0x104651['descriptionFactory']['registerDescriptionCallback'](_0x46539a=>{if('insertion'!=_0x46539a['type']&&'deletion'!=_0x46539a['type']&&'attribute'!=_0x46539a['type'])return;const _0x485b21=_0x46539a['getContainedElement']();if(null==_0x485b21)return;if(!_0x485b21['is']('element','bookmark'))return;const _0x1205ec=_0x485b21['getAttribute']('bookmarkId');if('insertion'==_0x46539a['type'])return{'type':'insertion','content':c(_0x1ab742,'*Insert:*\x20%0','\x22'+_0x1205ec+'\x22\x20'+c(_0x1ab742,'ELEMENT_BOOKMARK'))};if('deletion'==_0x46539a['type'])return{'type':'deletion','content':c(_0x1ab742,'*Remove:*\x20%0','\x22'+_0x1205ec+'\x22\x20'+c(_0x1ab742,'ELEMENT_BOOKMARK'))};const {data:_0x4072cd}=_0x46539a;if(!_0x4072cd||'bookmarkId'!=_0x4072cd['key'])return;return{'type':'format','content':c(_0x1ab742,'*Set\x20bookmark:*\x20%0','\x22'+_0x4072cd['newValue']+'\x22')};}));}}class J extends _0x2e402e{['afterInit'](){const _0x5381ef=this['editor'];_0x5381ef['plugins']['has']('CaseChange')&&(_0x5381ef['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseUpper'),_0x5381ef['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseLower'),_0x5381ef['plugins']['get']('TrackChangesEditing')['enableCommand']('changeCaseTitle'));}}class K extends _0x2e402e{['afterInit'](){const _0x3d783=this['editor'];_0x3d783['commands']['get']('ckbox')&&_0x3d783['plugins']['get']('TrackChangesEditing')['enableCommand']('ckbox');}}class H extends _0x2e402e{['afterInit'](){const _0x3bd1c0=this['editor'];if(!_0x3bd1c0['plugins']['has']('CodeBlock'))return;const _0xe75d57=_0x3bd1c0['plugins']['get']('TrackChangesEditing'),_0x47ef53=_0x3bd1c0['locale'],_0x499473=_0x3bd1c0['config']['get']('codeBlock')['languages'],_0x376e92=_0x3bd1c0['commands']['get']('codeBlock');_0xe75d57['enableCommand']('indentCodeBlock'),_0xe75d57['enableCommand']('outdentCodeBlock'),_0xe75d57['enableCommand']('codeBlock',(_0x240329,_0x33248a={})=>{const _0xdf3c4c=_0x3bd1c0['model'],_0x32e6a1=_0x3bd1c0['model']['document']['selection'],_0x3417cf=_0x33248a&&void 0x0!==_0x33248a['forceValue']?_0x33248a['forceValue']:!_0x376e92['value'];let _0xb50ba2;_0x33248a['language']||(_0x33248a['language']=_0x499473[0x0]['language']),_0xb50ba2=_0x3417cf?Array['from'](_0x32e6a1['getSelectedBlocks']())['filter'](_0x3ca57b=>eo(_0x3ca57b)||function(_0xaf33b,_0x20e10b){if(_0xaf33b['is']('rootElement')||_0x20e10b['isLimit'](_0xaf33b))return!0x1;return _0x20e10b['checkChild'](_0xaf33b['parent'],'codeBlock');}(_0x3ca57b,_0xdf3c4c['schema'])):Array['from'](_0x32e6a1['getSelectedBlocks']())['filter'](_0x5a79d9=>eo(_0x5a79d9));const _0x102114=to(_0xb50ba2,_0xdf3c4c);_0xdf3c4c['change'](()=>{for(const _0xe629f9 of _0x102114)_0xe75d57['markBlockFormat'](_0xe629f9,{'commandName':'codeBlock','commandParams':[{..._0x33248a,'forceValue':_0x3417cf}],'formatGroupId':'blockName'});});}),(_0xe75d57['descriptionFactory']['registerElementLabel']('codeBlock',_0x377ca4=>c(_0x47ef53,'ELEMENT_CODE_BLOCK',_0x377ca4)),_0xe75d57['descriptionFactory']['registerDescriptionCallback'](_0x31b9f9=>{if('formatBlock'!=_0x31b9f9['type'])return;const _0x523bc2=_0x47ef53['t'],{data:_0x3264a0}=_0x31b9f9;if(!_0x3264a0||'codeBlock'!=_0x3264a0['commandName'])return;const _0x2929a5=_0x3264a0['commandParams'][0x0]['language'],_0xa51861=_0x523bc2(_0x499473['find'](_0x6089c9=>_0x6089c9['language']===_0x2929a5)['label'])['toLowerCase']();return _0x3264a0['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x47ef53,'*Set\x20format:*\x20%0',c(_0x47ef53,'ELEMENT_CODE_BLOCK',0x1)+'\x20('+_0xa51861+')')}:{'type':'format','content':c(_0x47ef53,'*Remove\x20format:*\x20%0',c(_0x47ef53,'ELEMENT_CODE_BLOCK',0x1))};}));}}function eo(_0x31e79a){return'codeBlock'==_0x31e79a['name'];}class q extends _0x2e402e{['afterInit'](){const _0x40deeb=this['editor'];if(!_0x40deeb['plugins']['has']('CommentsEditing'))return;_0x40deeb['plugins']['get']('TrackChangesEditing')['enableCommand']('addCommentThread');}}function io(_0x439c99,_0x41812d,_0x557087){const _0x2fc375=[];for(const _0x3aaef4 of _0x41812d['getItems']())_0x3aaef4['hasAttribute'](_0x439c99)&&_0x2fc375['push'](_0x557087['createRangeOn'](_0x3aaef4));return _0x2fc375;}function Fe(_0x56dbd1,_0x20ff85,{showActiveMarker:_0xbac015=!0x0}={}){const _0x12552e=_0x56dbd1['plugins']['get']('TrackChangesEditing');return(_0x5c68cf,_0x4ca755,_0x16e054)=>{if(!_0x16e054['consumable']['test'](_0x4ca755['markerRange'],_0x5c68cf['name']))return;const _0x6c3a0c=_0x4ca755['markerRange']['getWalker'](),_0x57b41b=_0x4ca755['markerRange']['start'],_0x613cab=_0x56dbd1['model']['schema'];let _0x571944=null,_0x3950df=null,_0x19aa3b=!0x1,_0x4daa59=!0x1;for(const _0x1e0e33 of _0x6c3a0c){const _0x359c83=_0x1e0e33['item'];_0x19aa3b=_0x19aa3b||_0x613cab['isContent'](_0x359c83);const _0x2592b9=_0x16e054['mapper']['toViewElement'](_0x359c83);if(_0x2592b9&&_0x2592b9['getCustomProperty']('addHighlight'))return;'elementEnd'==_0x1e0e33['type']&&(_0x613cab['isBlock'](_0x359c83)&&!_0x613cab['isLimit'](_0x359c83)&&(_0x359c83['nextSibling']||_0x57b41b['isAtEnd']?_0x571944&&_0x571944['parent']==_0x359c83||(_0x571944=_0x359c83,_0x531825(_0x1e0e33['previousPosition']),_0x4daa59=!0x0):_0x3950df=_0x3950df||_0x1e0e33['previousPosition']));}function _0x531825(_0x3ff1a0){const {authorId:_0x1f521c}=_0x12552e['_splitMarkerName'](_0x4ca755['markerName']),_0x16aa7a=_0x16e054['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x20ff85,'data-author-id':_0x1f521c}),_0x244ea1=_0x16e054['mapper']['toViewPosition'](_0x3ff1a0);_0xbac015&&_0x12552e['activeMarkers']['includes'](_0x4ca755['markerName'])&&_0x16e054['writer']['addClass']('ck-suggestion-marker--active',_0x16aa7a),_0x16e054['writer']['insert'](_0x244ea1,_0x16aa7a),_0x16e054['mapper']['bindElementToMarker'](_0x16aa7a,_0x4ca755['markerName']);}_0x19aa3b||_0x4daa59||!_0x3950df||_0x531825(_0x3950df);};}class z extends _0x2e402e{static get['requires'](){return[_0xdc3ebc];}['init'](){const _0x329e14=this['editor'],_0x3436e2=_0x329e14['plugins']['get']('TrackChangesEditing');_0x3436e2['enableCommand']('delete');const _0x346443=_0x329e14['commands']['get']('deleteForward');_0x3436e2['enableCommand']('deleteForward',(_0x1b3d7f,_0x3ec73a={})=>{const _0x180544=_0x329e14['model']['createSelection'](_0x329e14['model']['document']['selection']);_0x180544['isCollapsed']&&_0x329e14['model']['modifySelection'](_0x180544,{'direction':'forward','unit':_0x3ec73a['unit']});const _0x5e1979=_0x180544['getFirstRange'](),_0x4c22b5=_0x29cc96['fromRange'](_0x5e1979);let _0x58211b;_0x1b3d7f(_0x3ec73a),_0x58211b='$graveyard'==_0x4c22b5['root']['rootName']?_0x329e14['model']['createRange'](_0x5e1979['start']):_0x329e14['model']['createRange'](_0x4c22b5['start'],_0x4c22b5['end']),_0x4c22b5['detach'](),_0x329e14['model']['enqueueChange'](_0x346443['buffer']['batch'],_0x1c6bfe=>{_0x346443['buffer']['lock'](),_0x1c6bfe['setSelection'](_0x1c6bfe['createRange'](_0x58211b['end'])),_0x346443['buffer']['unlock']();});}),_0x329e14['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',Fe(_0x329e14,'merge'),{'priority':'high'}),_0x329e14['data']['downcastDispatcher']['on']('addMarker:suggestion:deletion',(_0x3fa811,_0x52ffa4,_0x104ef7)=>{_0x104ef7['options']['showSuggestionHighlights']&&Fe(_0x329e14,'merge',{'showActiveMarker':!0x1})['bind'](this)(_0x3fa811,_0x52ffa4,_0x104ef7);},{'priority':'high'}),_0x329e14['editing']['downcastDispatcher']['on']('removeMarker:suggestion:deletion',(_0x39185d,_0x292a83,_0x27ae23)=>{const _0x514e85=_0x27ae23['mapper']['markerNameToElements'](_0x292a83['markerName']);if(_0x514e85){for(const _0x3c950f of _0x514e85)_0x3c950f['is']('uiElement')&&(_0x27ae23['mapper']['unbindElementFromMarkerName'](_0x3c950f,_0x292a83['markerName']),_0x27ae23['writer']['remove'](_0x3c950f));}},{'priority':'high'});}}class W extends _0x2e402e{['afterInit'](){const _0x5c8e6c=this['editor'];if(!_0x5c8e6c['plugins']['has']('ListEditing'))return;const _0x44fcef=_0x5c8e6c['locale'],_0x34f43d=_0x5c8e6c['plugins']['get']('TrackChangesEditing'),_0x5c57fa=_0x5c8e6c['plugins']['has']('TodoListEditing'),_0x453f9a=!!_0x5c8e6c['config']['get']('list.multiBlock');function _0x234060(_0x2296d2){return{'type':'format','content':''+c(_0x44fcef,'*Set\x20format:*\x20%0',_0x2296d2)};}function _0x4dd5c1(_0x54d158){return{'type':'format','content':''+c(_0x44fcef,'*Remove\x20format:*\x20%0',_0x54d158)};}_0x34f43d['enableDefaultAttributesIntegration']('numberedList'),_0x34f43d['enableDefaultAttributesIntegration']('bulletedList'),_0x34f43d['enableDefaultAttributesIntegration']('customNumberedList'),_0x34f43d['enableDefaultAttributesIntegration']('customBulletedList'),_0x34f43d['enableDefaultAttributesIntegration']('indentList'),_0x34f43d['enableDefaultAttributesIntegration']('outdentList'),_0x34f43d['enableDefaultAttributesIntegration']('splitListItemAfter'),_0x34f43d['enableDefaultAttributesIntegration']('splitListItemBefore'),_0x34f43d['registerBlockAttribute']('listItemId'),_0x34f43d['registerBlockAttribute']('listType'),_0x34f43d['registerBlockAttribute']('listIndent'),_0x453f9a&&(_0x34f43d['enableDefaultAttributesIntegration']('mergeListItemBackward'),_0x34f43d['enableDefaultAttributesIntegration']('mergeListItemForward')),_0x5c57fa&&(_0x34f43d['enableDefaultAttributesIntegration']('todoList'),_0x34f43d['enableDefaultAttributesIntegration']('checkTodoList'),_0x34f43d['registerBlockAttribute']('todoListChecked'),_0x34f43d['descriptionFactory']['registerDescriptionCallback'](_0x41e8df=>{const {data:_0x2a0bc5}=_0x41e8df;if(_0x2a0bc5&&'todoListChecked'==_0x2a0bc5['key'])return{'type':'format','content':_0x2a0bc5['newValue']?c(_0x44fcef,'*Check\x20item*'):c(_0x44fcef,'*Uncheck\x20item*')};}),this['editor']['model']['document']['registerPostFixer'](_0x3f4d50=>{if(_0x3f4d50['batch']['isUndo'])return!0x1;let _0x406df6=!0x1;const _0x57e690=_0x34f43d['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0xdd5ca0=>'todoListChecked'===_0x34f43d['_getAttributeKey'](_0xdd5ca0));for(const _0x1a19bd of _0x57e690){'todo'!=_0x1a19bd['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')&&(_0x34f43d['_findSuggestions'](_0x1a19bd['getFirstRange'](),'attribute')['find'](_0x42e531=>'listType'===_0x34f43d['_getAttributeKey'](_0x42e531['suggestion']))||(_0x3f4d50['removeMarker'](_0x1a19bd['getFirstMarker']()),_0x406df6=!0x0));}return _0x406df6;})),_0x34f43d['descriptionFactory']['registerAttributeLabel']('listIndent',c(_0x44fcef,'FORMAT_INDENT'));const _0x50aeb7={'type':'format','content':''};_0x34f43d['descriptionFactory']['registerDescriptionCallback'](_0x375f2b=>{const {data:_0x238813}=_0x375f2b;if(!_0x238813||'listType'!=_0x238813['key'])return;let _0x8f3955=_0x375f2b['head'];for(;_0x8f3955;){if(_0x8f3955['data']&&(('listStyle'==_0x8f3955['data']['key']||'listMarkerStyle'==_0x8f3955['data']['key'])&&(_0x8f3955['data']['newValue']&&'default'!=_0x8f3955['data']['newValue']||'default'!=_0x8f3955['data']['oldValue']&&!_0x238813['newValue'])||!_0x453f9a&&_0x8f3955['data']['key']==u))return _0x50aeb7;_0x8f3955=_0x8f3955['next'];}if(null==_0x238813['newValue'])switch(_0x238813['oldValue']){case'bulleted':return _0x4dd5c1(c(_0x44fcef,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x4dd5c1(c(_0x44fcef,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x4dd5c1(c(_0x44fcef,'ELEMENT_TODO_LIST'));}switch(_0x238813['newValue']){case'bulleted':return _0x234060(c(_0x44fcef,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x234060(c(_0x44fcef,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x234060(c(_0x44fcef,'ELEMENT_TODO_LIST'));}}),_0x34f43d['descriptionFactory']['registerDescriptionCallback'](_0x585dee=>{const {data:_0x4f410f}=_0x585dee;if(_0x4f410f&&'listIndent'==_0x4f410f['key'])return null==_0x4f410f['newValue']||null==_0x4f410f['oldValue']&&0x0==_0x4f410f['newValue']?_0x50aeb7:void 0x0;}),_0x34f43d['descriptionFactory']['registerDescriptionCallback'](_0x7ee0c3=>{if('attribute'!=_0x7ee0c3['type'])return;const {data:_0x1362dc}=_0x7ee0c3;if(!_0x1362dc||'listItemId'!=_0x1362dc['key'])return;const _0x1a1e31=Te(_0x7ee0c3);return'newValue'==_0x1a1e31?{'type':'format','content':c(_0x44fcef,'*Merge:*\x20list\x20item')}:'oldValue'==_0x1a1e31?{'type':'format','content':c(_0x44fcef,'*Split:*\x20list\x20item')}:_0x50aeb7;}),_0x5c8e6c['model']['document']['registerPostFixer'](_0x462bb2=>this['listItemIdFixer'](_0x462bb2)),_0x5c8e6c['model']['document']['registerPostFixer'](_0x2e456b=>this['noTrackChangesFixer'](_0x2e456b)),_0x5c8e6c['model']['document']['on']('change:data',(_0x47127a,_0x270993)=>{if(_0x270993['isUndo']||!_0x270993['isLocal'])return!0x1;this['assureChains']();},{'priority':'high'}),this['_supportLegacySuggestions']();}['listItemIdFixer'](_0x454fd5){if(_0x454fd5['batch']['isUndo']||!_0x454fd5['batch']['isLocal'])return!0x1;let _0x4154c5=!0x1;const _0x3d88d7=this['editor']['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x4ffce4=>_0x4ffce4['data']&&'listItemId'==_0x4ffce4['data']['key'])['filter'](_0x3ffe08=>_0x3ffe08['data']['newValue']&&_0x3ffe08['data']['oldValue']);for(const _0x4655bb of _0x3d88d7)Te(_0x4655bb)||(_0x454fd5['removeMarker'](_0x4655bb['getFirstMarker']()),_0x4154c5=!0x0);return _0x4154c5;}['noTrackChangesFixer'](_0x51a32f){if(_0x51a32f['batch']['isUndo']||!_0x51a32f['batch']['isLocal'])return!0x1;const _0x37e1c8=this['editor']['plugins']['get']('TrackChangesEditing');if(_0x37e1c8['trackChangesCommand']['value'])return!0x1;let _0x56e158=!0x1;const _0x1f7e18=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'],_0x2ff73a=this['editor']['model']['document']['differ']['getChanges']()['filter'](_0x30f8f5=>'attribute'==_0x30f8f5['type'])['filter'](_0x3d6a3e=>_0x1f7e18['includes'](_0x3d6a3e['attributeKey']));if(0x0==_0x2ff73a['length'])return _0x56e158;for(const _0xfb801f of _0x2ff73a){const _0x538ba2=_0x37e1c8['_findSuggestions'](_0xfb801f['range'],'attribute')['filter'](_0x5a66b0=>!_0x5a66b0['meta']['isNextTo'])['map'](_0x3d05d6=>_0x3d05d6['suggestion'])['filter'](_0x167990=>{const _0xb89118=_0x37e1c8['_getAttributeKey'](_0x167990);return _0x1f7e18['includes'](_0xb89118);});if(_0x538ba2['length']){for(const _0x153ae7 of _0x538ba2)_0x51a32f['removeMarker'](_0x153ae7['getFirstMarker']());_0x56e158=!0x0;}}return _0x56e158;}['assureChains'](){const _0x487676=this['editor']['plugins']['get']('TrackChangesEditing'),_0x38b234=['listType','listItemId','listIndent','listStyle','listStart','listReversed','todoListCheck','listMarker','listMarkerStyle'];let _0x4e1a97;const _0x14489e=new Set(this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0x18a973=>{if(_0x18a973['data']['oldRange']||!_0x18a973['data']['newRange'])return null;if(!_0x18a973['name']['startsWith']('suggestion:attribute:'))return null;const {id:_0x2409b3}=_0x487676['_splitMarkerName'](_0x18a973['name']);if(!_0x487676['hasSuggestion'](_0x2409b3))return null;const _0x21912c=_0x487676['getSuggestion'](_0x2409b3);return _0x38b234['includes'](_0x21912c['data']['key']);})['map'](_0x21e7ce=>{const {id:_0x2990c4}=_0x487676['_splitMarkerName'](_0x21e7ce['name']),_0x175c98=_0x487676['getSuggestion'](_0x2990c4);return _0x4e1a97=_0x175c98['attributes']['groupId'],_0x175c98['getFirstRange']()['start']['nodeAfter'];}));if(0x0==_0x14489e['size'])return;const _0x5c5677=_0x487676['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x3a97c9=>'attribute'==_0x3a97c9['type']&&_0x3a97c9['data']&&_0x38b234['includes'](_0x3a97c9['data']['key'])&&_0x3a97c9['attributes']['groupId']!=_0x4e1a97)['map'](_0x47f6d8=>({'listItem':_0x47f6d8['getFirstRange']()['start']['nodeAfter'],'groupId':_0x47f6d8['attributes']['groupId']})),_0x5cbc95=new Set();for(const {groupId:_0x2ef751,listItem:_0x1b00a1}of _0x5c5677)_0x14489e['has'](_0x1b00a1)&&_0x5cbc95['add'](_0x2ef751);for(const _0x539431 of _0x487676['getSuggestions']())_0x5cbc95['has'](_0x539431['attributes']['groupId'])&&_0x539431['setAttribute']('groupId',_0x4e1a97);}['_supportLegacySuggestions'](){const _0x44b746=this['editor'],_0x299f35=_0x44b746['locale'],_0x62f6e8=_0x44b746['plugins']['get']('TrackChangesEditing');this['_registerLegacyDescription'](),_0x62f6e8['_suggestionFactory']['registerCustomCallback']('formatBlock','documentList','accept',function(_0x54966c,_0x610dbf){const _0x1debe2=[];for(let _0x4ca5c4 of _0x54966c)_0x4ca5c4['start']['nodeAfter']===_0x4ca5c4['end']['parent']&&(_0x4ca5c4=_0x44b746['model']['createRange'](_0x44b746['model']['createPositionAt'](_0x4ca5c4['start']['nodeAfter'],0x0))),_0x1debe2['push'](_0x4ca5c4);_0x44b746['model']['change'](_0x2a9bec=>{const _0xd21ce4=_0x44b746['model']['document']['selection'],_0x36d443=Array['from'](_0xd21ce4['getRanges']())['map'](_0x3992fa=>_0x29cc96['fromRange'](_0x3992fa));_0x2a9bec['setSelection'](_0x1debe2),_0x44b746['commands']['get'](_0x610dbf['commandName'])['refresh'](),_0x610dbf['commandParams']['push']({'forceDefaultExecution':!0x0}),_0x44b746['execute'](_0x610dbf['commandName'],..._0x610dbf['commandParams']),_0x2a9bec['setSelection'](_0x36d443);for(const _0x4b83f5 of _0x36d443)_0x4b83f5['detach']();});}),_0x62f6e8['descriptionFactory']['registerElementLabel'](function(_0x29a853){const _0x46a92d=!_0x44b746['model']['schema']['isObject'](_0x29a853),_0x404a2b=_0x29a853['previousSibling'],_0x4dc256=_0x29a853['nextSibling'],_0x5e119e=_0x29a853['getAttribute']('listItemId'),_0x4914f3=!_0x404a2b||_0x404a2b['getAttribute']('listItemId')!==_0x5e119e,_0x358616=!_0x4dc256||_0x4dc256['getAttribute']('listItemId')!==_0x5e119e;return _0x46a92d&&Boolean(_0x5e119e)&&_0x4914f3&&_0x358616;},_0x163f45=>c(_0x299f35,'ELEMENT_LIST_ITEM',_0x163f45));}['_registerLegacyDescription'](){const _0x4d9cd2=this['editor'],_0x344ab4=_0x4d9cd2['locale'];function _0x22e6e7(_0x1a3589){const _0x541964=_0x4d9cd2['commands']['get']('bulletedList')['value'],_0x39bee6=_0x4d9cd2['commands']['get']('numberedList')['value'];return'numberedList'===_0x1a3589?_0x541964:_0x39bee6;}_0x4d9cd2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](function(_0x350513){if('formatBlock'!=_0x350513['type'])return;const {data:_0x52bb1b}=_0x350513;if(!_0x52bb1b)return;let _0xa00033,_0x4d2667,_0x121ddf,_0x18d1c3;switch(_0x52bb1b['commandName']){case'bulletedList':_0x121ddf=_0x52bb1b['commandParams'][0x0]['forceValue'],_0x18d1c3=_0x22e6e7(_0x52bb1b['commandName']),_0xa00033=_0x121ddf?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x18d1c3&&_0x4d9cd2['config']['get']('list.multiBlock')||(_0xa00033='*Change\x20to:*\x20%0'),_0x4d2667={'type':'format','content':c(_0x344ab4,_0xa00033,c(_0x344ab4,'ELEMENT_BULLETED_LIST'))};break;case'numberedList':_0x121ddf=_0x52bb1b['commandParams'][0x0]['forceValue'],_0x18d1c3=_0x22e6e7(_0x52bb1b['commandName']),_0xa00033=_0x121ddf?'*Format:*\x20insert\x20into\x20%0':'*Format:*\x20remove\x20from\x20%0',!_0x18d1c3&&_0x4d9cd2['config']['get']('list.multiBlock')||(_0xa00033='*Change\x20to:*\x20%0'),_0x4d2667={'type':'format','content':c(_0x344ab4,_0xa00033,c(_0x344ab4,'ELEMENT_NUMBERED_LIST'))};break;case'indentList':_0xa00033='*Indent:*\x20%0',_0x4d2667={'type':'format','content':c(_0x344ab4,_0xa00033,c(_0x344ab4,'ELEMENT_LIST_ITEM'))};break;case'outdentList':_0xa00033=function(_0x58c093){const _0x1c3d11=_0x58c093['getFirstRange']();let _0x271420=_0x1c3d11['start']['nodeAfter'];for(;_0x271420&&_0x1c3d11['containsItem'](_0x271420);){if(_0x271420['getAttribute']('listIndent')>0x0)return!0x1;_0x271420=_0x271420['nextSibling'];}return!0x0;}(_0x350513)?c(_0x344ab4,'*Format:*\x20remove\x20from\x20%0',c(_0x344ab4,function(_0x27507e){return'ELEMENT_'+_0x27507e['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST';}(_0x350513))):c(_0x344ab4,'*Outdent:*\x20%0',c(_0x344ab4,'ELEMENT_LIST_ITEM')),_0x4d2667={'type':'format','content':_0xa00033};break;case'mergeListItemBackward':case'mergeListItemForward':!0x1===_0x52bb1b['multipleBlocks']&&(_0xa00033='*Merge:*\x20%0',_0x4d2667={'type':'deletion','content':c(_0x344ab4,_0xa00033,c(_0x344ab4,'ELEMENT_LIST_ITEM'))});}return _0x4d2667;});}}function Te(_0x11f350){let _0x4075ea=_0x11f350['getFirstRange']()['start']['nodeAfter']['previousSibling'];for(;_0x4075ea;){const _0x450b4f=_0x4075ea['getAttribute']('listItemId');if(!_0x450b4f)return!0x1;if(_0x450b4f==_0x11f350['data']['newValue'])return'newValue';if(_0x450b4f==_0x11f350['data']['oldValue'])return'oldValue';_0x4075ea=_0x4075ea['previousSibling'];}return!0x1;}class Se extends _0x2e402e{['afterInit'](){if(!this['editor']['plugins']['has']('ListPropertiesEditing'))return;const _0x5d2080=this['editor']['config']['get']('list.properties'),_0x1301d1=this['editor']['plugins']['get']('TrackChangesEditing');_0x5d2080['styles']&&(_0x1301d1['enableDefaultAttributesIntegration']('listStyle'),_0x1301d1['registerBlockAttribute']('listStyle')),_0x5d2080['reversed']&&(_0x1301d1['enableDefaultAttributesIntegration']('listReversed'),_0x1301d1['registerBlockAttribute']('listReversed')),_0x5d2080['startIndex']&&(_0x1301d1['enableDefaultAttributesIntegration']('listStart'),_0x1301d1['registerBlockAttribute']('listStart'));const _0x58ffa1={'type':'format','content':''};_0x1301d1['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));const _0x18a012=this['editor']['locale'];_0x1301d1['descriptionFactory']['registerAttributeLabel']('listReversed',c(_0x18a012,'FORMAT_LIST_REVERSED')),_0x1301d1['descriptionFactory']['registerDescriptionCallback'](_0x2474fc=>{const {data:_0x2d1252}=_0x2474fc;if(_0x2d1252&&'listReversed'==_0x2d1252['key'])return null==_0x2d1252['newValue']||0x0==_0x2d1252['newValue']&&null==_0x2d1252['oldValue']?_0x58ffa1:void 0x0;}),_0x1301d1['descriptionFactory']['registerAttributeLabel']('listStart',c(_0x18a012,'FORMAT_LIST_START')),_0x1301d1['descriptionFactory']['registerDescriptionCallback'](_0x39a33e=>{const {data:_0x5126ec}=_0x39a33e;if(_0x5126ec&&'listStart'==_0x5126ec['key'])return null==_0x5126ec['newValue']||0x1==_0x5126ec['newValue']&&null==_0x5126ec['oldValue']?_0x58ffa1:void 0x0;}),this['editor']['model']['document']['registerPostFixer'](_0x184020=>{if(_0x184020['batch']['isUndo'])return!0x1;let _0x59cfad=!0x1;const _0x468802=_0x1301d1['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x3dfd57=>{const _0x47acbf=_0x1301d1['_getAttributeKey'](_0x3dfd57);return'listStart'==_0x47acbf||'listReversed'==_0x47acbf;});for(const _0x12c759 of _0x468802){const _0x5db1d6=_0x12c759['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType');if('numbered'==_0x5db1d6||'customNumbered'==_0x5db1d6)continue;_0x1301d1['_findSuggestions'](_0x12c759['getFirstRange'](),'attribute')['find'](_0x2351de=>'listType'==_0x1301d1['_getAttributeKey'](_0x2351de['suggestion']))||(_0x184020['removeMarker'](_0x12c759['getFirstMarker']()),_0x59cfad=!0x0);}return _0x59cfad;}),this['_registerLegacyDescription']();}['handleDescriptions'](_0x5f38e9){const _0x2c716b=this['editor']['locale'],{data:_0x3420bc}=_0x5f38e9,_0x2ef9f0={'type':'format','content':''};if(!_0x3420bc||'listStyle'!=_0x3420bc['key'])return;if(!_0x3420bc['oldValue'])return'default'==_0x3420bc['newValue']?_0x2ef9f0:{'type':'format','content':''+c(_0x2c716b,'*Set\x20format:*\x20%0',c(_0x2c716b,this['_getTranslationKeyForListStyle'](_0x3420bc['newValue'])))};if(!_0x3420bc['newValue']){if('default'==_0x3420bc['oldValue'])return _0x2ef9f0;let _0x536c47=_0x5f38e9['head'];for(;_0x536c47;){if(_0x536c47['data']&&'listType'==_0x536c47['data']['key']&&_0x536c47['data']['newValue'])return _0x2ef9f0;_0x536c47=_0x536c47['next'];}return{'type':'format','content':''+c(_0x2c716b,'*Remove\x20format:*\x20%0',c(_0x2c716b,this['_getTranslationKeyForListStyle'](_0x3420bc['oldValue'])))};}if('default'!=_0x3420bc['newValue'])return{'type':'format','content':''+c(_0x2c716b,'*Set\x20format:*\x20%0',c(_0x2c716b,this['_getTranslationKeyForListStyle'](_0x3420bc['newValue'])))};let _0x1411a4=_0x5f38e9['head'];for(;_0x1411a4;){if(_0x1411a4['data']&&'listType'==_0x1411a4['data']['key']&&_0x1411a4['data']['newValue']&&_0x1411a4['data']['oldValue'])return _0x2ef9f0;_0x1411a4=_0x1411a4['next'];}return{'type':'format','content':c(_0x2c716b,'*Set\x20format:*\x20%0',c(_0x2c716b,'ELEMENT_'+_0x5f38e9['getFirstRange']()['start']['nodeAfter']['getAttribute']('listType')['toUpperCase']()+'_LIST_DEFAULT'))};}['_registerLegacyDescription'](){const _0x291837=this['editor'],_0x315efa=_0x291837['locale'];_0x291837['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x2624b0=>{if('formatBlock'!=_0x2624b0['type'])return;const {data:_0x3db05b}=_0x2624b0;if(!_0x3db05b)return;let _0x5ad18e,_0x55918b;switch(_0x3db05b['commandName']){case'listStyle':_0x5ad18e='*Change\x20to:*\x20%0',_0x55918b={'type':'format','content':c(_0x315efa,_0x5ad18e,c(_0x315efa,this['_getTranslationKeyForListStyle'](_0x3db05b['commandParams'][0x0]['type'])))};break;case'listReversed':_0x5ad18e=_0x3db05b['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x55918b={'type':'format','content':c(_0x315efa,_0x5ad18e)};break;case'listStart':_0x5ad18e='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x55918b={'type':'format','content':c(_0x315efa,_0x5ad18e,_0x3db05b['commandParams'][0x0]['startIndex'])};}return _0x55918b;});}['_getTranslationKeyForListStyle'](_0x57bd3e){return'ELEMENT_'+function(_0x372163){if(_e['includes'](_0x372163))return'bulleted';if(Re['includes'](_0x372163))return'numbered';return null;}(_0x57bd3e)['toUpperCase']()+'_LIST_'+_0x57bd3e['toUpperCase']()['replace'](/-/g,'_');}}const _e=['disc','circle','square'],Re=['decimal','decimal-leading-zero','lower-roman','upper-roman','lower-latin','upper-latin'];class X extends _0x2e402e{['afterInit'](){const _0x556a97=this['editor'];_0x556a97['commands']['get']('emoji')&&_0x556a97['plugins']['get']('TrackChangesEditing')['enableCommand']('emoji');}}class Y extends _0x2e402e{static get['requires'](){return[_0x642fd7];}['init'](){const _0x1f56a1=this['editor'],_0x31fb0c=_0x1f56a1['plugins']['get']('TrackChangesEditing'),_0x349fdd=_0x1f56a1['commands']['get']('enter');_0x31fb0c['enableCommand']('enter',()=>{_0x1f56a1['model']['change'](_0x5e3c44=>{const _0x29a4f0=_0x1f56a1['model']['document']['selection'],_0x46e60f=_0x29a4f0['getFirstPosition'](),_0x5dd80f=_0x29cc96['fromRange'](_0x29a4f0['getFirstRange']());if(_0x349fdd['enterBlock'](_0x5e3c44)){const _0x500771=_0x1f56a1['model']['createPositionAt'](_0x46e60f['parent']['nextSibling'],0x0),_0x4117e5=_0x5e3c44['createRange'](_0x46e60f,_0x500771);_0x31fb0c['markInsertion'](_0x4117e5);}else _0x5e3c44['setSelection'](_0x5e3c44['createRange'](_0x5dd80f['end']));_0x5dd80f['detach'](),_0x349fdd['fire']('afterExecute',{'writer':_0x5e3c44});});}),_0x1f56a1['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',Fe(_0x1f56a1,'split'),{'priority':'high'}),_0x1f56a1['editing']['downcastDispatcher']['on']('removeMarker:suggestion:insertion',(_0xe34744,_0x29bbed,_0x2fdda1)=>{const _0x489e1f=_0x2fdda1['mapper']['markerNameToElements'](_0x29bbed['markerName']);if(_0x489e1f){for(const _0x2a3558 of _0x489e1f)_0x2a3558['hasClass']('ck-suggestion-marker-split')&&(_0x2fdda1['mapper']['unbindElementFromMarkerName'](_0x2a3558,_0x29bbed['markerName']),_0x2fdda1['writer']['remove'](_0x2a3558));}},{'priority':'high'}),_0x1f56a1['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x1d0301,_0x211e07,_0x8234b4)=>{_0x8234b4['options']['showSuggestionHighlights']&&Fe(_0x1f56a1,'split',{'showActiveMarker':!0x1})['bind'](this)(_0x1d0301,_0x211e07,_0x8234b4);},{'priority':'high'});}}class Z extends _0x2e402e{['afterInit'](){if(!this['editor']['plugins']['has']('FindAndReplaceEditing'))return;const _0x45d342=this['editor']['plugins']['get']('TrackChangesEditing');_0x45d342['enableCommand']('find',this['handleFindCommand']['bind'](this)),_0x45d342['enableCommand']('findNext'),_0x45d342['enableCommand']('findPrevious'),_0x45d342['enableCommand']('replace'),_0x45d342['enableCommand']('replaceAll');}['handleFindCommand'](_0x3dc2a5,_0x23563f,_0x2c965a={}){const _0x379a8e=this['editor']['plugins']['get']('FindAndReplaceUtils');return _0x3dc2a5(_0x1b0bd3=>{let _0x154ff4=('string'==typeof _0x23563f?_0x379a8e['findByTextCallback'](_0x23563f,_0x2c965a):_0x23563f)(_0x1b0bd3);Array['isArray'](_0x154ff4)&&(_0x154ff4={'results':_0x154ff4,'searchText':'string'==typeof _0x23563f?_0x23563f:''});const _0x1e3e16=_0x154ff4['results']['filter'](_0x3e0566=>!0x1===this['_isInDeletionRange'](_0x3e0566,_0x1b0bd3['item']));return{..._0x154ff4,'results':_0x1e3e16};},_0x2c965a);}['_isInDeletionRange'](_0x5ebc24,_0x2008a6){const _0x2323c5=this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x2008a6,_0x5ebc24['start']),this['editor']['model']['createPositionAt'](_0x2008a6,_0x5ebc24['end']));for(const _0xff0dc7 of this['editor']['model']['markers']['getMarkersGroup']('suggestion:deletion'))if(null!==_0x2323c5['getIntersection'](_0xff0dc7['getRange']()))return!0x0;return!0x1;}}const ro=[{'pluginName':'FontSizeEditing','commandName':'fontSize'},{'pluginName':'FontFamilyEditing','commandName':'fontFamily'},{'pluginName':'FontColorEditing','commandName':'fontColor'},{'pluginName':'FontBackgroundColorEditing','commandName':'fontBackgroundColor'}];class tt extends _0x2e402e{['afterInit'](){const _0x3332cd=this['editor']['locale'],_0xf73da0=this['editor']['plugins']['get']('TrackChangesEditing');for(const {pluginName:_0x450e4b,commandName:_0x42f825}of ro)this['editor']['plugins']['has'](_0x450e4b)&&(_0xf73da0['enableDefaultAttributesIntegration'](_0x42f825),_0xf73da0['registerInlineAttribute'](_0x42f825));_0xf73da0['descriptionFactory']['registerAttributeLabel']('fontSize',c(_0x3332cd,'FORMAT_FONT_SIZE')),_0xf73da0['descriptionFactory']['registerAttributeLabel']('fontFamily',c(_0x3332cd,'FORMAT_FONT_FAMILY')),_0xf73da0['descriptionFactory']['registerAttributeLabel']('fontColor',c(_0x3332cd,'FORMAT_FONT_COLOR')),_0xf73da0['descriptionFactory']['registerAttributeLabel']('fontBackgroundColor',c(_0x3332cd,'FORMAT_FONT_BACKGROUND')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1fa675=this['editor'],_0x483de4=_0x1fa675['locale'];_0x1fa675['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x59980a=>{const _0x3710f4=_0x483de4['t'];if('formatInline'!=_0x59980a['type'])return;const {data:_0x47e16e}=_0x59980a;if(null!=_0x47e16e){if('fontSize'==_0x47e16e['commandName']){const _0x330102=_0x47e16e['commandParams'][0x0]['value'];if(_0x330102){const _0x1bc206=_0x3710f4(this['editor']['plugins']['get']('FontSize')['normalizeSizeOptions'](this['editor']['config']['get']('fontSize.options'))['find'](_0x19fee8=>_0x19fee8['model']==_0x330102)['title'])['toLowerCase']();return{'type':'format','content':c(_0x483de4,'*Set\x20font\x20size:*\x20%0',_0x1bc206)};}return{'type':'format','content':c(_0x483de4,'*Reset\x20font\x20size*')};}if('fontFamily'==_0x47e16e['commandName']){const _0x264cf1=_0x47e16e['commandParams'][0x0]['value'];return _0x264cf1?{'type':'format','content':c(_0x483de4,'*Set\x20font\x20family:*\x20%0',_0x264cf1)}:{'type':'format','content':c(_0x483de4,'*Reset\x20font\x20family*')};}if('fontColor'==_0x47e16e['commandName']){const _0x4d3d68=_0x47e16e['commandParams'][0x0]['value'];if(_0x4d3d68){const _0x40a3db=_0x3ad279(this['editor']['config']['get']('fontColor.colors'))['find'](_0x5b1a2e=>_0x5b1a2e['model']==_0x4d3d68);let _0x10b334=_0x4d3d68,_0x561058='';return _0x40a3db&&(_0x10b334=_0x40a3db['label'],_0x561058=_0x3710f4(_0x10b334)['toLowerCase']()),{'type':'format','content':c(_0x483de4,'*Set\x20font\x20color:*\x20%0',_0x561058)['trim'](),'color':{'value':_0x4d3d68,'title':_0x561058||_0x10b334}};}return{'type':'format','content':c(_0x483de4,'*Reset\x20font\x20color*')};}if('fontBackgroundColor'==_0x47e16e['commandName']){const _0x318d0a=_0x47e16e['commandParams'][0x0]['value'];if(_0x318d0a){const _0x4238d8=_0x3ad279(this['editor']['config']['get']('fontBackgroundColor.colors'))['find'](_0x44d22d=>_0x44d22d['model']==_0x318d0a);let _0x41e54b=_0x318d0a,_0x56153c='';return _0x4238d8&&(_0x41e54b=_0x4238d8['label'],_0x56153c=_0x3710f4(_0x41e54b)['toLowerCase']()),{'type':'format','content':c(_0x483de4,'*Set\x20font\x20background\x20color:*\x20%0',_0x56153c)['trim'](),'color':{'value':_0x318d0a,'title':_0x56153c||_0x41e54b}};}return{'type':'format','content':c(_0x483de4,'*Reset\x20font\x20background\x20color*')};}}});}}class et extends _0x2e402e{['afterInit'](){const _0x288d5c=this['editor'],_0x376a9c=_0x288d5c['plugins']['get']('TrackChangesEditing'),_0x4e3bcd=_0x288d5c['commands']['get']('copyFormat'),_0x23fd45=_0x288d5c['commands']['get']('pasteFormat');_0x4e3bcd&&_0x23fd45&&(_0x376a9c['enableDefaultAttributesIntegration']('pasteFormat'),_0x376a9c['enableCommand']('copyFormat'),this['_registerLegacyDescription']());}['_registerLegacyDescription'](){const _0x5c679e=this['editor'],_0x2ef4a9=_0x5c679e['locale'];_0x5c679e['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x510446=>{if('formatBlock'!=_0x510446['type']&&'formatInline'!=_0x510446['type'])return;const {data:_0x366579}=_0x510446;if(_0x366579&&'pasteFormat'===_0x366579['commandName']){const _0x1acc0f=[],_0x12c809=_0x366579['commandParams'][0x0];for(const [_0x3815df,_0x4bab49]of Object['entries'](_0x12c809))_0x1acc0f['push'](so(_0x5c679e,_0x3815df,_0x4bab49));return _0x1acc0f['length']?{'type':'format','content':c(_0x2ef4a9,'*Set\x20format\x20to:*\x20%0',_0x1acc0f['join'](',\x20'))}:{'type':'format','content':c(_0x2ef4a9,'*Remove\x20all\x20formatting*')};}});}}function so(_0x35a01c,_0x1bea8,_0x54b67c){const _0x184d8d=_0x35a01c['locale']['t'],_0x30e708=_0x1bea8['split'](/(?=[A-Z])/)['join']('\x20'),_0x4598f9=_0x184d8d(_0x30e708['charAt'](0x0)['toUpperCase']()+_0x30e708['slice'](0x1))['toLowerCase']();if('boolean'==typeof _0x54b67c)return _0x4598f9;if('fontColor'===_0x1bea8||'fontBackgroundColor'===_0x1bea8){const _0x5a917d=_0x3ad279(_0x35a01c['config']['get']('fontColor.colors'))['find'](_0x4edbee=>_0x4edbee['model']==_0x54b67c);return _0x4598f9+'\x20('+(_0x5a917d?_0x184d8d(_0x5a917d['label'])['toLowerCase']():_0x54b67c)+')';}if('fontSize'===_0x1bea8&&isNaN(parseFloat(_0x54b67c))){const _0x15ddde=_0x35a01c['plugins']['get']('FontSize')['normalizeSizeOptions'](_0x35a01c['config']['get']('fontSize.options'))['find'](_0xaccd6b=>_0xaccd6b['model']==_0x54b67c);return _0x4598f9+'\x20('+(_0x15ddde?_0x184d8d(_0x15ddde['title'])['toLowerCase']():_0x54b67c)+')';}return _0x4598f9+'\x20('+_0x54b67c+')';}class nt extends _0x2e402e{['_headingOptions'];['afterInit'](){const _0x11fe93=this['editor'];if(!_0x11fe93['plugins']['has']('HeadingEditing'))return;this['_headingOptions']=_0x11fe93['config']['get']('heading.options');const _0x3e79c8=_0x11fe93['locale'],_0x42e731=_0x11fe93['plugins']['get']('TrackChangesEditing');_0x42e731['enableDefaultAttributesIntegration']('heading');for(const _0x1e9833 of this['_headingOptions'])'paragraph'!=_0x1e9833['model']&&_0x42e731['descriptionFactory']['registerElementLabel'](_0x1e9833['model'],_0x53d840=>{const _0x547181=this['_getHeadingLevel'](_0x1e9833['model']);return null!==_0x547181?_0x1f9b54(_0x53d840,_0x547181):_0x1fee02(_0x53d840,_0x1e9833['title']);});function _0x1f9b54(_0x34a6e0,_0x95307c){return c(_0x3e79c8,'ELEMENT_HEADING',[_0x34a6e0,_0x95307c]);}function _0x1fee02(_0x14a830,_0x57c5af){return c(_0x3e79c8,'ELEMENT_HEADING_CUSTOM',[_0x14a830,_0x57c5af]);}this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x59fee8=this['editor'],_0x4b8284=_0x59fee8['locale'];function _0x73ed16(_0x2d2aca,_0x1e7706){return c(_0x4b8284,'ELEMENT_HEADING_CUSTOM',[_0x2d2aca,_0x1e7706]);}_0x59fee8['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x455a62=>{if('formatBlock'!=_0x455a62['type'])return;const {data:_0x1bbd6e}=_0x455a62;if(_0x1bbd6e&&'heading'==_0x1bbd6e['commandName']){const _0x323429=_0x1bbd6e['commandParams'][0x0]['value'],_0x4de4a8=this['_getHeadingLevel'](_0x323429);if(null!==_0x4de4a8)return{'type':'format','content':c(_0x4b8284,'*Change\x20to:*\x20%0',(_0xdaeae3=0x1,_0x329578=_0x4de4a8,c(_0x4b8284,'ELEMENT_HEADING',[_0xdaeae3,_0x329578])))};const _0x5a8daf=this['_headingOptions']['find'](_0x1aab73=>_0x1aab73['model']===_0x323429)['title'];return{'type':'format','content':c(_0x4b8284,'*Change\x20to:*\x20%0',_0x73ed16(0x1,_0x5a8daf))};}var _0xdaeae3,_0x329578;});}['_getHeadingLevel'](_0x203db0){const _0xf68a87=_0x203db0['match'](/^heading(\d+)/);if(_0xf68a87)return _0xf68a87[0x1];const _0x359342=this['_headingOptions']?.['find'](_0x1c3259=>_0x1c3259['model']==_0x203db0);if(_0x359342&&_0x359342['view']){const _0x27a67b=_0x359342['view'],_0x1bf98=(_0x27a67b['name']??_0x27a67b)['match'](/^h(\d+)/);if(_0x1bf98)return _0x1bf98[0x1];}return null;}}class it extends _0x2e402e{['afterInit'](){const _0x1623eb=this['editor'];if(!_0x1623eb['plugins']['has']('HighlightEditing'))return;const _0x2674bc=_0x1623eb['plugins']['get']('TrackChangesEditing'),_0x61a9ac=_0x1623eb['locale'];_0x2674bc['enableDefaultAttributesIntegration']('highlight'),_0x2674bc['registerInlineAttribute']('highlight'),_0x2674bc['descriptionFactory']['registerAttributeLabel']('highlight',c(_0x61a9ac,'FORMAT_HIGHLIGHT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x21fda2=this['editor'],_0x57a417=_0x21fda2['locale'];_0x21fda2['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x562b06=>{if('formatInline'!=_0x562b06['type'])return;const {data:_0x4d97dc}=_0x562b06;if(_0x4d97dc&&'highlight'==_0x4d97dc['commandName']){const _0x4e3689=_0x57a417['t'],_0x40d25d=_0x4d97dc['commandParams'][0x0]['value'];if(_0x40d25d){const _0x5da4c8=_0x21fda2['config']['get']('highlight.options')['find'](_0x2b438d=>_0x2b438d['model']==_0x40d25d),_0x2a6251=_0x4e3689(_0x5da4c8['title'])['toLowerCase']();return{'type':'format','content':c(_0x57a417,'*Set\x20highlight:*\x20%0',_0x2a6251),'color':{'value':_0x5da4c8['color'],'title':_0x5da4c8['title']}};}return{'type':'format','content':c(_0x57a417,'*Remove\x20highlight*',c(_0x57a417,'FORMAT_HIGHLIGHT'))};}});}}class st extends _0x2e402e{['afterInit'](){const _0x4712ee=this['editor'];if(!_0x4712ee['plugins']['has']('HorizontalLineEditing'))return;_0x4712ee['plugins']['get']('TrackChangesEditing')['enableCommand']('horizontalLine');const _0x30b942=_0x4712ee['plugins']['get']('TrackChangesEditing'),_0x91f69d=_0x4712ee['locale'];_0x30b942['descriptionFactory']['registerElementLabel']('horizontalLine',_0x151c68=>c(_0x91f69d,'ELEMENT_HORIZONTAL_LINE',_0x151c68)),_0x4712ee['conversion']['for']('dataDowncast')['elementToStructure']({'model':'horizontalLine','view':(_0x3e42e4,{writer:_0x4e58a7,options:_0x5a69f5})=>{if(!_0x5a69f5['showSuggestionHighlights'])return null;const _0x3730f8=_0x4e58a7['createContainerElement']('div'),_0x133272=_0x4e58a7['createEmptyElement']('hr');return _0x4e58a7['addClass']('ck-horizontal-line',_0x3730f8),_0x4e58a7['insert'](_0x4e58a7['createPositionAt'](_0x3730f8,0x0),_0x133272),_0x3730f8;},'converterPriority':'high'});}}class ot extends _0x2e402e{['afterInit'](){const _0x1fe48d=this['editor'];if(!_0x1fe48d['plugins']['has']('HtmlEmbed'))return;const _0x564da8=_0x1fe48d['plugins']['get']('TrackChangesEditing'),_0x4ae90a=_0x1fe48d['locale'];_0x564da8['descriptionFactory']['registerElementLabel']('rawHtml',_0x327cb1=>c(_0x4ae90a,'ELEMENT_HTML_EMBED',_0x327cb1)),_0x564da8['enableDefaultAttributesIntegration']('htmlEmbed'),_0x564da8['registerBlockAttribute']('value'),_0x564da8['descriptionFactory']['registerDescriptionCallback'](_0x1d7f17=>{if('attribute'!=_0x1d7f17['type'])return;const {data:_0x735fec}=_0x1d7f17;if(_0x735fec&&'value'==_0x735fec['key']&&_0x1d7f17['getFirstRange']()['start']['nodeAfter']['is']('element','rawHtml')){const _0x1ad29e=c(_0x4ae90a,'ELEMENT_HTML_EMBED');return{'type':'format','content':c(_0x4ae90a,'*Change\x20%0\x20content*',_0x1ad29e)};}}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5e0ba6=this['editor'],_0xc2f8=_0x5e0ba6['locale'];_0x5e0ba6['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xdd298a=>{if('formatBlock'!=_0xdd298a['type'])return;const {data:_0x4b8a0d}=_0xdd298a;if(_0x4b8a0d&&'htmlEmbed'==_0x4b8a0d['commandName']){const _0x3fa202=c(_0xc2f8,'ELEMENT_HTML_EMBED');return{'type':'format','content':c(_0xc2f8,'*Change\x20%0\x20content*',_0x3fa202)};}});}}class rt extends _0x2e402e{['afterInit'](){const _0x29b5bf=this['editor'];if(!_0x29b5bf['plugins']['has']('ImageEditing'))return;const _0xdc1448=_0x29b5bf['plugins']['get']('TrackChangesEditing'),_0x5a4cc8=_0x29b5bf['plugins']['get']('ImageUtils'),_0x1ac527=_0x29b5bf['locale'];_0xdc1448['enableCommand']('insertImage'),_0xdc1448['descriptionFactory']['registerElementLabel']('imageBlock',_0x3295be=>c(_0x1ac527,'ELEMENT_IMAGE',_0x3295be)),_0xdc1448['descriptionFactory']['registerElementLabel']('imageInline',_0x56f816=>c(_0x1ac527,'ELEMENT_INLINE_IMAGE',_0x56f816)),_0xdc1448['descriptionFactory']['registerElementLabel']('caption',()=>c(_0x1ac527,'ELEMENT_CAPTION')),_0x29b5bf['plugins']['has']('ImageUploadEditing')&&_0xdc1448['enableCommand']('uploadImage'),_0x29b5bf['plugins']['has']('ImageBlockEditing')&&_0x29b5bf['plugins']['has']('ImageInlineEditing')&&(_0xdc1448['enableCommand']('imageTypeInline',(_0xff3540,_0x529115)=>{const _0x18436f=_0x5a4cc8['getClosestSelectedImageElement'](_0x29b5bf['model']['document']['selection']);_0x29b5bf['model']['change'](()=>{_0xdc1448['markBlockFormat'](_0x18436f,{'commandName':'imageTypeInline','commandParams':[_0x529115]},[],'convertBlockImageToInline');});}),_0xdc1448['enableCommand']('imageTypeBlock',(_0xee834f,_0xf929c6)=>{_0x29b5bf['model']['change'](_0x311f3f=>{let _0x518d28=_0x5a4cc8['getClosestSelectedImageElement'](_0x29b5bf['model']['document']['selection']),_0x4fba97=_0x311f3f['createRangeOn'](_0x518d28);const _0x127a5d=_0x2dfdcc['fromPosition'](_0x4fba97['start'],'toPrevious'),_0x3205f3=_0x2dfdcc['fromPosition'](_0x4fba97['end'],'toNext');_0xdc1448['forceDefaultExecution'](()=>_0xee834f(_0xf929c6)),_0x518d28=_0x5a4cc8['getClosestSelectedImageElement'](_0x29b5bf['model']['document']['selection']),_0x4fba97=_0x311f3f['createRangeOn'](_0x518d28);const _0x3f50fb=_0x311f3f['createRange'](_0x127a5d,_0x3205f3);_0x127a5d['detach'](),_0x3205f3['detach'](),_0xdc1448['markBlockFormat'](_0x518d28,{'commandName':'imageTypeInline','commandParams':[_0xf929c6]},[],'convertInlineImageToBlock'),_0x3f50fb['start']['isBefore'](_0x4fba97['start'])&&_0xdc1448['markInsertion'](_0x311f3f['createRange'](_0x3f50fb['start'],_0x4fba97['start']),'convertInlineImageToBlock'),_0x4fba97['end']['isBefore'](_0x3f50fb['end'])&&_0xdc1448['markInsertion'](_0x311f3f['createRange'](_0x4fba97['end'],_0x3f50fb['end']),'convertInlineImageToBlock');});}),_0xdc1448['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','join',()=>!0x1),_0xdc1448['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','accept',()=>!0x1),_0xdc1448['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','discard',_0xdc1448['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')),_0xdc1448['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','join',()=>!0x1),_0xdc1448['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','discard',([_0x5907e7])=>{const _0x3eb330=_0xdc1448['_suggestionFactory']['getSuggestionCallback']('insertion','','discard');let _0x203ed4=_0x5907e7['start'],_0x49e01d=_0x5907e7['end'];const _0x80f921=_0x29b5bf['model']['schema']['getNearestSelectionRange'](_0x203ed4,'backward'),_0x4282a9=_0x29b5bf['model']['schema']['getNearestSelectionRange'](_0x49e01d,'forward');_0x80f921['isCollapsed']&&(_0x203ed4=_0x80f921['start']),_0x4282a9['isCollapsed']&&(_0x49e01d=_0x4282a9['end']),_0x3eb330([_0x29b5bf['model']['createRange'](_0x203ed4,_0x49e01d)]);}),_0xdc1448['_suggestionFactory']['registerCustomCallback']('formatBlock','convertInlineImageToBlock','chain',_0x1a237d),_0xdc1448['_suggestionFactory']['registerCustomCallback']('insertion','convertInlineImageToBlock','chain',_0x1a237d)),_0x29b5bf['plugins']['has']('ImageCaptionEditing')&&(_0xdc1448['enableCommand']('toggleImageCaption',(_0x440b9e,_0x2cefb5)=>{const _0x16db6c=_0x29b5bf['plugins']['get']('ImageCaptionUtils');let _0x2adad9=_0x5a4cc8['getClosestSelectedImageElement'](_0x29b5bf['model']['document']['selection']),_0x5a5c85=_0x16db6c['getCaptionFromImageModelElement'](_0x2adad9);_0x29b5bf['model']['change'](()=>{if(_0x5a5c85)return void _0xdc1448['markDeletion'](_0x29b5bf['model']['createRangeOn'](_0x5a5c85));const _0x69da95=_0x5a4cc8['isBlockImage'](_0x2adad9);_0x440b9e(_0x2cefb5),_0x2adad9=_0x5a4cc8['getClosestSelectedImageElement'](_0x29b5bf['model']['document']['selection']),_0x5a5c85=_0x16db6c['getCaptionFromImageModelElement'](_0x2adad9),_0xdc1448['markInsertion'](_0x29b5bf['model']['createRangeOn'](_0x5a5c85),_0x69da95?null:'imageCaption');});}),_0xdc1448['_suggestionFactory']['registerCustomCallback']('insertion','imageCaption','chain',_0x1a237d));const _0x4a679c=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0x2c8faf(_0x2c08d6,_0xf28b60){const _0x1ba43d=_0x4a679c['findIndex'](({type:_0x35dca6,subType:_0x20f12a})=>_0x2c08d6['type']==_0x35dca6&&_0x2c08d6['subType']==_0x20f12a),_0x14619c=_0x4a679c['findIndex'](({type:_0xd2fc51,subType:_0x220f28})=>_0xf28b60['type']==_0xd2fc51&&_0xf28b60['subType']==_0x220f28);if(_0x1ba43d<0x0||_0x14619c<0x0)return!0x1;const _0x12f289=_0x2c08d6['getFirstRange'](),_0x1f95f2=_0xf28b60['getFirstRange']();if((0x0==_0x1ba43d||0x1==_0x1ba43d)&&0x2==_0x14619c&&_0x12f289['isIntersecting'](_0x1f95f2))return!0x0;if(0x2==_0x1ba43d&&0x3==_0x14619c){const _0xa670aa=_0xdc1448['_findSuggestions'](_0x12f289,'insertion')['filter'](({suggestion:_0x2f2a20,meta:_0x1df291})=>_0x1df291['isOwn']&&'convertInlineImageToBlock'==_0x2f2a20['subType']);if(_0xa670aa['length']>0x1&&_0x1f95f2['end']['isEqual'](_0x12f289['start']))return!0x0;if(0x1==_0xa670aa['length']&&(_0x12f289['start']['isEqual'](_0x1f95f2['end'])||_0x12f289['end']['isEqual'](_0x1f95f2['start'])))return!0x0;}if(0x3==_0x1ba43d&&0x3==_0x14619c&&_0x12f289['start']['isBefore'](_0x1f95f2['start'])){const _0xa69adc=_0x12f289['end']['nodeAfter'],_0x57f1de=_0x1f95f2['start']['nodeBefore'];return _0x5a4cc8['isBlockImage'](_0xa69adc)&&_0xa69adc===_0x57f1de;}return!0x1;}function _0x1a237d(_0x24046b,_0x5c5b7e){return _0x2c8faf(_0x24046b,_0x5c5b7e)?[_0x24046b,_0x5c5b7e]:_0x2c8faf(_0x5c5b7e,_0x24046b)?[_0x5c5b7e,_0x24046b]:null;}_0x29b5bf['plugins']['has']('ImageResize')&&(_0xdc1448['enableDefaultAttributesIntegration']('resizeImage'),_0xdc1448['registerBlockAttribute']('resizedWidth'),_0xdc1448['descriptionFactory']['registerAttributeLabel']('resizedWidth',c(_0x1ac527,'FORMAT_IMAGE_SIZE'))),_0x29b5bf['plugins']['has']('ImageTextAlternativeEditing')&&(_0xdc1448['enableDefaultAttributesIntegration']('imageTextAlternative'),_0xdc1448['registerBlockAttribute']('alt')),_0x29b5bf['plugins']['has']('PictureEditing')&&(_0xdc1448['registerBlockAttribute']('sources'),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x35aac6=>{if('attribute'!=_0x35aac6['type'])return;const {data:_0x1e507b}=_0x35aac6;return _0x1e507b&&'sources'==_0x1e507b['key']?{'type':'format','content':''}:void 0x0;})),_0x29b5bf['plugins']['has']('ImageSizeAttributes')&&(_0xdc1448['registerBlockAttribute']('width'),_0xdc1448['registerBlockAttribute']('height'),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x5d3bfb=>{if('attribute'!=_0x5d3bfb['type'])return;const {data:_0x49335d}=_0x5d3bfb;return!_0x49335d||'width'!=_0x49335d['key']&&'height'!=_0x49335d['key']?void 0x0:{'type':'format','content':''};})),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x391901=>{if(!!_0x4a679c['find'](({type:_0xcc9c84,subType:_0x3fc0da})=>_0x391901['type']==_0xcc9c84&&_0x391901['subType']==_0x3fc0da))return _0x391901['previous']?{}:void 0x0;}),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x3a561d=>{if('insertion'==_0x3a561d['type']||'deletion'==_0x3a561d['type']){const _0x25243a=_0x3a561d['getContainedElement']();if(_0x25243a&&_0x25243a['is']('element','caption'))return{'type':'insertion'==_0x3a561d['type']?'addObject':'removeObject','element':_0x25243a,'quantity':0x1};}}),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x5deda1=>'formatBlock'==_0x5deda1['type']&&'convertInlineImageToBlock'==_0x5deda1['subType']?{'type':'format','content':'Inline\x20image\x20to\x20block\x20image'}:'formatBlock'==_0x5deda1['type']&&'convertBlockImageToInline'==_0x5deda1['subType']?{'type':'format','content':'Block\x20image\x20to\x20inline\x20image'}:void 0x0),_0xdc1448['descriptionFactory']['registerDescriptionCallback'](_0x296f7e=>{if('attribute'!=_0x296f7e['type'])return;const {data:_0x34e051}=_0x296f7e;if(!_0x34e051||'alt'!=_0x34e051['key'])return;const _0x35019c=_0x34e051['newValue'];return _0x35019c?{'type':'format','content':c(_0x1ac527,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x35019c+'\x22')}:{'type':'format','content':c(_0x1ac527,'*Remove\x20image\x20text\x20alternative*')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1c1848=this['editor'],_0xe6adcb=_0x1c1848['locale'];_0x1c1848['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4a7aa0=>{if('formatBlock'!=_0x4a7aa0['type']&&'formatInline'!=_0x4a7aa0['type'])return;const {data:_0x53b4f6}=_0x4a7aa0;if(_0x53b4f6){if('imageTextAlternative'==_0x53b4f6['commandName']){const _0x58281e=_0x53b4f6['commandParams'][0x0]['newValue'];return _0x58281e?{'type':'format','content':c(_0xe6adcb,'*Set\x20image\x20text\x20alternative:*\x20%0','\x22'+_0x58281e+'\x22')}:{'type':'format','content':c(_0xe6adcb,'*Remove\x20image\x20text\x20alternative*')};}if('resizeImage'==_0x53b4f6['commandName']){const _0x489b4f=_0x53b4f6['commandParams'][0x0]['width'];return _0x489b4f?{'type':'format','content':c(_0xe6adcb,'*Set\x20image\x20width:*\x20%0',_0x489b4f)}:{'type':'format','content':c(_0xe6adcb,'*Reset\x20image\x20width*')};}}});}}class at extends _0x2e402e{['afterInit'](){if(!this['editor']['plugins']['has']('ImageEditing'))return;const _0x496e02=this['editor']['locale'],_0x5020d6=this['editor']['plugins']['get']('TrackChangesEditing');_0x5020d6['enableDefaultAttributesIntegration']('replaceImageSource'),_0x5020d6['registerBlockAttribute']('src'),_0x5020d6['descriptionFactory']['registerDescriptionCallback'](_0x2fbd76=>{if('attribute'!=_0x2fbd76['type'])return;const {data:_0x499009}=_0x2fbd76;return _0x499009&&'src'==_0x499009['key']?_0x499009['newValue']&&_0x499009['oldValue']?{'type':'format','content':c(_0x496e02,'*Replace\x20image*')}:{'type':'format','content':''}:void 0x0;}),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x5e86c9=this['editor']['plugins']['get']('TrackChangesEditing');_0x5e86c9['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','accept',_0x5e86c9['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x5e86c9['_suggestionFactory']['registerCustomCallback']('formatBlock','replaceImageSource','discard',_0x5e86c9['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x2a9927=this['editor'],_0x56b9da=_0x2a9927['locale'];_0x2a9927['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0xc18fe8=>{if('formatBlock'!=_0xc18fe8['type']&&'formatInline'!=_0xc18fe8['type'])return;const {data:_0x3c3a1f}=_0xc18fe8;if(!_0x3c3a1f||'replaceImageSource'!=_0x3c3a1f['commandName'])return;return{'type':'format','content':c(_0x56b9da,'*Format:*\x20replace\x20image\x20URL')};});}}class ct extends _0x2e402e{['afterInit'](){const _0x51780e=this['editor'];if(!_0x51780e['plugins']['has']('ImageStyleEditing'))return;const _0x954a04=_0x51780e['plugins']['get']('TrackChangesEditing'),_0x2b00fe=_0x51780e['plugins']['get']('ImageUtils'),_0x464889={};_0x954a04['enableCommand']('imageStyle',(_0x5c58c6,_0x478f9c)=>{const _0x4d1d8b=_0x51780e['plugins']['get']('Users')['me'],_0x44f954=_0x51780e['commands']['get']('imageStyle');let _0x502f55=_0x2b00fe['getClosestSelectedImageElement'](_0x51780e['model']['document']['selection']),_0x24651d=_0x51780e['model']['createRangeOn'](_0x502f55),_0x5a0155=_0x44f954['value'];if(_0x5a0155==_0x478f9c['value'])return;const _0x2ce22f={'commandName':'imageStyle','commandParams':[_0x478f9c],'formatGroupId':_0x35a597()};_0x51780e['model']['change'](()=>{if(_0x954a04['getSuggestions']()['filter'](_0x700de6=>_0x700de6['isInContent']&&_0x4d1d8b==_0x700de6['author']&&('formatBlock'==_0x700de6['type']||'formatInline'==_0x700de6['type'])&&('imageStylePreApply'==_0x700de6['subType']||'imageStylePostApply'==_0x700de6['subType'])&&_0x700de6['getFirstRange']()['isEqual'](_0x24651d))['forEach'](_0x4b0521=>_0x954a04['discardSuggestion'](_0x4b0521['head'])),_0x502f55=_0x2b00fe['getClosestSelectedImageElement'](_0x51780e['model']['document']['selection']),_0x24651d=_0x51780e['model']['createRangeOn'](_0x502f55),_0x44f954['refresh'](),_0x51780e['commands']['get']('imageTypeInline')['refresh'](),_0x51780e['commands']['get']('imageTypeBlock')['refresh'](),_0x5a0155=_0x44f954['value'],_0x5a0155!=_0x478f9c['value'])return _0x2b00fe['isInlineImage'](_0x502f55)&&_0x44f954['shouldConvertImageType'](_0x478f9c['value'],_0x502f55)?(_0x5c58c6({..._0x478f9c,'setImageSizes':!0x1}),_0x502f55=_0x2b00fe['getClosestSelectedImageElement'](_0x51780e['model']['document']['selection']),void _0x954a04['markBlockFormat'](_0x502f55,{..._0x2ce22f,'commandReversedParams':[{'value':_0x5a0155||null,'setImageSizes':!0x1}]},[],'imageStylePreApply')):void(_0x2b00fe['isBlockImage'](_0x502f55)?_0x954a04['markBlockFormat'](_0x502f55,_0x2ce22f,[],'imageStylePostApply'):_0x954a04['markInlineFormat'](_0x24651d,_0x2ce22f,'imageStylePostApply'));});});for(const _0x2c0f54 of _0x51780e['plugins']['get']('ImageStyleEditing')['normalizedStyles'])_0x464889[_0x2c0f54['name']]=_0x2c0f54['title']['toLowerCase']();_0x954a04['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','join',()=>!0x1),_0x954a04['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePostApply','join',()=>!0x1),_0x954a04['_suggestionFactory']['registerCustomCallback']('formatInline','imageStylePostApply','join',()=>!0x1),_0x954a04['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','accept',([_0x17fdaa])=>{_0x2b00fe['setImageNaturalSizeAttributes'](_0x17fdaa['getContainedElement']());}),_0x954a04['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','discard',(_0x293b70,_0x47f610)=>{_0x954a04['_suggestionFactory']['getSuggestionCallback']('formatBlock','','accept')(_0x293b70,{'commandName':_0x47f610['commandName'],'commandParams':_0x47f610['commandReversedParams']});}),_0x954a04['_suggestionFactory']['registerCustomCallback']('formatBlock','imageStylePreApply','chain',function(_0x493a9e,_0x592664){if(_0xde6ded(_0x493a9e,_0x592664))return[_0x493a9e,_0x592664];if(_0xde6ded(_0x592664,_0x493a9e))return[_0x592664,_0x493a9e];return null;});const _0xb0d3cf=[{'type':'formatBlock','subType':'imageStylePreApply'},{'type':'insertion','subType':'imageCaption'},{'type':'formatBlock','subType':'convertInlineImageToBlock'},{'type':'insertion','subType':'convertInlineImageToBlock'}];function _0xde6ded(_0x4aa9b2,_0x42d85f){const _0x1158d3=_0xb0d3cf['findIndex'](({type:_0x2669ae,subType:_0x7e38d1})=>_0x4aa9b2['type']==_0x2669ae&&_0x4aa9b2['subType']==_0x7e38d1),_0x337edf=_0xb0d3cf['findIndex'](({type:_0xd532a7,subType:_0x5740a5})=>_0x42d85f['type']==_0xd532a7&&_0x42d85f['subType']==_0x5740a5);if(_0x1158d3<0x0||_0x337edf<0x0)return!0x1;const _0x37b118=_0x4aa9b2['getFirstRange'](),_0x166ab0=_0x42d85f['getFirstRange']();if((0x0==_0x1158d3||0x1==_0x1158d3)&&0x2==_0x337edf&&_0x37b118['isIntersecting'](_0x166ab0))return!0x0;if(0x2==_0x1158d3&&0x3==_0x337edf){const _0x18b8de=_0x954a04['_findSuggestions'](_0x37b118,'insertion')['filter'](({suggestion:_0x2ebca5,meta:_0x4394a0})=>_0x4394a0['isOwn']&&'convertInlineImageToBlock'==_0x2ebca5['subType']);if(_0x18b8de['length']>0x1&&_0x166ab0['end']['isEqual'](_0x37b118['start']))return!0x0;if(0x1==_0x18b8de['length']&&(_0x37b118['start']['isEqual'](_0x166ab0['end'])||_0x37b118['end']['isEqual'](_0x166ab0['start'])))return!0x0;}if(0x3==_0x1158d3&&0x3==_0x337edf&&_0x37b118['start']['isBefore'](_0x166ab0['start'])){const _0xc76cd9=_0x37b118['end']['nodeAfter'],_0x2a9456=_0x166ab0['start']['nodeBefore'];return _0x2b00fe['isBlockImage'](_0xc76cd9)&&_0xc76cd9===_0x2a9456;}return!0x1;}_0x51780e['model']['document']['registerPostFixer'](()=>{let _0x4bc11b=!0x1;const _0x4e7949=Array['from'](_0x51780e['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x2c5c2b,data:_0x1fea28}of _0x4e7949){const {group:_0x16f607,type:_0x3d2dbe,subType:_0x55d9df,id:_0x52bee8}=_0x954a04['_splitMarkerName'](_0x2c5c2b);if('suggestion'==_0x16f607&&_0x954a04['hasSuggestion'](_0x52bee8)){if('formatBlock'==_0x3d2dbe&&('imageStylePreApply'==_0x55d9df||'imageStylePostApply'==_0x55d9df)){const _0x236c0e=_0x954a04['getSuggestion'](_0x52bee8);if(_0x1fea28['newRange']){const _0x305ffd=_0x236c0e['getFirstRange']()['getContainedElement']();if(_0x2b00fe['isBlockImage'](_0x305ffd))continue;_0x954a04['discardSuggestion'](_0x236c0e),_0x4bc11b=!0x0;}}if('insertion'==_0x3d2dbe&&'imageCaption'==_0x55d9df&&!_0x1fea28['newRange']){const _0x37565c=_0x954a04['getSuggestion'](_0x52bee8);_0x37565c['next']&&_0x37565c['next']['isInContent']&&(_0x954a04['discardSuggestion'](_0x37565c['next']),_0x4bc11b=!0x0);}}}return _0x4bc11b;}),this['_registerLegacyDescription'](_0x464889);}['_registerLegacyDescription'](_0x3d7603){const _0xaf3d5f=this['editor'],_0x106be4=_0xaf3d5f['locale'];_0xaf3d5f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x37c130=>{if('formatBlock'!=_0x37c130['type']&&'formatInline'!=_0x37c130['type'])return;const {data:_0x5831b4}=_0x37c130;if(!_0x5831b4||'imageStyle'!=_0x5831b4['commandName'])return;const _0x57be10=_0x5831b4['commandParams'][0x0]['value'];return _0x5e58a4('side'===_0x57be10?c(_0x106be4,'FORMAT_SIDE_IMAGE'):_0x3d7603[_0x57be10]||_0x57be10);function _0x5e58a4(_0xd9432c){return{'type':'format','content':c(_0x106be4,'*Format:*\x20%0',_0xd9432c)};}});}}class ut extends _0x2e402e{['_trackChangesValueDuringImport'];['_trackChangesExecuted'];constructor(_0x76405e){super(_0x76405e),this['_trackChangesValueDuringImport']=!0x1,this['_trackChangesExecuted']=!0x1;}['afterInit'](){const _0x3124be=this['editor'],_0x1b1de8=_0x3124be['commands']['get']('importWord'),_0x4a21dc=_0x3124be['commands']['get']('trackChanges');_0x1b1de8&&(_0x1b1de8['on']('execute',(_0x17f096,[,_0x240f6c])=>{this['_trackChangesValueDuringImport']=_0x4a21dc['value'],_0x240f6c['collaboration_features']['track_changes']=!this['_trackChangesValueDuringImport'];},{'priority':'high'}),this['listenTo'](_0x1b1de8,'dataInsert',this['_handleImportedData']['bind'](this)),this['listenTo'](_0x1b1de8,'dataInsert',()=>{this['_trackChangesExecuted']&&(_0x4a21dc['execute'](),this['_trackChangesExecuted']=!0x1);},{'priority':'lowest'}),_0x3124be['plugins']['get']('TrackChangesEditing')['enableCommand']('importWord'));}['_handleImportedData'](_0x186787,_0x845247){const {suggestions:_0x516707}=_0x845247,_0x16bb58=this['editor']['commands']['get']('trackChanges'),_0x516c4e=_0x16bb58['value'];this['_trackChangesValueDuringImport']!==_0x516c4e&&(_0x16bb58['execute'](),this['_trackChangesExecuted']=!0x0),_0x516707&&_0x516707['forEach'](({id:_0xef1a9c,type:_0x3856a0,author:_0x2fac92,created_at:_0x425526})=>{const _0x274707={'id':_0xef1a9c,'type':_0x3856a0,'authorId':this['editor']['plugins']['get']('Users')['me']['id'],'createdAt':new Date(),'data':null,'hasComments':!0x1,'attributes':{'@external':{'authorName':_0x2fac92,'createdAt':_0x425526?new Date(_0x425526):new Date(),'source':'importWord'}}};this['editor']['plugins']['get']('TrackChangesEditing')['_setSuggestionData'](_0x274707);});}}class ft extends _0x2e402e{['afterInit'](){const _0x489631=this['editor'],_0x2504d8=_0x489631['plugins']['get']('TrackChangesEditing');if(_0x489631['plugins']['has']('IndentEditing')&&(_0x2504d8['enableCommand']('indent'),_0x2504d8['enableCommand']('outdent')),_0x489631['plugins']['has']('IndentBlock')){for(const _0x5047b4 of['indentBlock','outdentBlock'])_0x2504d8['enableDefaultAttributesIntegration'](_0x5047b4);}const _0x4fca7b=_0x489631['locale'];_0x2504d8['registerBlockAttribute']('blockIndent'),_0x2504d8['descriptionFactory']['registerAttributeLabel']('blockIndent',c(_0x4fca7b,'FORMAT_INDENT')),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5896d6=this['editor'],_0x133729=_0x5896d6['locale'],_0x596f86=_0x5896d6['plugins']['get']('TrackChangesEditing');_0x596f86['descriptionFactory']['registerDescriptionCallback'](_0x56745f=>{if('formatBlock'!=_0x56745f['type'])return;const {data:_0x3e604d}=_0x56745f;if(!_0x3e604d)return;if('indentBlock'!=_0x3e604d['commandName']&&'outdentBlock'!=_0x3e604d['commandName'])return;const _0x3397bb=_0x56745f['getItems']()[0x0],_0x4e7730=_0x596f86['descriptionFactory']['getItemLabel'](_0x3397bb);return'indentBlock'==_0x3e604d['commandName']?{'type':'format','content':c(_0x133729,'*Indent:*\x20%0',_0x4e7730)}:'outdentBlock'==_0x3e604d['commandName']?{'type':'format','content':c(_0x133729,'*Outdent:*\x20%0',_0x4e7730)}:void 0x0;});}}class ht extends _0x2e402e{static get['requires'](){return[tr];}['init'](){this['editor']['plugins']['get']('TrackChangesEditing')['enableCommand']('input');}}class lt extends _0x2e402e{['afterInit'](){const _0xe0d47=this['editor'];if(!_0xe0d47['plugins']['has']('LinkEditing'))return;const _0x11db09=_0xe0d47['plugins']['get']('TrackChangesEditing'),_0x1c74c9=_0xe0d47['commands']['get']('link');_0x11db09['enableDefaultAttributesIntegration']('link'),_0x11db09['enableDefaultAttributesIntegration']('unlink'),_0x11db09['registerInlineAttribute']('linkHref');for(const _0x53919e of _0x1c74c9['manualDecorators'])_0x11db09['registerInlineAttribute'](_0x53919e['id']),_0x11db09['descriptionFactory']['registerAttributeLabel'](_0x53919e['id'],'link\x20('+_0x53919e['label']['toLowerCase']()+')');_0x11db09['descriptionFactory']['registerDescriptionCallback'](_0x23a45d=>{if('attribute'!=_0x23a45d['type'])return;const {data:_0x52f650}=_0x23a45d;if(!_0x52f650||'linkHref'!=_0x52f650['key'])return;const _0x560494=_0x52f650['newValue'],_0x3cb24e=_0xe0d47['locale'];return{'type':'format','content':null==_0x560494?c(_0x3cb24e,'*Remove\x20link*'):c(_0x3cb24e,'*Set\x20link:*\x20%0','\x22'+_0x560494+'\x22')};}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x1d5561=this['editor'],_0x308962=_0x1d5561['locale'];_0x1d5561['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x4fda2a=>{if('formatInline'!=_0x4fda2a['type'])return;const {data:_0x4586a6}=_0x4fda2a;if(_0x4586a6){if('link'==_0x4586a6['commandName']){const _0x110251=_0x4586a6['commandParams'][0x0];return{'type':'format','content':c(_0x308962,'*Set\x20link:*\x20%0','\x22'+_0x110251+'\x22')};}return'unlink'==_0x4586a6['commandName']?{'type':'format','content':c(_0x308962,'*Remove\x20link*')}:void 0x0;}});}}class gt extends _0x2e402e{['afterInit'](){const _0x1f80b7=this['editor'],_0x728857=_0x1f80b7['locale'];if(!_0x1f80b7['plugins']['has']('LegacyListEditing'))return;const _0x528166=_0x1f80b7['plugins']['get']('TrackChangesEditing'),_0x4693a6=_0x1f80b7['plugins']['has']('LegacyTodoListEditing');function _0xe79dda(_0xdb14d8){return()=>{const _0x5d6478=_0x1f80b7['model']['document']['selection'],_0x3d99c6=_0x1f80b7['commands']['get'](_0xdb14d8);if(_0x3d99c6['value'])return void _0x1f80b7['execute']('paragraph',{});const _0x5191b2=_0xdb14d8['slice'](0x0,-0x4),_0x50fd29=function(_0x37b19d,_0x207891,_0x2ddf42){let _0x410b4f=Array['from'](_0x37b19d)['filter'](_0x2ca027=>function(_0x1cd30c,_0x5a307f){return _0x5a307f['checkChild'](_0x1cd30c['parent'],'listItem')&&!_0x5a307f['isObject'](_0x1cd30c);}(_0x2ca027,_0x2ddf42));_0x410b4f=_0x410b4f['filter'](_0x3d89f2=>!_0x3d89f2['is']('element','listItem')||_0x3d89f2['getAttribute']('listType')!=_0x207891);const _0x3a4df0=new Set();for(const _0x5ecbc5 of _0x410b4f)_0x5ecbc5['is']('element','listItem')?_0x3a4df0['add'](Le(_0x5ecbc5)):_0x3a4df0['add'](_0x5ecbc5);return Array['from'](_0x3a4df0);}(_0x5d6478['getSelectedBlocks'](),_0x5191b2,_0x1f80b7['model']['schema']);_0x1f80b7['model']['change'](()=>{for(const _0xf859f9 of _0x50fd29)_0x528166['markBlockFormat'](_0xf859f9,{'commandName':_0xdb14d8,'commandParams':[{'forceValue':!_0x3d99c6['value']}],'formatGroupId':'blockName'},Ee(_0xf859f9));});};}function _0x59be26(_0x3af9cb){return()=>{const _0x484814=function(_0x138cb2){let _0x21a021=Array['from'](_0x138cb2);const _0x389311=_0x21a021['findIndex'](_0x109dcf=>'listItem'!=_0x109dcf['name']);return _0x389311>-0x1&&(_0x21a021=_0x21a021['slice'](0x0,_0x389311)),_0x21a021;}(_0x1f80b7['model']['document']['selection']['getSelectedBlocks']()),_0x120853=_0x1f80b7['model']['createRange'](_0x1f80b7['model']['createPositionAt'](_0x484814[0x0],'before'),_0x1f80b7['model']['createPositionAt'](_0x484814[_0x484814['length']-0x1],'end'));_0x1f80b7['model']['change'](()=>{_0x528166['markBlockFormat'](_0x120853,{'commandName':_0x3af9cb,'commandParams':[],'formatGroupId':'listIndent'},function(_0x3d369f){const _0x2d8a2a=new Set();for(const _0x4a1554 of _0x3d369f){let _0x130d13=_0x4a1554['nextSibling'];for(;_0x130d13&&_0x130d13['getAttribute']('listIndent')>_0x4a1554['getAttribute']('listIndent');)_0x2d8a2a['add'](_0x130d13),_0x130d13=_0x130d13['nextSibling'];}return Array['from'](_0x2d8a2a);}(_0x484814));});};}_0x528166['enableCommand']('numberedList',_0xe79dda('numberedList')),_0x528166['enableCommand']('bulletedList',_0xe79dda('bulletedList')),_0x4693a6&&_0x528166['enableCommand']('todoList',_0xe79dda('todoList')),_0x528166['enableCommand']('indentList',_0x59be26('indentList')),_0x528166['enableCommand']('outdentList',_0x59be26('outdentList')),_0x4693a6&&_0x528166['enableCommand']('checkTodoList',()=>{const _0x55a1c5=_0x1f80b7['commands']['get']('checkTodoList'),_0x45a87d=Array['from'](_0x55a1c5['_selectedElements']);_0x45a87d['filter'](_0x567b35=>_0x567b35['getAttribute']('todoListChecked')!=_0x55a1c5['value']),_0x1f80b7['model']['change'](()=>{for(const _0x1f624c of _0x45a87d)_0x528166['markBlockFormat'](_0x1f624c,{'commandName':'checkTodoList','commandParams':[{'forceValue':!_0x55a1c5['value']}]});});}),_0x528166['descriptionFactory']['registerElementLabel']('listItem',_0x1f7f3c=>c(_0x728857,'ELEMENT_LIST_ITEM',_0x1f7f3c)),_0x528166['descriptionFactory']['registerDescriptionCallback'](_0x262ad3=>{if('formatBlock'!=_0x262ad3['type']&&'formatInline'!=_0x262ad3['type'])return;const {data:_0x29c24d}=_0x262ad3;if(_0x29c24d){if('numberedList'==_0x29c24d['commandName']||'bulletedList'==_0x29c24d['commandName']||'todoList'==_0x29c24d['commandName'])switch(_0x29c24d['commandName']['replace']('List','')){case'bulleted':return _0x1508b2(c(_0x728857,'ELEMENT_BULLETED_LIST'));case'numbered':return _0x1508b2(c(_0x728857,'ELEMENT_NUMBERED_LIST'));case'todo':return _0x1508b2(c(_0x728857,'ELEMENT_TODO_LIST'));}if('indentList'==_0x29c24d['commandName'])return{'type':'format','content':c(_0x728857,'*Indent:*\x20%0',c(_0x728857,'ELEMENT_LIST_ITEM'))};if('outdentList'==_0x29c24d['commandName'])return{'type':'format','content':c(_0x728857,'*Outdent:*\x20%0',c(_0x728857,'ELEMENT_LIST_ITEM'))};if('checkTodoList'==_0x29c24d['commandName'])return _0x29c24d['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x728857,'*Check\x20item*')}:{'type':'format','content':c(_0x728857,'*Uncheck\x20item*')};}function _0x1508b2(_0x4c65d9){return{'type':'format','content':c(_0x728857,'*Change\x20to:*\x20%0',_0x4c65d9)};}});}}function Le(_0x40d609){const _0x4409d7=_0x40d609['getAttribute']('listIndent');if(0x0==_0x4409d7)return _0x40d609;let _0x132a8e=_0x40d609;for(;_0x40d609['previousSibling']&&_0x40d609['previousSibling']['is']('element','listItem');){const _0x93546=_0x40d609['previousSibling']['getAttribute']('listIndent');if(_0x93546==_0x4409d7)_0x132a8e=_0x40d609['previousSibling'];else{if(_0x93546<_0x4409d7)break;}_0x40d609=_0x40d609['previousSibling'];}return _0x132a8e;}function Ee(_0x5c2018){const _0x594937=[];if(_0x5c2018['is']('element','listItem')&&_0x5c2018['getAttribute']('listIndent')>0x0){let _0x59ba65=_0x5c2018['nextSibling'];for(;_0x59ba65&&'listItem'==_0x59ba65['name']&&_0x59ba65['getAttribute']('listIndent')==_0x5c2018['getAttribute']('listIndent');)_0x594937['push'](_0x59ba65),_0x59ba65=_0x59ba65['nextSibling'];}return _0x594937;}class Q extends _0x2e402e{['afterInit'](){if(!this['editor']['plugins']['has']('LegacyListPropertiesEditing'))return;const _0x19159b=this['editor']['config']['get']('list.properties'),_0x5970ce=this['editor']['plugins']['get']('TrackChangesEditing');_0x19159b['styles']&&_0x5970ce['enableCommand']('listStyle',this['handleListStyleCommand']['bind'](this)),_0x19159b['reversed']&&_0x5970ce['enableCommand']('listReversed',this['handleListReversedCommand']['bind'](this)),_0x19159b['startIndex']&&_0x5970ce['enableCommand']('listStart',this['handleListStartCommand']['bind'](this)),_0x5970ce['descriptionFactory']['registerDescriptionCallback'](this['handleDescriptions']['bind'](this));}['handleListStyleCommand'](_0x4c9d63,_0x48c9fd={}){const _0x5803fa=this['editor']['plugins']['get']('TrackChangesEditing'),_0x91f324=this['_getSuggestionBlocksForListStyle']();this['editor']['model']['change'](()=>{_0x5803fa['markMultiRangeBlockFormat'](_0x91f324,{'commandName':'listStyle','commandParams':[{'type':_0x48c9fd['type']}],'formatGroupId':'listStyle'});});}['handleListReversedCommand'](_0x9df4ac,_0x2654d9={}){const _0x3d937b=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5a308c=this['_getSuggestionBlocks'](_0x4fe035=>_0x4fe035['is']('element','listItem')&&'numbered'===_0x4fe035['getAttribute']('listType'));if(_0x5a308c['length']<0x1)return;const _0x4ec8e1=_0x5a308c['map'](_0x43052c=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x43052c,'before'),this['editor']['model']['createPositionAt'](_0x43052c,0x0)));this['editor']['model']['change'](()=>{_0x3d937b['markMultiRangeBlockFormat'](_0x4ec8e1,{'commandName':'listReversed','commandParams':[{'reversed':_0x2654d9['reversed']}],'formatGroupId':'listReversed'});});}['handleListStartCommand'](_0x1bd101,_0x3355f6={}){const _0xb6524b=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2ebd23=this['_getSuggestionBlocks'](_0x5d196c=>_0x5d196c['is']('element','listItem')&&'numbered'===_0x5d196c['getAttribute']('listType'));if(_0x2ebd23['length']<0x1)return;const _0xaca85c=_0x2ebd23['map'](_0x9b89d5=>this['editor']['model']['createRange'](this['editor']['model']['createPositionAt'](_0x9b89d5,'before'),this['editor']['model']['createPositionAt'](_0x9b89d5,0x0)));this['editor']['model']['change'](()=>{_0xb6524b['markMultiRangeBlockFormat'](_0xaca85c,{'commandName':'listStart','commandParams':[{'startIndex':_0x3355f6['startIndex']}],'formatGroupId':'listStart'});});}['handleDescriptions'](_0x378fa6){if('formatBlock'!=_0x378fa6['type']&&'formatInline'!=_0x378fa6['type'])return;const _0x3e57e8=this['editor']['locale'],{data:_0x459ec7}=_0x378fa6;if(!_0x459ec7)return;let _0x3d00b8,_0x53a843;switch(_0x459ec7['commandName']){case'listStyle':_0x3d00b8='*Change\x20to:*\x20%0',_0x53a843={'type':'format','content':c(_0x3e57e8,_0x3d00b8,c(_0x3e57e8,this['_getTranslationKeyForListStyle'](_0x459ec7['commandParams'][0x0]['type'])))};break;case'listReversed':_0x3d00b8=_0x459ec7['commandParams'][0x0]['reversed']?'*Format:*\x20set\x20order\x20to\x20reversed':'*Format:*\x20set\x20order\x20to\x20regular',_0x53a843={'type':'format','content':c(_0x3e57e8,_0x3d00b8)};break;case'listStart':_0x3d00b8='*Format:*\x20set\x20start\x20index\x20to\x20%0',_0x53a843={'type':'format','content':c(_0x3e57e8,_0x3d00b8,_0x459ec7['commandParams'][0x0]['startIndex'])};}return _0x53a843;}['_getSuggestionBlocksForListStyle'](){const _0x40eefb=this['editor']['plugins']['get']('LegacyListUtils');let _0x3eae39=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']());return _0x3eae39[0x0]?.['is']('element','listItem')&&_0x3eae39['unshift'](..._0x40eefb['getSiblingNodes'](this['editor']['model']['document']['selection']['getFirstPosition'](),'backward')),_0x3eae39[_0x3eae39['length']-0x1]?.['is']('element','listItem')&&_0x3eae39['push'](..._0x40eefb['getSiblingNodes'](this['editor']['model']['document']['selection']['getLastPosition'](),'forward')),_0x3eae39=[...new Set(_0x3eae39)],this['editor']['model']['document']['selection']['getFirstPosition']()?.['parent']?.['is']('element','listItem')&&(_0x3eae39=_0x3eae39['filter'](_0x3130fb=>_0x3130fb['is']('element','listItem'))),_0x3eae39;}['_getSuggestionBlocks'](_0x5075fa){const _0x4bb215=this['editor']['plugins']['get']('LegacyListUtils');let _0x2a7302=Array['from'](this['editor']['model']['document']['selection']['getSelectedBlocks']())['filter'](_0x5075fa)['map'](_0x6e1ba6=>{const _0x2ef055=this['editor']['model']['createPositionAt'](_0x6e1ba6,0x0);return[..._0x4bb215['getSiblingNodes'](_0x2ef055,'backward'),..._0x4bb215['getSiblingNodes'](_0x2ef055,'forward')];})['flat']();return _0x2a7302=[...new Set(_0x2a7302)],_0x2a7302;}['_getTranslationKeyForListStyle'](_0x37ca5f){return'ELEMENT_'+(this['editor']['plugins']['get']('LegacyListUtils')['getListTypeFromListStyleType'](_0x37ca5f)||'default')['toUpperCase']()+'_LIST_'+_0x37ca5f['toUpperCase']()['replace'](/-/g,'_');}}class dt extends _0x2e402e{['afterInit'](){const _0x4a1199=this['editor'];if(!_0x4a1199['plugins']['has']('MediaEmbedEditing'))return;const _0x143c03=_0x4a1199['plugins']['get']('TrackChangesEditing'),_0x384d54=_0x4a1199['locale'];_0x143c03['enableCommand']('mediaEmbed'),_0x143c03['descriptionFactory']['registerElementLabel']('media',_0x3d9dd7=>c(_0x384d54,'ELEMENT_MEDIA',_0x3d9dd7)),_0x4a1199['conversion']['for']('dataDowncast')['elementToElement']({'model':'media','view':(_0x497a4f,{writer:_0x461e0b,options:_0x1d27b8})=>{if(_0x1d27b8['showSuggestionHighlights'])return _0x461e0b['createEmptyElement']('div');},'converterPriority':'high'}),_0x4a1199['data']['downcastDispatcher']['on']('attribute:url:media',(_0x12968a,_0x52d736,_0xad0d7d)=>{_0xad0d7d['options']['showSuggestionHighlights']&&_0x12968a['stop']();},{'priority':'high'});}}class pt extends _0x2e402e{['afterInit'](){const _0x2f9106=this['editor'];_0x2f9106['plugins']['has']('MentionEditing')&&_0x2f9106['plugins']['get']('TrackChangesEditing')['enableCommand']('mention');}}class wt extends _0x2e402e{['afterInit'](){const _0x33cbfd=this['editor'];if(!_0x33cbfd['plugins']['has']('MergeFieldsEditing'))return;const _0x602171=_0x33cbfd['plugins']['get']('TrackChangesEditing'),_0x42b955=_0x33cbfd['locale'];_0x602171['enableCommand']('insertMergeField'),_0x602171['enableCommand']('insertMergeFieldBlock'),_0x602171['enableCommand']('insertMergeFieldImage'),_0x602171['descriptionFactory']['registerElementLabel']('mergeField',_0x2db33d=>c(_0x42b955,'ELEMENT_MERGE_FIELD',_0x2db33d)),_0x602171['descriptionFactory']['registerElementLabel']('mergeFieldBlock',_0x498a8f=>c(_0x42b955,'ELEMENT_MERGE_FIELD',_0x498a8f)),_0x602171['descriptionFactory']['registerDescriptionCallback'](_0x197166=>{if('insertion'!=_0x197166['type']&&'deletion'!=_0x197166['type'])return;const _0x47d302=_0x197166['getContainedElement']();if(null==_0x47d302)return;const _0x1fa1f5=_0x33cbfd['plugins']['get']('MergeFieldsEditing');let _0xf22d43;switch(_0x1fa1f5['getMergeFieldType'](_0x47d302)){case null:return;case'image':{const _0x3cb05d=_0x1fa1f5['unwrapAffixes'](_0x47d302['getAttribute']('src'));_0xf22d43=_0x1fa1f5['getLabel'](_0x3cb05d)||_0x3cb05d;break;}default:{const _0x31d741=_0x47d302['getAttribute']('id');_0xf22d43=_0x1fa1f5['getLabel'](_0x31d741)||_0x31d741;break;}}return'insertion'==_0x197166['type']?{'type':'insertion','content':c(_0x42b955,'*Insert:*\x20%0','\x22'+_0xf22d43+'\x22\x20'+c(_0x42b955,'ELEMENT_MERGE_FIELD'))}:{'type':'deletion','content':c(_0x42b955,'*Remove:*\x20%0','\x22'+_0xf22d43+'\x22\x20'+c(_0x42b955,'ELEMENT_MERGE_FIELD'))};});}}class kt extends _0x2e402e{['afterInit'](){const _0xe11c2d=this['editor'],_0x3a9870=_0xe11c2d['plugins']['get']('TrackChangesEditing');_0xe11c2d['plugins']['has']('MultiLevelList')&&(_0x3a9870['enableDefaultAttributesIntegration']('multiLevelList'),_0x3a9870['registerBlockAttribute']('listMarkerStyle'),_0x3a9870['descriptionFactory']['registerDescriptionCallback'](_0x1ef630=>this['handleDescriptions'](_0x1ef630)));}['handleDescriptions'](_0x957b51){const _0x475efb=this['editor']['locale'],{data:_0x576d42}=_0x957b51,_0xeca92={'type':'format','content':''};if(_0x576d42&&'listMarkerStyle'==_0x576d42['key']){if(!_0x576d42['oldValue'])return{'type':'format','content':c(_0x475efb,'*Set\x20format:*\x20%0',c(_0x475efb,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x576d42['newValue']+')'};if(!_0x576d42['newValue']){let _0xee3180=_0x957b51['head'];for(;_0xee3180;){if(_0xee3180['data']&&'listType'==_0xee3180['data']['key']&&_0xee3180['data']['newValue'])return _0xeca92;_0xee3180=_0xee3180['next'];}return{'type':'format','content':c(_0x475efb,'*Remove\x20format:*\x20%0',c(_0x475efb,'ELEMENT_MULTI_LEVEL_LIST'))+'\x20('+_0x576d42['oldValue']+')'};}}}}class bt extends _0x2e402e{['afterInit'](){const _0x521c70=this['editor'];if(!_0x521c70['plugins']['has']('PageBreakEditing'))return;_0x521c70['plugins']['get']('TrackChangesEditing')['enableCommand']('pageBreak');const _0x4e7344=_0x521c70['plugins']['get']('TrackChangesEditing'),_0x318ead=_0x521c70['locale'];_0x4e7344['descriptionFactory']['registerElementLabel']('pageBreak',_0x1665e0=>c(_0x318ead,'ELEMENT_PAGE_BREAK',_0x1665e0));}}class yt extends _0x2e402e{['afterInit'](){const _0x49eacb=this['editor'];if(!_0x49eacb['plugins']['has']('Paragraph'))return;const _0x290bd6=_0x49eacb['locale'],_0x26548e=_0x49eacb['plugins']['get']('TrackChangesEditing');_0x26548e['descriptionFactory']['registerElementLabel']('paragraph',_0x44b511=>c(_0x290bd6,'ELEMENT_PARAGRAPH',_0x44b511)),_0x26548e['enableDefaultAttributesIntegration']('paragraph'),_0x26548e['enableCommand']('insertParagraph'),_0x49eacb['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',nr(_0x49eacb),{'priority':'highest'}),_0x49eacb['data']['downcastDispatcher']['on']('addMarker:suggestion:insertion',(_0x41e9c6,_0xacd5bc,_0xe4f6c9)=>{_0xe4f6c9['options']['showSuggestionHighlights']&&nr(_0x49eacb,{'showActiveMarker':!0x1})(_0x41e9c6,_0xacd5bc,_0xe4f6c9);},{'priority':'highest'});const _0x265cfb=_0x26548e['descriptionFactory'];_0x265cfb['registerDescriptionCallback'](_0x591477=>{if('insertion'!==_0x591477['type'])return;const {start:_0x579873,end:_0x36c3a0}=_0x591477['getFirstRange']();if(!_0x579873['isTouching'](_0x36c3a0)||!_0x579873['nodeAfter'])return;const _0x1a3859=_0x49eacb['model']['schema'],_0x1c6afb=_0x579873['nodeAfter'];return _0x1a3859['isBlock'](_0x1c6afb)&&!_0x1a3859['isLimit'](_0x1c6afb)&&_0x1a3859['checkChild'](_0x1c6afb,'$text')?{'type':'insertion','content':c(_0x290bd6,'*Insert:*\x20%0',_0x265cfb['getItemLabel'](_0x1c6afb,0x1))}:void 0x0;}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x575c95=this['editor'],_0x4ff94e=_0x575c95['locale'];_0x575c95['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x3caac5=>{if('formatBlock'!=_0x3caac5['type'])return;const {data:_0x13a91f}=_0x3caac5;return _0x13a91f&&'paragraph'==_0x13a91f['commandName']?{'type':'format','content':c(_0x4ff94e,'*Change\x20to:*\x20%0',c(_0x4ff94e,'ELEMENT_PARAGRAPH'))}:void 0x0;});}}function nr(_0x4673da,{showActiveMarker:_0x39315d=!0x0}={}){return(_0x22cfdd,_0x109a50,_0x1f5efc)=>{const _0x2f5bcc=_0x4673da['plugins']['get']('TrackChangesEditing'),_0x421df2=_0x109a50['markerRange']['start'],_0x256bb0=_0x109a50['markerRange']['end'],_0x4bb6c4=_0x4673da['model']['schema'];if(!_0x421df2['isTouching'](_0x256bb0)||!_0x421df2['nodeAfter'])return;const _0x1862b4=_0x421df2['nodeAfter'];if(_0x4bb6c4['isBlock'](_0x1862b4)&&!_0x4bb6c4['isLimit'](_0x1862b4)&&_0x4bb6c4['checkChild'](_0x1862b4,'$text')){if(!_0x1f5efc['consumable']['consume'](_0x109a50['markerRange'],_0x22cfdd['name']))return;const {authorId:_0x199708}=_0x2f5bcc['_splitMarkerName'](_0x109a50['markerName']),_0x534c63=_0x1f5efc['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-split','data-author-id':_0x199708}),_0x34a358=_0x1f5efc['mapper']['toViewPosition'](_0x256bb0);_0x39315d&&_0x2f5bcc['activeMarkers']['includes'](_0x109a50['markerName'])&&_0x1f5efc['writer']['addClass']('ck-suggestion-marker--active',_0x534c63),_0x1f5efc['writer']['insert'](_0x34a358,_0x534c63),_0x1f5efc['mapper']['bindElementToMarker'](_0x534c63,_0x109a50['markerName']);}};}class jt extends _0x2e402e{['afterInit'](){const _0x3c9c7a=this['editor'];_0x3c9c7a['commands']['get']('replaceSource')&&_0x3c9c7a['plugins']['get']('TrackChangesEditing')['enableCommand']('replaceSource');}}class St extends _0x2e402e{['afterInit'](){const _0x16e27f=this['editor'];if(!_0x16e27f['plugins']['has']('RemoveFormatEditing'))return;_0x16e27f['plugins']['get']('TrackChangesEditing')['enableDefaultAttributesIntegration']('removeFormat'),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x334046=this['editor'];_0x334046['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x5ec5eb=>{if('formatBlock'!=_0x5ec5eb['type']&&'formatInline'!=_0x5ec5eb['type'])return;const {data:_0x57c4aa}=_0x5ec5eb;return _0x57c4aa&&'removeFormat'==_0x57c4aa['commandName']?{'type':'format','content':c(_0x334046['locale'],'*Remove\x20all\x20formatting*')}:void 0x0;});}}class At extends _0x2e402e{['afterInit'](){const _0x3016dd=this['editor'];if(!_0x3016dd['plugins']['has']('RestrictedEditingModeEditing'))return;const _0x1bda33=_0x3016dd['plugins']['get']('TrackChangesEditing');_0x1bda33['enableCommand']('goToPreviousRestrictedEditingException'),_0x1bda33['enableCommand']('goToNextRestrictedEditingException');const _0x3d1b77=_0x3016dd['plugins']['get']('RestrictedEditingModeEditing');_0x3d1b77['enableCommand']('trackChanges'),_0x3d1b77['enableCommand']('acceptSuggestion'),_0x3d1b77['enableCommand']('discardSuggestion'),_0x3d1b77['enableCommand']('acceptAllSuggestions'),_0x3d1b77['enableCommand']('discardAllSuggestions'),_0x3d1b77['enableCommand']('acceptSelectedSuggestions'),_0x3d1b77['enableCommand']('discardSelectedSuggestions');}}class It extends _0x2e402e{['afterInit'](){const _0xbdf25b=this['editor'];if(!_0xbdf25b['plugins']['has']('ShiftEnter'))return;const _0x277fe0=_0xbdf25b['plugins']['get']('TrackChangesEditing');_0x277fe0['enableCommand']('shiftEnter'),_0xbdf25b['editing']['downcastDispatcher']['on']('addMarker:suggestion:insertion',je(_0xbdf25b),{'priority':'high'}),_0xbdf25b['editing']['downcastDispatcher']['on']('addMarker:suggestion:deletion',je(_0xbdf25b),{'priority':'high'}),_0xbdf25b['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x168ea1,_0x3f63b0,_0x2a130f)=>{_0x2a130f['options']['showSuggestionHighlights']&&je(_0xbdf25b,{'showActiveMarker':!0x1})(_0x168ea1,_0x3f63b0,_0x2a130f);}),_0x277fe0['descriptionFactory']['registerElementLabel']('softBreak',_0x24d164=>c(_0xbdf25b['locale'],'ELEMENT_LINE_BREAK',_0x24d164));}}function je(_0x5ab4a0,{showActiveMarker:_0x12c2ad=!0x0}={}){return(_0x2df2e6,_0x7316a0,_0x59fb1c)=>{const _0x2184e3=_0x5ab4a0['plugins']['get']('TrackChangesEditing');if(!_0x59fb1c['consumable']['test'](_0x7316a0['markerRange'],_0x2df2e6['name']))return;const _0x52b39b=_0x5ab4a0['model'];for(const _0x323a47 of _0x7316a0['markerRange']['getItems']()){if(!_0x323a47['is']('element','softBreak'))continue;const _0x39af01='deletion'==_0x7316a0['markerName']['split'](':')[0x1]?'merge':'split',{authorId:_0x3fec8d}=_0x2184e3['_splitMarkerName'](_0x7316a0['markerName']),_0x1f15b0=_0x59fb1c['writer']['createUIElement']('span',{'class':'ck-suggestion-marker-'+_0x39af01,'data-author-id':_0x3fec8d}),_0x10eb99=_0x59fb1c['mapper']['toViewPosition'](_0x52b39b['createPositionBefore'](_0x323a47));_0x12c2ad&&_0x2184e3['activeMarkers']['includes'](_0x7316a0['markerName'])&&_0x59fb1c['writer']['addClass']('ck-suggestion-marker--active',_0x1f15b0),_0x59fb1c['writer']['insert'](_0x10eb99,_0x1f15b0),_0x59fb1c['mapper']['bindElementToMarker'](_0x1f15b0,_0x7316a0['markerName']);}};}class _t extends _0x2e402e{['afterInit'](){const _0x83785d=this['editor'],_0x303216=_0x83785d['model'],_0x1ba23d=_0x83785d['locale'];if(!_0x83785d['plugins']['has']('StandardEditingModeEditing'))return;const _0x318d6b=_0x83785d['plugins']['get']('TrackChangesEditing'),_0xf8bc55='restrictedEditingException',_0x2c4ed1=_0x83785d['commands']['get'](_0xf8bc55);_0x318d6b['enableCommand'](_0xf8bc55,(_0xd965f0,_0x22b2b8={})=>{const _0x1baad0=_0x303216['document']['selection'];if(_0x1baad0['isCollapsed'])return void _0xd965f0(_0x22b2b8);const _0x2bcf38=void 0x0!==_0x22b2b8['forceValue']?_0x22b2b8['forceValue']:!_0x2c4ed1['value'];_0x303216['change'](()=>{const _0x2ae15e=Array['from'](_0x1baad0['getRanges']());for(const _0x34463f of _0x2ae15e){const _0x546ad2=_0x2bcf38?[_0x34463f]:io(_0xf8bc55,_0x34463f,_0x303216);for(const _0x2db574 of _0x546ad2)_0x318d6b['markInlineFormat'](_0x2db574,{'commandName':_0xf8bc55,'commandParams':[{'forceValue':_0x2bcf38}]});}});}),_0x318d6b['descriptionFactory']['registerDescriptionCallback'](_0x4a3ab4=>{if('formatBlock'!=_0x4a3ab4['type']&&'formatInline'!=_0x4a3ab4['type'])return;const {data:_0x1e5be6}=_0x4a3ab4;return _0x1e5be6&&_0x1e5be6['commandName']==_0xf8bc55?_0x1e5be6['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x1ba23d,'FORMAT_RESTRICTED_ENABLED')}:{'type':'format','content':c(_0x1ba23d,'FORMAT_RESTRICTED_DISABLED')}:void 0x0;});}}class vt extends _0x2e402e{['afterInit'](){const _0x32f50e=this['editor'];if(!_0x32f50e['plugins']['has']('Style')||!_0x32f50e['plugins']['has']('DataSchema'))return;const _0x3cd221=_0x32f50e['plugins']['get']('TrackChangesEditing'),_0x23f601=_0x32f50e['locale'],_0x215c66=_0x32f50e['config']['get']('style')||{},_0x37f04f=_0x32f50e['plugins']['get']('GeneralHtmlSupport'),_0x12a7e7=_0x32f50e['plugins']['get']('StyleUtils')['normalizeConfig'](_0x32f50e['plugins']['get']('DataSchema'),_0x215c66['definitions']);_0x3cd221['enableDefaultAttributesIntegration']('style');const _0x4ae653=new Set();for(const _0x2f09bd of _0x12a7e7['block']){const _0x379f6c=_0x37f04f['getGhsAttributeNameForElement'](_0x2f09bd['element']);_0x4ae653['add'](_0x379f6c);}const _0x56466c=new Set();for(const _0x4c80f0 of _0x12a7e7['inline']){const _0x43d6c4=_0x37f04f['getGhsAttributeNameForElement'](_0x4c80f0['element']);_0x56466c['add'](_0x43d6c4);for(const _0x5ee7ee of _0x4c80f0['ghsAttributes'])_0x56466c['add'](_0x5ee7ee);}for(const _0x9f601c of _0x4ae653)_0x3cd221['registerBlockAttribute'](_0x9f601c),_0x3cd221['descriptionFactory']['registerAttributeLabel'](_0x9f601c,c(_0x23f601,'FORMAT_STYLE'));for(const _0x543101 of _0x56466c)_0x3cd221['registerInlineAttribute'](_0x543101),_0x3cd221['descriptionFactory']['registerAttributeLabel'](_0x543101,c(_0x23f601,'FORMAT_STYLE'));this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x11e536=this['editor'],_0x984d9c=_0x11e536['locale'];_0x11e536['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x99d206=>{if('formatBlock'!=_0x99d206['type']&&'formatInline'!=_0x99d206['type'])return;const {data:_0x4c446d}=_0x99d206;return _0x4c446d&&'style'===_0x4c446d['commandName']?_0x4c446d['commandParams'][0x0]['forceValue']?{'type':'format','content':c(_0x984d9c,'*Set\x20format:*\x20%0',_0x4c446d['commandParams'][0x0]['styleName']['toLowerCase']())}:{'type':'format','content':c(_0x984d9c,'*Remove\x20format:*\x20%0',_0x4c446d['commandParams'][0x0]['styleName']['toLowerCase']())}:void 0x0;});}}class Ct extends _0x2e402e{['_tablePostFixingSubtypes'];['_tableSuggestions'];constructor(_0x292bf2){super(_0x292bf2),this['_tablePostFixingSubtypes']=['tableRow','tableColumn'],this['_tableSuggestions']=new Set();}['afterInit'](){const _0x3fb9b3=this['editor'],_0x10cf9c=_0x3fb9b3['model']['document']['selection'];if(!_0x3fb9b3['plugins']['has']('TableEditing'))return;const _0x125b1e=_0x3fb9b3['locale'],_0xf89b76=_0x3fb9b3['plugins']['get']('TrackChangesEditing'),_0x131986=_0x3fb9b3['plugins']['get']('TableUtils');_0xf89b76['descriptionFactory']['registerElementLabel']('table',_0x16614d=>c(_0x125b1e,'ELEMENT_TABLE',_0x16614d)),this['_setupColumnsRowsFixing'](),_0xf89b76['enableCommand']('insertTable'),_0xf89b76['enableCommand']('selectTableRow'),_0xf89b76['enableCommand']('selectTableColumn');for(const _0x4e9b73 of['insertTableRowAbove','insertTableRowBelow']){const _0x2c4002=_0x3fb9b3['commands']['get'](_0x4e9b73);_0xf89b76['enableCommand'](_0x4e9b73,_0x19494e=>{_0x3fb9b3['model']['change'](_0x207451=>{_0x19494e();const _0x5adce5='above'===_0x2c4002['order'],_0x37ff9d=_0x131986['getSelectionAffectedTableCells'](_0x10cf9c),_0x3f6455=_0x131986['getRowIndexes'](_0x37ff9d),_0x95632d=_0x5adce5?_0x3f6455['first']-0x1:_0x3f6455['last']+0x1,_0x4bdd25=_0x37ff9d[0x0]['findAncestor']('table'),_0x5da5eb=_0x131986['createTableWalker'](_0x4bdd25,{'startRow':_0x95632d,'endRow':_0x95632d}),_0x5067ab=Array['from'](_0x5da5eb)['map'](_0x14b8ff=>_0x207451['createRangeOn'](_0x14b8ff['cell']));_0xf89b76['markMultiRangeInsertion'](_0x5067ab,'tableRow');});});}for(const _0x647f27 of['insertTableColumnLeft','insertTableColumnRight']){const _0x3c3db4=_0x3fb9b3['commands']['get'](_0x647f27);_0xf89b76['enableCommand'](_0x647f27,_0x54959d=>{_0x3fb9b3['model']['change'](_0x3727a3=>{_0x54959d();const _0x192574='left'===_0x3c3db4['order'],_0x2d37d4=_0x131986['getSelectionAffectedTableCells'](_0x10cf9c),_0x2950da=_0x131986['getColumnIndexes'](_0x2d37d4),_0x45439e=_0x192574?_0x2950da['first']-0x1:_0x2950da['last']+0x1,_0x3f5b73=_0x2d37d4[0x0]['findAncestor']('table'),_0x41a479=_0x131986['createTableWalker'](_0x3f5b73,{'startRow':0x0,'column':_0x45439e,'includeAllSlots':!0x1}),_0x270716=Array['from'](_0x41a479)['map'](_0x44782e=>_0x3727a3['createRangeOn'](_0x44782e['cell']));_0xf89b76['markMultiRangeInsertion'](_0x270716,'tableColumn');});});}for(const _0x1afc7b of['removeTableRow','removeTableColumn']){const _0xe82dab=_0x1afc7b['substr'](0xb),_0x339d49=_0xe82dab['toLowerCase'](),_0x43eaac=_0x339d49['substr'](0x0,0x3)+'span',_0x56fe3d='table'+_0xe82dab,_0xd7d5c2='min'+_0xe82dab,_0x4b05ef='max'+_0xe82dab;_0xf89b76['enableCommand'](_0x1afc7b,()=>{_0x3fb9b3['model']['change'](_0x343a84=>{const _0x2244c0=_0x131986['getSelectionAffectedTableCells'](_0x10cf9c),_0x4484d1=_0x2244c0[0x0]['findAncestor']('table');let _0x25b4ce;if('removeTableRow'==_0x1afc7b){const _0x3c9f64=_0x131986['getRowIndexes'](_0x2244c0);_0x25b4ce={'startRow':_0x3c9f64['first'],'endRow':_0x3c9f64['last'],'includeAllSlots':!0x0};}else{const _0x468e00=_0x131986['getColumnIndexes'](_0x2244c0);_0x25b4ce={'startColumn':_0x468e00['first'],'endColumn':_0x468e00['last'],'includeAllSlots':!0x0};}const _0x3cfbf6=_0x131986['createTableWalker'](_0x4484d1,_0x25b4ce),_0x9a9136=Array['from'](_0x3cfbf6)['map'](({cell:_0x4405a2})=>_0x4405a2),_0x546fa1=Ne(_0x9a9136['filter'](_0x2651dd=>_0x2651dd['hasAttribute'](_0x43eaac))),_0xb4aecb=Ne(_0x9a9136['filter'](_0x3b2a38=>!_0x3b2a38['hasAttribute'](_0x43eaac)))['map'](_0x1f57cd=>_0x343a84['createRangeOn'](_0x1f57cd)),_0x2878d5=_0xf89b76['markMultiRangeDeletion'](_0xb4aecb,_0x56fe3d);if(_0x2878d5&&('tableRow'==_0x2878d5['subType']||'tableColumn'==_0x2878d5['subType'])){const _0x1fcfde=this['_getSuggestionCoords'](_0x2878d5);for(const _0x166ce5 of _0x546fa1){const _0x2e5edf=_0x343a84['createRangeOn'](_0x166ce5),_0x34ee88=_0x131986['getCellLocation'](_0x166ce5),_0x188131=_0x166ce5['getAttribute'](_0x43eaac)-0x1,_0x202ac6=_0x1fcfde[_0xd7d5c2],_0x59eea7=_0x1fcfde[_0x4b05ef];_0x202ac6<=_0x34ee88[_0x339d49]&&_0x34ee88[_0x339d49]+_0x188131<=_0x59eea7&&_0x2878d5['addRange'](_0x2e5edf);}}});});}function _0x51c0a0(_0x25a46e){const _0x6f6156=Array['from'](_0x10cf9c['getRanges']())['map'](_0x5cdf0c=>_0x29cc96['fromRange'](_0x5cdf0c));_0x3fb9b3['model']['change'](_0x3307b1=>{const _0x92114c=_0x3307b1['batch'];_0x25a46e=_0x25a46e['filter'](_0x274c7e=>'$graveyard'!=_0x274c7e['root']['rootName']),_0x3307b1['setSelection'](_0x25a46e),_0x3fb9b3['commands']['get']('removeTableRow')['refresh'](),_0x3fb9b3['execute']('removeTableRow',{'forceDefaultExecution':!0x0}),_0x3fb9b3['model']['enqueueChange'](()=>{_0x3fb9b3['model']['enqueueChange'](_0x92114c,_0xa0eff2=>{const _0x2225ca=_0x6f6156['filter'](_0x44c5b0=>'$graveyard'!=_0x44c5b0['root']['rootName']);_0x2225ca['length']>0x0&&_0xa0eff2['setSelection'](_0x2225ca);for(const _0x854d05 of _0x6f6156)_0x854d05['detach']();});});});}function _0x4988ce(_0x301ac6){_0x3fb9b3['model']['change'](_0x3151fa=>{const _0x406af0=Array['from'](_0x10cf9c['getRanges']())['map'](_0x40c354=>_0x29cc96['fromRange'](_0x40c354)),_0x5bfddf=[];for(const _0x39fb53 of _0x301ac6)for(const _0x6b5038 of _0x39fb53['getItems']({'shallow':!0x0}))_0x5bfddf['push'](_0x6b5038);for(const _0x293e4f of _0x5bfddf)'$graveyard'!=_0x293e4f['root']['rootName']&&(_0x3151fa['setSelection'](_0x3151fa['createPositionAt'](_0x293e4f,0x0)),_0x3fb9b3['commands']['get']('removeTableColumn')['refresh'](),_0x3fb9b3['execute']('removeTableColumn',{'forceDefaultExecution':!0x0}));const _0x563eb5=_0x406af0['filter'](_0x1ccb1e=>'$graveyard'!=_0x1ccb1e['root']['rootName']);_0x563eb5['length']>0x0&&_0x3151fa['setSelection'](_0x563eb5);for(const _0x2e313b of _0x406af0)_0x2e313b['detach']();});}function _0x439726(_0x61c072,_0x2a368e){return _0x2a368e['every'](_0x412138=>_0x61c072['some'](_0xe7d516=>_0xe7d516['end']['isEqual'](_0x412138['start'])||_0x412138['end']['isEqual'](_0xe7d516['start'])));}function _0x5a56f1(_0x1bda6f,_0x19a333){return!_0x1bda6f['some'](_0x29cf74=>_0x19a333['some'](_0x343239=>_0x29cf74['isIntersecting'](_0x343239)))&&_0x1bda6f['some'](_0x1dde27=>_0x19a333['some'](_0x498d27=>_0x1dde27['end']['isTouching'](_0x498d27['start'])));}_0x3fb9b3['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x3c9372,_0x1ef306,_0x18a46c)=>{if(!_0x18a46c['options']['showSuggestionHighlights'])return;const _0x2b4c6c=_0x1ef306['item'];if(!_0x2b4c6c)return;const _0x1da5fb=_0x18a46c['mapper']['toViewElement'](_0x2b4c6c);function _0x5e7344(_0x3c85f2){return Array['isArray'](_0x3c85f2)?_0x3c85f2:[_0x3c85f2];}_0x1da5fb&&'tableCell'===_0x2b4c6c['name']&&_0x468aeb(_0x1da5fb,_0x18a46c['writer'],(_0x288d3c,_0x3dd013,_0x424d99)=>_0x424d99['addClass'](_0x5e7344(_0x3dd013['classes']),_0x288d3c),(_0x2dd8f5,_0x44479d,_0x5092d4)=>_0x5092d4['removeClass'](_0x5e7344(_0x44479d['classes']),_0x2dd8f5));},{'priority':'highest'}),_0xf89b76['descriptionFactory']['registerDescriptionCallback'](_0x29e8ee=>{if('insertion'!=_0x29e8ee['type']&&'deletion'!=_0x29e8ee['type'])return;const _0x33456a=_0x29e8ee['getContainedElement']();if(null!=_0x33456a&&_0x33456a['is']('element','table')){if('insertion'==_0x29e8ee['type']){const _0x35fe0a=_0x29e8ee['getItems']()['filter'](_0x2957ba=>_0x2957ba['is']('$textProxy'))['map'](_0x5a0555=>_0x5a0555['data']);if(_0x35fe0a['length'])return{'type':'insertion','content':c(_0x125b1e,'*Insert:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x35fe0a['join']('\x20')+'\x22'))};}if('deletion'==_0x29e8ee['type']){const _0x1b4cb8=_0x29e8ee['getItems']()['filter'](_0x1f2911=>_0x1f2911['is']('$textProxy'))['map'](_0x1aaf2c=>_0x1aaf2c['data']);if(_0x1b4cb8['length'])return{'type':'deletion','content':c(_0x125b1e,'*Remove:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_WITH_TEXT','\x22'+_0x1b4cb8['join']('\x20')+'\x22'))};}}}),_0xf89b76['descriptionFactory']['registerDescriptionCallback'](_0x46342b=>{if('tableRow'==_0x46342b['subType']){const _0x3fb803=_0x46342b['getItems']()['filter'](_0x11bd60=>_0x11bd60['is']('$textProxy'))['map'](_0x1f1be5=>_0x1f1be5['data']),_0x4daa37=this['_getSuggestionCoords'](_0x46342b),_0x50ea29=_0x4daa37['maxRow']-_0x4daa37['minRow']+0x1;if('insertion'==_0x46342b['type'])return _0x3fb803['length']?{'type':'insertion','content':c(_0x125b1e,'*Insert:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x50ea29,'\x22'+_0x3fb803['join']('\x20')+'\x22']))}:{'type':'insertion','content':c(_0x125b1e,'*Insert:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_ROW',_0x50ea29))};if('deletion'==_0x46342b['type'])return _0x3fb803['length']?{'type':'deletion','content':c(_0x125b1e,'*Remove:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_ROW_WITH_TEXT',[_0x50ea29,'\x22'+_0x3fb803['join']('\x20')+'\x22']))}:{'type':'deletion','content':c(_0x125b1e,'*Remove:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_ROW',_0x50ea29))};}if('tableColumn'==_0x46342b['subType']){const _0x1a8b49=_0x46342b['getItems']()['filter'](_0x13d204=>_0x13d204['is']('$textProxy'))['map'](_0x47a056=>_0x47a056['data']),_0x5daf9c=this['_getSuggestionCoords'](_0x46342b),_0x17ad6e=_0x5daf9c['maxColumn']-_0x5daf9c['minColumn']+0x1;if('insertion'==_0x46342b['type'])return _0x1a8b49['length']?{'type':'insertion','content':c(_0x125b1e,'*Insert:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x17ad6e,'\x22'+_0x1a8b49['join']('\x20')+'\x22']))}:{'type':'insertion','content':c(_0x125b1e,'*Insert:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_COLUMN',_0x17ad6e))};if('deletion'==_0x46342b['type'])return _0x1a8b49['length']?{'type':'deletion','content':c(_0x125b1e,'*Remove:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_COLUMN_WITH_TEXT',[_0x17ad6e,'\x22'+_0x1a8b49['join']('\x20')+'\x22']))}:{'type':'deletion','content':c(_0x125b1e,'*Remove:*\x20%0',c(_0x125b1e,'ELEMENT_TABLE_COLUMN',_0x17ad6e))};}}),_0xf89b76['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','discard',_0x51c0a0),_0xf89b76['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','accept',_0x51c0a0),_0xf89b76['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','discard',_0x4988ce),_0xf89b76['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','accept',_0x4988ce),_0xf89b76['_suggestionFactory']['registerCustomCallback']('insertion','tableColumn','join',_0x439726),_0xf89b76['_suggestionFactory']['registerCustomCallback']('deletion','tableColumn','join',_0x439726),_0xf89b76['_suggestionFactory']['registerCustomCallback']('insertion','tableRow','join',_0x5a56f1),_0xf89b76['_suggestionFactory']['registerCustomCallback']('deletion','tableRow','join',_0x5a56f1);}['_acceptFormatSuggestionCallbackFactory'](){const _0x416867=this['editor'],_0x332ebf=_0x416867['model']['document']['selection'];return(_0x30c74d,_0x2b490d)=>{_0x416867['model']['change'](_0x3dda38=>{const {commandName:_0x1e27e8,commandParams:_0x3ed3df}=_0x2b490d;let _0x2d3773=_0x30c74d[0x0]['end']['nodeBefore'];_0x3ed3df&&_0x3ed3df[0x0]&&!0x1===_0x3ed3df[0x0]['forceValue']&&(_0x2d3773=_0x30c74d[0x0]['start']['nodeAfter']);const _0x495764=_0x3dda38['createRangeIn'](_0x2d3773);if('$graveyard'==_0x495764['root']['rootName'])return;const _0x1c4679=Array['from'](_0x332ebf['getRanges']())['map'](_0x393dbf=>_0x29cc96['fromRange'](_0x393dbf));_0x3dda38['setSelection'](_0x495764),_0x416867['commands']['get'](_0x1e27e8)['refresh'](),_0x3ed3df['push']({'forceDefaultExecution':!0x0}),_0x416867['execute'](_0x1e27e8,..._0x3ed3df);const _0x33e2b9=_0x1c4679['filter'](_0x5a7c74=>'$graveyard'!=_0x5a7c74['root']['rootName']);_0x33e2b9['length']>0x0&&_0x3dda38['setSelection'](_0x33e2b9);for(const _0x4102ad of _0x1c4679)_0x4102ad['detach']();});};}['_getCoordsForCells'](_0x49f69a){const _0x1f2d0c=this['editor']['plugins']['get']('TableUtils');let _0x511e0e=Number['MAX_SAFE_INTEGER'],_0x448fb3=Number['MIN_SAFE_INTEGER'],_0x244067=Number['MAX_SAFE_INTEGER'],_0x49f407=Number['MIN_SAFE_INTEGER'];for(const _0x5df9e0 of _0x49f69a){if('$graveyard'==_0x5df9e0['root']['rootName'])continue;const {row:_0x340e39,column:_0x565dd3}=_0x1f2d0c['getCellLocation'](_0x5df9e0),_0x1092ad=_0x5df9e0['hasAttribute']('rowspan')?_0x5df9e0['getAttribute']('rowspan')-0x1:0x0,_0x6260ff=_0x5df9e0['hasAttribute']('colspan')?_0x5df9e0['getAttribute']('colspan')-0x1:0x0;_0x511e0e=_0x340e39<_0x511e0e?_0x340e39:_0x511e0e,_0x448fb3=_0x340e39+_0x1092ad>_0x448fb3?_0x340e39+_0x1092ad:_0x448fb3,_0x244067=_0x565dd3<_0x244067?_0x565dd3:_0x244067,_0x49f407=_0x565dd3+_0x6260ff>_0x49f407?_0x565dd3+_0x6260ff:_0x49f407;}return{'minRow':_0x511e0e,'maxRow':_0x448fb3,'minColumn':_0x244067,'maxColumn':_0x49f407};}['_setupColumnsRowsFixing'](){const _0x360ca7=this['editor'],_0x3f6e0c=_0x360ca7['plugins']['get']('TrackChangesEditing'),_0x3e00c1=_0x360ca7['plugins']['get']('TableUtils');_0x360ca7['model']['document']['on']('change:data',()=>{const _0xa975f9=Array['from'](_0x360ca7['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x4f3b31,data:_0x5ed2bf}of _0xa975f9){const {group:_0x4d0d21,id:_0x10b99e,subType:_0x5c35f8}=_0x3f6e0c['_splitMarkerName'](_0x4f3b31);if('suggestion'!=_0x4d0d21)continue;if(null!=_0x5ed2bf['oldRange'])continue;const _0x52ef8d=_0x3f6e0c['getSuggestion'](_0x10b99e);this['_tablePostFixingSubtypes']['includes'](_0x5c35f8)&&this['_tableSuggestions']['add'](_0x52ef8d);}},{'priority':'low'});const _0x21cfad=(_0x2b3536,_0x4c9e8e)=>{let _0x286a45=!0x1;const _0x395bd1=_0x4c9e8e['createRangeOn'](_0x2b3536),_0x2906b3=_0x2b3536['findAncestor']('table'),_0xd411ae=_0x3e00c1['getCellLocation'](_0x2b3536);for(const _0x43501a of this['_tableSuggestions']){const _0x3d7edc=_0x43501a['subType'],_0x63088e=_0x3d7edc['startsWith']('tablePaste'),_0x3d8c16=_0x3d7edc['substr'](_0x63088e?0xa:0x5),_0x3cf8e5=_0x3d8c16['toLowerCase'](),_0x4d6ca3=_0x3cf8e5['substr'](0x0,0x3)+'span',_0x3deb64='min'+_0x3d8c16,_0x14d286='max'+_0x3d8c16;if(!_0x43501a['isInContent'])continue;if(_0x2906b3!=_0x43501a['getFirstRange']()['start']['findAncestor']('table'))continue;if(_0x43501a['isIntersectingWithRange'](_0x395bd1))continue;const _0x36951f=_0x2b3536['hasAttribute'](_0x4d6ca3)?_0x2b3536['getAttribute'](_0x4d6ca3)-0x1:0x0,_0x4528f7=this['_getSuggestionCoords'](_0x43501a),_0x355561=_0x4528f7[_0x3deb64],_0x154397=_0x4528f7[_0x14d286];_0x355561<=_0xd411ae[_0x3cf8e5]&&_0xd411ae[_0x3cf8e5]+_0x36951f<=_0x154397&&(_0x43501a['addRange'](_0x395bd1),_0x286a45=!0x0);}return _0x286a45;};_0x360ca7['model']['document']['registerPostFixer'](_0x2f11ea=>{let _0x334d92=!0x1;for(const _0x4eea79 of _0x360ca7['model']['document']['differ']['getChanges']())if('insert'==_0x4eea79['type']){if('tableRow'==_0x4eea79['name']){for(const _0x25262b of _0x4eea79['position']['nodeAfter']['getChildren']())_0x334d92=_0x334d92||_0x21cfad(_0x25262b,_0x2f11ea);}else'tableCell'==_0x4eea79['name']&&(_0x334d92=_0x334d92||_0x21cfad(_0x4eea79['position']['nodeAfter'],_0x2f11ea));}return _0x334d92;});}['_getSuggestionCoords'](_0x426f87){return this['_getCoordsForCells'](_0x426f87['getRanges']()['map'](_0x3034f0=>_0x3034f0['start']['nodeAfter']));}}function Ne(_0x35c062){return Array['from'](new Set(_0x35c062)['values']());}class Nt extends _0x2e402e{static get['requires'](){return[Ct];}['afterInit'](){const _0x571d16=this['editor'],_0x5e40e3=_0x571d16['model']['document']['selection'],_0x232bc8=_0x571d16['locale'];if(!_0x571d16['plugins']['has']('TableEditing'))return;const _0xe7ede3=_0x571d16['plugins']['get']('TrackChangesEditing'),_0x4e866b=_0x571d16['plugins']['get']('TableUtils'),_0x3ceee9=_0x571d16['plugins']['get'](Ct);_0x3ceee9['_tablePostFixingSubtypes']['push']('mergeTableCells'),_0xe7ede3['enableCommand']('mergeTableCells',()=>{const _0x112dd1=_0x4e866b['getSelectionAffectedTableCells'](_0x571d16['model']['document']['selection']);_0x571d16['model']['change'](()=>{_0xe7ede3['markMultiRangeBlockFormat'](_0x112dd1,{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});}),_0x571d16['commands']['get']('mergeTableCells')['on']('execute',(_0x5a1b4a,_0xa51e9)=>{_0x571d16['commands']['get']('trackChanges')['value']&&(_0xa51e9['length']>0x0&&_0xa51e9[_0xa51e9['length']-0x1]&&_0xa51e9[_0xa51e9['length']-0x1]['forceDefaultExecution']||_0xe7ede3['_isForcedDefaultExecutionBlock']||this['_areSelectedCellsMergable']()||_0x5a1b4a['stop']());},{'priority':'highest'});for(const _0x266abb of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft']){const _0x218b70=_0x571d16['commands']['get'](_0x266abb);_0xe7ede3['enableCommand'](_0x266abb,()=>{const _0x3e2492=_0x571d16['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x14966f=>_0x14966f['is']('element','tableCell')),_0x2b6e8a=_0x218b70['value'];_0x571d16['model']['change'](()=>{_0xe7ede3['markMultiRangeBlockFormat']([_0x3e2492,_0x2b6e8a],{'commandName':'mergeTableCells','commandParams':[]},[],'mergeTableCells');});});}for(const _0x5e5f3c of['splitTableCellVertically','splitTableCellHorizontally']){const _0x59d36b=_0x571d16['commands']['get'](_0x5e5f3c);_0xe7ede3['enableCommand'](_0x5e5f3c,()=>{const _0x5150d8=_0x4e866b['getSelectionAffectedTableCells'](_0x571d16['model']['document']['selection'])[0x0],_0x433c70=_0x5150d8['findAncestor']('table'),{column:_0x11bb5f,row:_0x3b883f}=_0x4e866b['getCellLocation'](_0x5150d8);let _0x464586=[];if('horizontally'==_0x59d36b['direction']){const _0x51e2a7=_0x4e866b['createTableWalker'](_0x433c70,{'startRow':_0x3b883f,'endRow':_0x3b883f,'includeAllSlots':!0x0});_0x464586=Array['from'](_0x51e2a7)['map'](_0x2ab8d6=>_0x2ab8d6['cell']);}else{const _0x32a396=_0x4e866b['createTableWalker'](_0x433c70,{'column':_0x11bb5f,'includeAllSlots':!0x0});_0x464586=Array['from'](_0x32a396)['map'](_0x2c7960=>_0x2c7960['cell']);}_0x571d16['model']['change'](_0xaee2c9=>{_0xe7ede3['markBlockFormat'](_0xaee2c9['createRangeOn'](_0x5150d8),{'commandName':_0x5e5f3c,'commandParams':[]},_0x464586,_0x5e5f3c);});});}_0xe7ede3['descriptionFactory']['registerDescriptionCallback'](_0x2d3b06=>{if('formatBlock'!=_0x2d3b06['type']&&'formatInline'!=_0x2d3b06['type'])return;const {data:_0x160ccd}=_0x2d3b06;return _0x160ccd&&'mergeTableCells'==_0x160ccd['commandName']?{'type':'format','content':c(_0x232bc8,'*Merge\x20cells*')}:void 0x0;}),_0xe7ede3['descriptionFactory']['registerDescriptionCallback'](_0x1789b9=>{if('formatBlock'!=_0x1789b9['type']&&'formatInline'!=_0x1789b9['type'])return;const {data:_0x59ef33}=_0x1789b9;return _0x59ef33?'splitTableCellVertically'==_0x59ef33['commandName']?{'type':'format','content':c(_0x232bc8,'*Split\x20cell:*\x20vertically')}:'splitTableCellHorizontally'==_0x59ef33['commandName']?{'type':'format','content':c(_0x232bc8,'*Split\x20cell:*\x20horizontally')}:void 0x0:void 0x0;});const _0x46aa94=_0x3ceee9['_acceptFormatSuggestionCallbackFactory']();for(const _0x1845fd of['mergeTableCellUp','mergeTableCellRight','mergeTableCellDown','mergeTableCellLeft'])_0xe7ede3['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x1845fd,'accept',_0x46aa94);for(const _0x3e3f9a of['splitTableCellVertically','splitTableCellHorizontally'])_0xe7ede3['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x3e3f9a,'accept',_0x46aa94);_0xe7ede3['_suggestionFactory']['registerCustomCallback']('formatBlock','mergeTableCells','accept',_0x321955=>{_0x571d16['model']['change'](_0x354eb8=>{const _0x139352=Array['from'](_0x5e40e3['getRanges']())['map'](_0x3fd495=>_0x29cc96['fromRange'](_0x3fd495));_0x354eb8['setSelection'](_0x321955),_0x571d16['commands']['get']('mergeTableCells')['refresh'](),_0x571d16['execute']('mergeTableCells',{'forceDefaultExecution':!0x0});const _0x469fb8=_0x139352['filter'](_0x313c55=>'$graveyard'!=_0x313c55['root']['rootName']);_0x469fb8['length']>0x0&&_0x354eb8['setSelection'](_0x469fb8);for(const _0x795126 of _0x139352)_0x795126['detach']();});});for(const _0x4dda32 of['mergeTableCellUp','mergeTableCellDown','mergeTableCellLeft','mergeTableCellRight']){const _0xf83b65=_0x571d16['commands']['get'](_0x4dda32);_0xf83b65['on']('set:isEnabled',(_0x4297ef,_0xecbc49,_0x5b7e0b)=>{if(_0x5b7e0b){const _0x48d09d=_0x571d16['model']['document']['selection']['getFirstPosition']()['getAncestors']()['find'](_0x7d1ffc=>_0x7d1ffc['is']('element','tableCell'));this['_areMergableCells'](_0xf83b65['value'],_0x48d09d)||(_0x4297ef['return']=!0x1,_0x4297ef['stop']());}},{'priority':'low'});}}['_areSelectedCellsMergable'](){const _0x9337d9=this['editor']['commands']['get']('mergeTableCells'),_0x1c8b29=this['editor']['plugins']['get']('TableUtils');if(!_0x9337d9['isEnabled'])return!0x1;const _0x301799=_0x1c8b29['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);for(const _0x1aba43 of _0x301799)for(const _0x197445 of _0x301799)if(_0x1aba43!=_0x197445&&!this['_areMergableCells'](_0x1aba43,_0x197445))return!0x1;return!0x0;}['_areMergableCells'](_0x53127a,_0x19f27e){const _0x37b309=this['editor']['plugins']['get']('TrackChangesEditing'),_0x3b023c=this['editor']['model']['createRangeOn'](_0x53127a),_0x857feb=this['editor']['model']['createRangeOn'](_0x19f27e),_0x5b740b=new Set(),_0x353146=new Set();for(const _0x218645 of _0x37b309['getSuggestions']())if(('insertion'==_0x218645['type']||'deletion'==_0x218645['type']||'mergeTableCells'==_0x218645['subType'])&&_0x218645['isInContent']){for(const _0x44eee4 of _0x218645['getRanges']())_0x44eee4['containsRange'](_0x3b023c,!0x0)&&_0x5b740b['add'](_0x218645['type']+':'+_0x218645['author']['id']),_0x44eee4['containsRange'](_0x857feb,!0x0)&&_0x353146['add'](_0x218645['type']+':'+_0x218645['author']['id']);}if(_0x5b740b['size']!=_0x353146['size'])return!0x1;for(const _0x51ffee of _0x5b740b)if(!_0x353146['has'](_0x51ffee))return!0x1;return!0x0;}}class Dt extends _0x2e402e{static get['requires'](){return[Ct];}['afterInit'](){const _0x26659b=this['editor'];if(!_0x26659b['plugins']['has']('TableEditing'))return;const _0xf76b5c=_0x26659b['locale'],_0x396065=_0x26659b['plugins']['get']('TrackChangesEditing');_0x396065['enableDefaultAttributesIntegration']('setTableRowHeader'),_0x396065['enableDefaultAttributesIntegration']('setTableColumnHeader'),_0x396065['registerBlockAttribute']('headingRows'),_0x396065['registerBlockAttribute']('headingColumns'),_0x396065['descriptionFactory']['registerAttributeLabel']('headingRows',c(_0xf76b5c,'FORMAT_HEADER_ROW')),_0x396065['descriptionFactory']['registerAttributeLabel']('headingColumns',c(_0xf76b5c,'FORMAT_HEADER_COLUMN')),this['_handleLegacySuggestions']();}['_handleLegacySuggestions'](){const _0x58e602=this['editor']['plugins']['get']('TrackChangesEditing'),_0x2e8b27=this['editor']['plugins']['get']('TableUtils'),_0x51e71d=this['editor']['plugins']['get'](Ct)['_acceptFormatSuggestionCallbackFactory']();function _0x370184({showActiveMarker:_0x59d315=!0x0,setDataAttribute:_0x272ae5=!0x0}={}){return(_0x64fcb5,_0x17d757,_0x535280)=>{const {type:_0x57821c,id:_0xeb3ba1}=_0x58e602['_splitMarkerName'](_0x17d757['markerName']),_0x3d08b5=_0x58e602['getSuggestion'](_0xeb3ba1),_0x10bf53=_0x3d08b5['data'];if('formatBlock'!=_0x3d08b5['type']||!_0x10bf53||'setTableColumnHeader'!=_0x10bf53['commandName'])return;if(_0x17d757['item'])return void _0x64fcb5['stop']();if(!_0x535280['consumable']['consume'](_0x17d757['markerRange'],_0x64fcb5['name']))return;const _0x46aa79=_0x17d757['markerRange']['start']['nodeAfter'],_0x1c5999=_0x17d757['markerRange']['end']['nodeBefore'],_0x1ace5a=_0x46aa79['parent']['parent'],{column:_0x4910e7}=_0x2e8b27['getCellLocation'](_0x46aa79),{column:_0x2186c2}=_0x2e8b27['getCellLocation'](_0x1c5999);for(let _0x16dfd4=_0x4910e7;_0x16dfd4<=_0x2186c2;_0x16dfd4++){const _0x365659=_0x2e8b27['createTableWalker'](_0x1ace5a,{'column':_0x16dfd4,'includeAllSlots':!0x1});for(const _0x2b677e of _0x365659){const _0xe4af04=_0x2b677e['cell'],_0xa1164a=_0x535280['mapper']['toViewElement'](_0xe4af04);_0x535280['writer']['addClass']('ck-suggestion-marker-'+_0x57821c,_0xa1164a),_0x272ae5&&_0x535280['writer']['setAttribute']('data-suggestion',_0xeb3ba1,_0xa1164a),_0x535280['mapper']['bindElementToMarker'](_0xa1164a,_0x17d757['markerName']),_0x59d315&&(_0x58e602['activeMarkers']['includes'](_0x17d757['markerName'])?_0x535280['writer']['addClass']('ck-suggestion-marker--active',_0xa1164a):_0x535280['writer']['removeClass']('ck-suggestion-marker--active',_0xa1164a));}}};}_0x58e602['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableRowHeader','accept',_0x51e71d),_0x58e602['_suggestionFactory']['registerCustomCallback']('formatBlock','setTableColumnHeader','accept',_0x51e71d),this['editor']['editing']['downcastDispatcher']['on']('addMarker:suggestion',_0x370184(),{'priority':'highest'}),this['editor']['data']['downcastDispatcher']['on']('addMarker:suggestion',(_0x4d0f62,_0x331d0f,_0x4dd492)=>{_0x4dd492['options']['showSuggestionHighlights']&&_0x370184({'showActiveMarker':!0x1,'setDataAttribute':!0x1})(_0x4d0f62,_0x331d0f,_0x4dd492);},{'priority':'highest'}),this['editor']['editing']['downcastDispatcher']['on']('removeMarker:suggestion',(_0x15c229,_0x2a3468,_0x2be224)=>{const {type:_0x3b6e12,id:_0x4305fa}=_0x58e602['_splitMarkerName'](_0x2a3468['markerName']),_0x1b1dbb=_0x58e602['getSuggestion'](_0x4305fa),_0x25fadd=_0x1b1dbb['data'];if('formatBlock'!=_0x1b1dbb['type']||!_0x25fadd||'setTableColumnHeader'!=_0x25fadd['commandName'])return;const _0x128be2=_0x2be224['mapper']['markerNameToElements'](_0x2a3468['markerName']);if(_0x128be2){for(const _0x509aab of _0x128be2)_0x2be224['writer']['removeClass']('ck-suggestion-marker-'+_0x3b6e12,_0x509aab),_0x2be224['writer']['removeClass']('ck-suggestion-marker--active',_0x509aab),_0x2be224['writer']['removeAttribute']('data-suggestion',_0x509aab),_0x2be224['mapper']['unbindElementFromMarkerName'](_0x509aab,_0x2a3468['markerName']);}},{'priority':'highest'}),this['_registerLegacyDescription']();}['_registerLegacyDescription'](){const _0x5b5c27=this['editor'],_0x216f85=_0x5b5c27['locale'];function _0x176aa4(_0x5db118){return{'type':'format','content':c(_0x216f85,'*Format:*\x20%0',_0x5db118)};}_0x5b5c27['plugins']['get']('TrackChangesEditing')['descriptionFactory']['registerDescriptionCallback'](_0x431f80=>{if('formatBlock'!=_0x431f80['type'])return;const {data:_0x570887}=_0x431f80;if(_0x570887){if('setTableRowHeader'==_0x570887['commandName']){const _0x103f2f=_0x570887['commandParams'][0x0]['forceValue'];return _0x176aa4(c(_0x216f85,_0x103f2f?'FORMAT_HEADER_ROW':'FORMAT_REGULAR_ROW'));}if('setTableColumnHeader'==_0x570887['commandName']){const _0x4684ea=_0x570887['commandParams'][0x0]['forceValue'];return _0x176aa4(c(_0x216f85,_0x4684ea?'FORMAT_HEADER_COLUMN':'FORMAT_REGULAR_COLUMN'));}}});}}class Ye extends _0x2e402e{['afterInit'](){const _0x5a970a=this['editor'],_0xa0bbcf=_0x5a970a['locale'],_0x5be220=_0x5a970a['plugins']['get']('TrackChangesEditing');function _0x3df2d3(_0x390430){return{'type':'format','content':''+c(_0xa0bbcf,'*Set\x20table\x20type:*\x20%0',_0x390430)};}_0x5a970a['plugins']['has']('TableLayout')&&(_0x5be220['enableCommand']('insertTableLayout'),_0x5be220['enableDefaultAttributesIntegration']('tableType'),_0x5be220['registerBlockAttribute']('tableType'),_0x5be220['descriptionFactory']['registerElementLabel'](_0x35d17d=>_0x35d17d['is']('element','table')&&'layout'===_0x35d17d['getAttribute']('tableType'),_0x466d43=>c(_0xa0bbcf,'ELEMENT_LAYOUT_TABLE',_0x466d43)),_0x5be220['descriptionFactory']['registerDescriptionCallback'](_0x5dcb9f=>{const {data:_0x55bed9}=_0x5dcb9f;if(_0x55bed9&&'tableType'==_0x55bed9['key'])switch(_0x55bed9['newValue']){case'layout':return _0x3df2d3(c(_0xa0bbcf,'ELEMENT_LAYOUT_TABLE'));case'content':return _0x3df2d3(c(_0xa0bbcf,'ELEMENT_CONTENT_TABLE'));}}));}}const xe=['tableCellBorderWidth','tableCellBorderColor','tableCellBorderStyle','tableCellHorizontalAlignment','tableCellVerticalAlignment','tableCellBackgroundColor','tableCellPadding'],Oe=Object['fromEntries'](xe['map'](_0x269521=>[_0x269521,null]));class $t extends _0x2e402e{static get['requires'](){return[Ct];}['afterInit'](){const _0x34a8e7=this['editor'];if(!_0x34a8e7['plugins']['has']('TableClipboard'))return;const _0x119542=_0x34a8e7['plugins']['get']('TrackChangesEditing'),_0x2ad11b=_0x34a8e7['plugins']['get']('TableUtils'),_0x55f67c=_0x34a8e7['plugins']['get'](Ct),_0x53eb2a=_0x34a8e7['plugins']['get']('TableClipboard'),_0x301fad=_0x34a8e7['plugins']['get']('TableSelection'),_0x4d7b5e=_0x34a8e7['plugins']['get'](_0x2cf5b4);_0x55f67c['_tablePostFixingSubtypes']['push']('tablePasteRow','tablePasteColumn'),_0x34a8e7['model']['schema']['register']('tableCellSuggestion',{'allowIn':'tableCell','allowContentOf':'tableCell','isLimit':!0x0}),_0x34a8e7['conversion']['elementToElement']({'model':'tableCellSuggestion','view':'suggestion-td'});let _0x348843=null,_0x3cfe2f=!0x1;_0x4d7b5e['on']('contentInsertion',(_0xe8f0f3,_0x4ae484)=>{_0x3cfe2f='paste'===_0x4ae484['method'];}),_0x34a8e7['model']['on']('insertContent',(_0x37de74,_0x3563c2)=>{if(!_0x3cfe2f&&null===_0x301fad['getSelectedTableCells']())return;const [_0x24bd53,_0x21140c]=_0x3563c2,_0x4e8624=_0x3563c2[_0x3563c2['length']-0x1];_0x4e8624&&_0x4e8624['forceDefaultExecution']||_0x119542['_isForcedDefaultExecutionBlock']||this['editor']['commands']['get']('trackChanges')['value']&&function(_0x5d079e,_0x158ad7,_0x41085d,_0x45178d,_0x41fb12){if(_0x158ad7&&!_0x158ad7['is']('documentSelection'))return!0x1;const _0x53de13=_0x41fb12['getTableIfOnlyTableInContent'](_0x5d079e,_0x41085d);if(!_0x53de13||!De(_0x53de13,void 0x0,_0x45178d))return!0x1;const _0x82cb70=_0x45178d['getSelectionAffectedTableCells'](_0x41085d['document']['selection']);if(!_0x82cb70['length'])return!0x1;const _0x3e2aea=_0x82cb70[0x0]['findAncestor']('table'),_0x2e8455=_0x45178d['getRowIndexes'](_0x82cb70),_0x551226=_0x45178d['getColumnIndexes'](_0x82cb70),_0x44e7c6={'startRow':_0x2e8455['first'],'endRow':_0x2e8455['last'],'startColumn':_0x551226['first'],'endColumn':_0x551226['last']};return 0x1==_0x82cb70['length']&&(_0x44e7c6['endRow']+=_0x45178d['getRows'](_0x53de13)-0x1,_0x44e7c6['endColumn']+=_0x45178d['getColumns'](_0x53de13)-0x1),De(_0x3e2aea,_0x44e7c6,_0x45178d);}(_0x24bd53,_0x21140c,_0x34a8e7['model'],_0x2ad11b,_0x53eb2a)&&(_0x37de74['stop'](),_0x348843={'cells':[],'insertionRanges':[],'deletionRanges':[],'rowInsertionRanges':[],'rowInsertionIndexes':[],'columnInsertionRanges':[],'columnInsertionIndexes':[]},_0x34a8e7['model']['change'](()=>{_0x34a8e7['model']['insertContent'](_0x3563c2[0x0],_0x3563c2[0x1],_0x3563c2[0x2],{'forceDefaultExecution':!0x0});const _0x5cfdc0=_0x35a597(),{rowInsertionRanges:_0xd75140,columnInsertionRanges:_0x50157c,insertionRanges:_0x10e5be,deletionRanges:_0x2f2713,cells:_0x228b8e}=_0x348843;_0xd75140['length']&&_0x119542['markMultiRangeInsertion'](_0xd75140,'tablePasteRow',{'tablePasteChainId':_0x5cfdc0}),_0x50157c['length']&&_0x119542['markMultiRangeInsertion'](_0x50157c,'tablePasteColumn',{'tablePasteChainId':_0x5cfdc0}),_0x10e5be['length']&&(_0x119542['markMultiRangeInsertion'](_0x10e5be,'tablePaste',{'tablePasteChainId':_0x5cfdc0,'skipNestingCheck':!0x0}),_0x10e5be['forEach'](_0x35a38f=>_0x35a38f['detach']?.())),_0x2f2713['length']&&(_0x119542['markMultiRangeDeletion'](_0x2f2713,'tablePaste',{'tablePasteChainId':_0x5cfdc0,'skipNestingCheck':!0x0}),_0x2f2713['forEach'](_0x356b3d=>_0x356b3d['detach']?.()));const _0x5c0c6a=_0x119542['markMultiRangeBlockFormat'](_0x228b8e['map'](({element:_0x2c0036})=>_0x2c0036),{'formatGroupId':_0x35a597()},[],'tablePasteCell',{'tablePasteChainId':_0x5cfdc0});if(_0x5c0c6a){const _0x13ebd4=_0x5c0c6a['getMarkers'](),_0x461d76=[];for(const {element:_0x19c0c7,attributes:_0x568d1c}of _0x228b8e){if(!_0x568d1c)continue;const _0x3e28b2=_0x34a8e7['model']['createRangeOn'](_0x19c0c7),_0x2d51d5=_0x13ebd4['find'](_0x12e802=>_0x12e802['getRange']()['isEqual'](_0x3e28b2));_0x2d51d5&&_0x461d76['push']([_0x2d51d5['name'],_0x568d1c]);}_0x461d76['length']&&_0x5c0c6a['setAttribute']('markerAttributes',Object['fromEntries'](_0x461d76));}_0x348843=null;}));},{'priority':_0x38ebba['high']+0xa}),_0x4d7b5e['on']('contentInsertion',()=>{_0x3cfe2f=!0x1;},{'priority':'lowest'}),_0x34a8e7['plugins']['get']('TableClipboard')['on']('_replaceTableSlotCell',(_0x1ceb05,_0x25a48f)=>{const [_0x850a00,_0x42b5aa,,_0x2165de]=_0x25a48f;if(!_0x348843)return;_0x1ceb05['stop']();const _0x29f847=_0x850a00['cell'],_0x5c4b91=_0x42b5aa,_0x37d5b0=Ue(_0x29f847),_0x17bcee=Ue(_0x5c4b91);_0x1ceb05['return']=_0x29f847;let _0x332049=null,_0x5c867e=null;if(_0x17bcee||_0x37d5b0){if(_0x37d5b0&&!_0x17bcee){_0x2165de['remove'](_0x29f847['getChild'](0x0));for(const _0x17b3a5 of Array['from'](_0x5c4b91['getChildren']()))_0x2165de['insert'](_0x17b3a5,_0x29f847,'end');const _0x54b51c=_0x348843['rowInsertionIndexes']['includes'](_0x850a00['row']),_0x19a102=_0x348843['columnInsertionIndexes']['includes'](_0x850a00['column']);_0x54b51c||_0x19a102||(_0x332049=_0x29cc96['fromRange'](_0x2165de['createRangeIn'](_0x29f847)));}else _0x17bcee&&!_0x37d5b0&&(_0x5c867e=_0x2165de['createRangeIn'](_0x29f847));}else{const _0x4a783d=_0x2165de['createElement']('tableCellSuggestion'),_0x52312e=_0x2165de['createElement']('tableCellSuggestion');_0x2165de['wrap'](_0x2165de['createRangeIn'](_0x29f847),_0x52312e),_0x2165de['insert'](_0x4a783d,_0x29f847,0x0);for(const _0x5c390c of Array['from'](_0x5c4b91['getChildren']()))_0x2165de['insert'](_0x5c390c,_0x4a783d,'end');_0x332049=_0x29cc96['fromRange'](_0x2165de['createRangeOn'](_0x4a783d)),_0x5c867e=_0x29cc96['fromRange'](_0x2165de['createRangeOn'](_0x52312e));}const _0x2827ec=Array['from'](_0x5c4b91['getAttributes']())['filter'](([_0x8643c0])=>xe['includes'](_0x8643c0));_0x348843['cells']['push']({'element':_0x29f847,'attributes':_0x2827ec['length']?Object['fromEntries'](_0x2827ec):null}),_0x332049&&_0x348843['insertionRanges']['push'](_0x332049),_0x5c867e&&_0x348843['deletionRanges']['push'](_0x5c867e);},{'priority':'high'}),_0x2ad11b['on']('insertColumns',(_0x236a03,_0x1b0278)=>{const [_0x29e972,_0x38f8c8={}]=_0x1b0278;if(!_0x348843)return;const _0xae41fc=_0x38f8c8['at']||0x0,_0x3c4bba=_0x38f8c8['columns']||0x1;_0x348843['columnInsertionIndexes']=new Array(_0x3c4bba)['fill'](_0xae41fc)['map']((_0x1eb7ac,_0xff1bb1)=>_0x1eb7ac+_0xff1bb1);for(const {cell:_0x135c54}of _0x2ad11b['createTableWalker'](_0x29e972,{'startColumn':_0xae41fc,'endColumn':_0xae41fc+_0x3c4bba-0x1}))_0x348843['columnInsertionRanges']['push'](_0x34a8e7['model']['createRangeOn'](_0x135c54));},{'priority':'low'}),_0x2ad11b['on']('insertRows',(_0x21a000,_0x430bd7)=>{const [_0x5fe844,_0x21e81a={}]=_0x430bd7;if(!_0x348843)return;const _0x2de9a8=_0x21e81a['at']||0x0,_0x1bb785=_0x21e81a['rows']||0x1;_0x348843['rowInsertionIndexes']=new Array(_0x1bb785)['fill'](_0x2de9a8)['map']((_0x37086e,_0x1643d1)=>_0x37086e+_0x1643d1);for(const {cell:_0x2c2599}of _0x2ad11b['createTableWalker'](_0x5fe844,{'startRow':_0x2de9a8,'endRow':_0x2de9a8+_0x1bb785-0x1}))_0x348843['rowInsertionRanges']['push'](_0x34a8e7['model']['createRangeOn'](_0x2c2599));},{'priority':'low'}),_0x119542['descriptionFactory']['registerDescriptionCallback'](_0x1d6bc5=>{if(_0x1d6bc5['subType']&&_0x1d6bc5['subType']['startsWith']('tablePaste'))return _0x1d6bc5['previous']?{}:{'type':'insertion','content':c(_0x34a8e7['locale'],'*Replace\x20table\x20cells*')};});const _0x13041f=()=>!0x1;for(const _0x104635 of['tablePaste','tablePasteColumn','tablePasteRow','tablePasteCell'])_0x119542['_suggestionFactory']['registerCustomCallback']('insertion',_0x104635,'join',_0x13041f),_0x119542['_suggestionFactory']['registerCustomCallback']('deletion',_0x104635,'join',_0x13041f),_0x119542['_suggestionFactory']['registerCustomCallback']('formatBlock',_0x104635,'join',_0x13041f);_0x119542['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','discard',_0x13041f),_0x119542['_suggestionFactory']['registerCustomCallback']('formatBlock','tablePasteCell','accept',(_0x28d7fe,_0x4ec171,_0x12485c)=>{const _0x366cb6=_0x28d7fe['map'](_0x4bf1cf=>_0x4bf1cf['getContainedElement']())['filter'](_0xc9b48b=>_0xc9b48b),_0x24331c=new Map(_0x366cb6['map'](_0x25e8c9=>[_0x25e8c9,null]));if(_0x348843){for(const {element:_0x1cbfca,attributes:_0x38a971}of _0x348843['cells'])_0x38a971&&_0x24331c['set'](_0x1cbfca,_0x38a971);}else{if(_0x12485c&&_0x12485c['markerAttributes'])for(const [_0x2c599a,_0x58181e]of Object['entries'](_0x12485c['markerAttributes'])){const _0x5f15fa=_0x34a8e7['model']['markers']['get'](_0x2c599a),_0x4ce534=_0x5f15fa?_0x5f15fa['getRange']()['getContainedElement']():null;_0x4ce534&&_0x24331c['set'](_0x4ce534,_0x58181e);}}_0x34a8e7['model']['change'](_0x36efbd=>{for(const [_0x435cc8,_0x486a0b]of _0x24331c)_0x36efbd['setAttributes']({...Oe,..._0x486a0b},_0x435cc8);});});const _0x49f7d2=(_0x1ac087,_0x3c6fc6)=>{_0x119542['_suggestionFactory']['registerCustomCallback'](_0x1ac087,'tablePaste',_0x3c6fc6,(_0x5ed961,_0x41dbcb,_0x35bff2)=>{_0x34a8e7['model']['change'](_0x5c3225=>{const _0x2705c1=[];for(const _0x110338 of _0x5ed961){const _0x2defa6=_0x110338['start']['nodeAfter'];_0x2defa6['is']('element','tableCellSuggestion')&&_0x2705c1['push'](_0x2defa6);}_0x119542['_suggestionFactory']['getSuggestionCallback'](_0x1ac087,null,_0x3c6fc6)(_0x5ed961,_0x41dbcb,_0x35bff2);for(const _0x19ba1d of _0x2705c1)'$graveyard'!=_0x19ba1d['root']['rootName']&&_0x5c3225['unwrap'](_0x19ba1d);});});};_0x49f7d2('insertion','accept'),_0x49f7d2('insertion','discard'),_0x49f7d2('deletion','accept'),_0x49f7d2('deletion','discard'),_0x119542['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteRow','discard',_0x32d442=>{const _0x27b312=_0x32d442['map'](_0x520c55=>_0x520c55['getContainedElement']()),_0x19d188=_0x27b312[0x0]['findAncestor']('table'),{minRow:_0x170c6c,maxRow:_0x16ee50}=_0x55f67c['_getCoordsForCells'](_0x27b312);_0x2ad11b['removeRows'](_0x19d188,{'at':_0x170c6c,'rows':_0x16ee50-_0x170c6c+0x1});}),_0x119542['_suggestionFactory']['registerCustomCallback']('insertion','tablePasteColumn','discard',_0x7f0337=>{const _0xcb56d9=_0x7f0337['map'](_0xf4a809=>_0xf4a809['getContainedElement']()),_0x3e74cd=_0xcb56d9[0x0]['findAncestor']('table'),{minColumn:_0x187760,maxColumn:_0x28e3f5}=_0x55f67c['_getCoordsForCells'](_0xcb56d9);_0x2ad11b['removeColumns'](_0x3e74cd,{'at':_0x187760,'columns':_0x28e3f5-_0x187760+0x1});});const _0x57ada7=(_0x104282,_0x144aa9)=>{if(!_0x144aa9['subType']||!_0x144aa9['subType']['startsWith']('tablePaste'))return;const _0xf1c285=_0x144aa9['attributes']['tablePasteChainId'],_0x24f3a7=_0x119542['getSuggestions']()['filter'](_0x3470bb=>_0x3470bb['isInContent']&&_0x3470bb['attributes']&&_0x3470bb['attributes']['tablePasteChainId']==_0xf1c285);_0x24f3a7['length']&&_0x144aa9['getAllAdjacentSuggestions']()['length']!=_0x24f3a7['length']&&_0x24f3a7['reduce']((_0x4df902,_0x4e546f)=>(_0x4df902['next']=_0x4e546f,_0x4e546f['previous']=_0x4df902,_0x4e546f));};function _0x21cd7b(_0x5d1172,_0x328d2b=!0x0){const {id:_0x5a9a9f,authorId:_0x54e457}=_0x119542['_splitMarkerName'](_0x5d1172['markerName']),_0x1b553e=['ck-suggestion-marker','ck-suggestion-marker-insertion'],_0x42c186=_0x119542['activeMarkers']['includes'](_0x5d1172['markerName']);return _0x42c186&&_0x1b553e['push']('ck-suggestion-marker--active'),{'classes':_0x1b553e,'attributes':{'data-suggestion':_0x5a9a9f,'data-author-id':_0x54e457},'priority':_0x42c186&&_0x328d2b?0xbc2:0xbb8};}_0x119542['on']('suggestionLoaded',_0x57ada7,{'priority':'high'}),_0x119542['on']('suggestionUnloaded',_0x57ada7,{'priority':'high'}),_0x34a8e7['model']['document']['registerPostFixer'](()=>{let _0x460483=!0x1;const _0x41305a=Array['from'](_0x34a8e7['model']['document']['differ']['getChangedMarkers']());for(const {name:_0xab3a3e,data:_0x4c44f9}of _0x41305a){const {group:_0x52f6cd,type:_0x35f0f4,id:_0x24ec72}=_0x119542['_splitMarkerName'](_0xab3a3e);if('suggestion'!=_0x52f6cd||'deletion'!=_0x35f0f4||_0x4c44f9['oldRange'])continue;if(!_0x119542['hasSuggestion'](_0x24ec72))continue;const _0x26eec3=_0x119542['getSuggestion'](_0x24ec72)['getRanges'](),_0xf51834=_0x34a8e7['plugins']['get']('Users')['me'];for(const _0x1b2211 of _0x119542['getSuggestions']()){if(!_0x1b2211['isInContent']||_0x1b2211['author']!=_0xf51834)continue;if('formatBlock'!=_0x1b2211['type']||'tablePasteCell'!=_0x1b2211['subType'])continue;if(_0x1b2211['getRanges']()['every'](_0x207878=>_0x26eec3['some'](_0x41225b=>_0x41225b['containsRange'](_0x207878,!0x0)))){for(const _0x1fa9d1 of _0x1b2211['getAllAdjacentSuggestions']())_0x1fa9d1['isInContent']&&(_0x1fa9d1['discard'](),_0x460483=!0x0);}}}return _0x460483;}),_0x34a8e7['model']['document']['registerPostFixer'](_0x24b902=>{const _0x2d2b0f=_0x34a8e7['commands']['get']('redo');if(!_0x2d2b0f||!_0x2d2b0f['_createdBatches']['has'](_0x24b902['batch']))return!0x1;let _0x170c06=!0x1;const _0x5c9b4d=_0x34a8e7['plugins']['get']('Users')['me'],_0x180403=_0x34a8e7['model']['document']['differ']['getChanges'](),_0x5370a3=Array['from'](_0x34a8e7['model']['document']['differ']['getChangedMarkers']())['filter'](({name:_0x58d3cd,data:_0x38ab9b})=>{const {group:_0xd081ba,subType:_0x65dd61,authorId:_0x3a528e}=_0x119542['_splitMarkerName'](_0x58d3cd);return'suggestion'==_0xd081ba&&'tablePaste'==_0x65dd61&&_0x3a528e==_0x5c9b4d['id']&&!_0x38ab9b['oldRange'];});for(const _0x5eedd4 of _0x180403){if('insert'!=_0x5eedd4['type']||'tableCellSuggestion'!=_0x5eedd4['name']||0x1!=_0x5eedd4['length'])continue;const _0x3f9731=_0x24b902['createRange'](_0x5eedd4['position'],_0x5eedd4['position']['getShiftedBy'](0x1));if(!_0x5370a3['find'](({data:_0x541c69})=>_0x541c69['newRange']['isEqual'](_0x3f9731))){for(const {name:_0x3ee89c,data:_0x4aa1a5}of _0x5370a3)if(_0x3f9731['containsRange'](_0x4aa1a5['newRange'])){_0x24b902['updateMarker'](_0x3ee89c,{'range':_0x3f9731}),_0x170c06=!0x0;break;}}}return _0x170c06;}),_0x34a8e7['model']['document']['registerPostFixer'](_0x467050=>{let _0x405fc0=!0x1;const _0x40eac6=_0x34a8e7['plugins']['get']('Users')['me'],_0x3c04e6=_0x119542['getSuggestions']()['filter'](_0x1bbdca=>_0x1bbdca['isInContent']&&_0x1bbdca['author']==_0x40eac6),_0x444e9a=new Set(),_0x23972c=new Set();for(const _0x55461e of _0x3c04e6)if('tablePaste'==_0x55461e['subType'])for(const _0xf80534 of _0x55461e['getMarkers']()){const _0x2418b5=_0xf80534['getRange']()['getContainedElement']();if(_0x2418b5){if(_0x2418b5['is']('element','tableCellSuggestion')&&Ue(_0x2418b5)){_0x55461e['removeMarker'](_0xf80534['name']),_0x444e9a['add'](_0x2418b5),_0x405fc0=!0x0;const _0x1f381c=_0x2418b5['nextSibling'],_0x203f81=_0x2418b5['previousSibling'],_0x49324e=_0x1f381c&&_0x1f381c['is']('element','tableCellSuggestion'),_0x4b7e64=_0x203f81&&_0x203f81['is']('element','tableCellSuggestion');_0x49324e&&!_0x444e9a['has'](_0x1f381c)&&_0x23972c['add'](_0x1f381c),_0x4b7e64&&!_0x444e9a['has'](_0x203f81)&&_0x23972c['add'](_0x203f81);}else _0x2418b5['is']('element','paragraph')&&_0x2418b5['isEmpty']&&(_0x55461e['removeMarker'](_0xf80534['name']),_0x405fc0=!0x0);}}else{if('tablePasteCell'==_0x55461e['subType']){if(!_0x55461e['attributes']||!_0x55461e['attributes']['tablePasteChainId'])continue;const _0x1a3885=_0x55461e['attributes']['markerAttributes'];if(_0x1a3885&&Object['keys'](_0x1a3885)['length'])continue;const _0x45e02d=_0x55461e['attributes']['tablePasteChainId'];let _0x1f91bb=!0x0,_0x6b54fb=!0x0;for(const _0x2ef9b5 of _0x3c04e6)if(_0x2ef9b5['subType']&&_0x2ef9b5['subType']['startsWith']('tablePaste')){if(!_0x2ef9b5['attributes']['tablePasteChainId']){_0x6b54fb=!0x1;break;}if(_0x2ef9b5['id']!=_0x55461e['id']&&_0x2ef9b5['attributes']['tablePasteChainId']==_0x45e02d){_0x1f91bb=!0x1;break;}}_0x6b54fb&&_0x1f91bb&&(_0x55461e['removeMarkers'](),_0x405fc0=!0x0);}}for(const _0x4a0a28 of _0x444e9a)_0x467050['remove'](_0x4a0a28);for(const _0x5e4a9f of _0x23972c)_0x467050['unwrap'](_0x5e4a9f);return _0x405fc0;}),_0x34a8e7['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':_0x2c5b9d=>_0x21cd7b(_0x2c5b9d),'converterPriority':'high'}),_0x34a8e7['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion:formatBlock:tablePasteCell','view':(_0x46b0e9,_0x3a9d1e)=>_0x3a9d1e['options']['showSuggestionHighlights']?_0x21cd7b(_0x46b0e9,!0x1):null,'converterPriority':'high'});const _0x178e70=_0x34a8e7['editing']['view'];this['listenTo'](_0x178e70['document'],'clipboardOutput',(_0x1393d2,_0x578c11)=>{const _0x23efec=[];for(const _0x3a0703 of _0x178e70['createRangeIn'](_0x578c11['content'])['getItems']())_0x3a0703['is']('element','suggestion-td')&&_0x23efec['push'](_0x3a0703);_0x178e70['change'](_0x1b353a=>{for(const _0xd82d49 of _0x23efec)_0x1b353a['move'](_0x1b353a['createRangeIn'](_0xd82d49),_0x1b353a['createPositionBefore'](_0xd82d49)),_0x1b353a['remove'](_0xd82d49);});});}}function Ue(_0x4c789d){if(_0x4c789d['isEmpty'])return!0x0;const _0x4db0bd=_0x4c789d['getChild'](0x0);return _0x4db0bd['is']('element','paragraph')&&_0x4db0bd['isEmpty'];}function De(_0x5ef258,_0xfc7c83={},_0x5f1b7c){for(const {isAnchor:_0x532b8c,cellHeight:_0x2d5189,cellWidth:_0x5d5a1e}of _0x5f1b7c['createTableWalker'](_0x5ef258,{'includeAllSlots':!0x0,..._0xfc7c83}))if(!_0x532b8c||0x1!=_0x2d5189||0x1!=_0x5d5a1e)return!0x1;return!0x0;}class Bt extends _0x2e402e{['afterInit'](){if(!this['editor']['plugins']['has']('TableColumnResizeEditing'))return;const _0x1b5f76=this['editor']['plugins']['get']('TrackChangesEditing');_0x1b5f76['enableCommand']('resizeTableWidth',this['handleResizeTableWidthCommand']['bind'](this)),_0x1b5f76['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','accept',_0x1b5f76['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x1b5f76['_suggestionFactory']['registerCustomCallback']('formatBlock','resizeTable','discard',_0x1b5f76['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'accept')),_0x1b5f76['descriptionFactory']['registerDescriptionCallback'](this['handleSuggestionDescription']['bind'](this));}['handleResizeTableWidthCommand'](_0x56449e,_0x354971){const _0x352be7=this['editor']['plugins']['get']('TrackChangesEditing'),_0x53056a=this['editor']['plugins']['get']('TableColumnResizeEditing'),_0x4af2fe=_0x354971['table']||this['editor']['model']['document']['selection']['getSelectedElement']();this['editor']['model']['change'](()=>{const _0x27bc75=_0x53056a['getColumnGroupElement'](_0x4af2fe);let _0x25f3fc=_0x27bc75?_0x53056a['getTableColumnsWidths'](_0x27bc75):null,_0x4f96b6=_0x4af2fe['getAttribute']('tableWidth')||null;const _0x1d3d17=_0x354971['tableWidth']||_0x4f96b6,_0x5b9e9a=_0x354971['columnWidths']||_0x25f3fc,_0x42b1b0=this['editor']['plugins']['get']('Users')['me'];for(const _0x4f8ed8 of _0x352be7['getSuggestions']()){const _0x49bd53=_0x4f8ed8['getContainedElement']();if('resizeTable'===_0x4f8ed8['subType']&&_0x49bd53===_0x4af2fe){_0x4f8ed8['author']!==_0x42b1b0&&_0x4f8ed8['discard']();const _0x12a9d5=_0x4f8ed8['data']['commandParams'];_0x4f96b6=_0x12a9d5[0x0]['tableWidth'],_0x25f3fc=_0x12a9d5[0x0]['columnWidths'];break;}}_0x56449e({'table':_0x4af2fe,'tableWidth':_0x1d3d17,'columnWidths':_0x5b9e9a}),_0x352be7['markBlockFormat'](_0x4af2fe,{'commandName':'resizeTableWidth','commandParams':[{'tableWidth':_0x4f96b6,'columnWidths':_0x25f3fc}],'formatGroupId':'resizeTable'},[],'resizeTable');});}['handleSuggestionDescription'](_0x235c53){if('formatBlock'!=_0x235c53['type']&&'formatInline'!=_0x235c53['type'])return;const {data:_0x4a0a7f}=_0x235c53;if(_0x4a0a7f&&'resizeTable'===_0x4a0a7f['formatGroupId']){const _0xfa72b4='*Format:*\x20resize\x20table';return{'type':'format','content':c(this['editor']['locale'],_0xfa72b4)};}}}class Ot extends _0x2e402e{['afterInit'](){const _0x1a18b7=this['editor'];_0x1a18b7['plugins']['has']('Template')&&_0x1a18b7['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTemplate');}}class Rt extends _0x2e402e{['afterInit'](){const _0x2b0c09=this['editor'];if(!_0x2b0c09['commands']['get']('insertTableOfContents'))return;_0x2b0c09['plugins']['get']('TrackChangesEditing')['enableCommand']('insertTableOfContents');const _0x5651ff=_0x2b0c09['plugins']['get']('TrackChangesEditing'),_0xdfae9a=_0x2b0c09['locale'];_0x5651ff['descriptionFactory']['registerElementLabel']('tableOfContents',_0x3884e7=>c(_0xdfae9a,'ELEMENT_TABLE_OF_CONTENTS',_0x3884e7));}}class xt extends _0x2e402e{['afterInit'](){const _0x43d009=this['editor'];if(!_0x43d009['plugins']['has']('Title'))return;const _0x1170bd=_0x43d009['plugins']['get']('TrackChangesEditing');_0x1170bd['descriptionFactory']['registerElementLabel']('title-content',()=>c(_0x43d009['locale'],'ELEMENT_TITLE')),_0x43d009['model']['document']['registerPostFixer'](_0x3e78e7=>{let _0x3aadac=!0x1;const _0x56a805=Array['from'](_0x43d009['model']['document']['differ']['getChangedMarkers']());for(const {name:_0x5d7173,data:_0x39287c}of _0x56a805){const {group:_0x561734}=_0x1170bd['_splitMarkerName'](_0x5d7173);if('suggestion'!==_0x561734||!_0x39287c['newRange'])continue;const _0x3dd56b=_0x39287c['newRange'],_0x69f932=_0x3dd56b['end']['nodeBefore'];if(!_0x69f932||!_0x69f932['is']('element','title-content'))continue;if(!_0x3dd56b['start']['isTouching'](_0x3dd56b['end']))continue;const _0x141a55=_0x43d009['model']['schema']['getNearestSelectionRange'](_0x3dd56b['end'],'forward');if(_0x141a55&&_0x141a55['isCollapsed']){const _0x3d418c=_0x3e78e7['createRange'](_0x3dd56b['start'],_0x141a55['start']);_0x3d418c['isEqual'](_0x3dd56b)||(_0x3e78e7['updateMarker'](_0x5d7173,{'range':_0x3d418c}),_0x3aadac=!0x0);}_0x3aadac||(_0x3e78e7['removeMarker'](_0x5d7173),_0x3aadac=!0x0);}return _0x3aadac;});}}class Tt extends _0x2e402e{['afterInit'](){const _0x19d13e=this['editor'],_0xc13390=_0x19d13e['plugins']['get']('TrackChangesEditing');_0x19d13e['plugins']['has']('Uploadcare')&&(_0xc13390['enableCommand']('uploadcare'),_0x19d13e['plugins']['has']('UploadcareImageEdit')&&(_0xc13390['enableCommand']('uploadcareImageEdit'),_0xc13390['enableDefaultAttributesIntegration']('uploadcareImageReplace'),_0xc13390['registerBlockAttribute']('uploadcareImageId'),_0xc13390['descriptionFactory']['registerDescriptionCallback'](_0x2b25c0=>{if('attribute'!=_0x2b25c0['type'])return;const {data:_0x3e764b}=_0x2b25c0;return _0x3e764b&&'uploadcareImageId'==_0x3e764b['key']?{'type':'format','content':''}:void 0x0;})));}}class Et extends _0x2e402e{['afterInit'](){const _0x558f70=this['editor'],_0x2ef510=_0x558f70['plugins']['get']('TrackChangesEditing');_0x558f70['plugins']['has']('UndoEditing')&&(_0x2ef510['enableCommand']('undo'),_0x2ef510['enableCommand']('redo'));}}class Ut extends _0x2e402e{static get['requires'](){return[Ct];}['afterInit'](){const _0xed0a21=this['editor'];if(!_0xed0a21['plugins']['has']('TableCaptionEditing'))return;_0xed0a21['plugins']['get']('TrackChangesEditing')['enableCommand']('toggleTableCaption');}}class Vt extends _0x2e402e{['tableProperties'];['tableCellProperties'];constructor(_0x382d51){super(_0x382d51),this['tableProperties']=['tableBorderColor','tableBorderStyle','tableBorderWidth','tableAlignment','tableWidth','tableHeight','tableBackgroundColor'],this['tableCellProperties']=['tableCellBorderColor','tableCellBorderStyle','tableCellBorderWidth','tableCellPadding','tableCellWidth','tableCellHeight','tableCellBackgroundColor','tableCellHorizontalAlignment','tableCellVerticalAlignment'];}static get['pluginName'](){return'TrackChangesTableProperties';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['afterInit'](){const _0x368cc6=this['editor']['plugins']['get']('TrackChangesEditing');if(this['editor']['plugins']['has']('TablePropertiesEditing')){for(const _0x130132 of this['tableProperties'])_0x368cc6['enableCommand'](_0x130132,(_0x4c1956,_0x4a2da9)=>{const _0x4d4878=this['editor']['model']['document']['selection']['getFirstPosition']()['findAncestor']('table');this['_handlePropertyChange'](_0x130132,[_0x4d4878],this['tableProperties'],'tableProperties',_0x4c1956,_0x4a2da9);});_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','accept',_0x368cc6['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','discard',(_0x2a9a6a,_0x162c58)=>this['handleDiscardAction'](this['tableProperties'],_0x2a9a6a,_0x162c58)),_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableProperties','join',()=>!0x1);}if(this['editor']['plugins']['has']('TableCellPropertiesEditing')){for(const _0x4dd189 of this['tableCellProperties'])_0x368cc6['enableCommand'](_0x4dd189,(_0xd32e88,_0x40e98d)=>{const _0x1fcbf0=this['editor']['plugins']['get']('TableUtils')['getSelectionAffectedTableCells'](this['editor']['model']['document']['selection']);this['_handlePropertyChange'](_0x4dd189,_0x1fcbf0,this['tableCellProperties'],'tableCellProperties',_0xd32e88,_0x40e98d);});_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','accept',_0x368cc6['_suggestionFactory']['getSuggestionCallback']('formatBlock',null,'discard')),_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','discard',(_0x52dd9e,_0x4aae98)=>this['handleDiscardAction'](this['tableCellProperties'],_0x52dd9e,_0x4aae98)),_0x368cc6['_suggestionFactory']['registerCustomCallback']('formatBlock','tableCellProperties','join',()=>!0x1);}_0x368cc6['descriptionFactory']['registerDescriptionCallback'](_0x23ee66=>this['handleSuggestionDescription'](_0x23ee66));}['_handlePropertyChange'](_0x2e87ad,_0x27d528,_0x58667c,_0x55d067,_0x103630,_0x4a70ca){const _0x3b0c5f=this['editor']['plugins']['get']('TrackChangesEditing');this['editor']['model']['enqueueChange'](_0x4a70ca['batch'],()=>{for(const _0x57225c of _0x27d528){if(this['_getSuggestion'](_0x57225c,_0x55d067))_0x103630(_0x4a70ca);else{const _0x4d16a3={};for(const _0xbf7016 of _0x58667c){const _0x5a37e8=_0x57225c['getAttribute'](_0xbf7016);void 0x0!==_0x5a37e8&&(_0x4d16a3[_0xbf7016]=_0x5a37e8);}_0x103630(_0x4a70ca),_0x3b0c5f['markBlockFormat'](_0x57225c,{'commandParams':[_0x4d16a3]},[],_0x55d067);}}});}['handleDiscardAction'](_0x20fc64,_0xaacd28,_0x193db4){const _0x584713=_0xaacd28[0x0]['start']['nodeAfter'],_0x301874=_0x193db4['commandParams'][0x0];this['editor']['model']['change'](_0xdae265=>{for(const _0x350225 of _0x20fc64)void 0x0!==_0x301874[_0x350225]?_0xdae265['setAttribute'](_0x350225,_0x301874[_0x350225],_0x584713):_0xdae265['removeAttribute'](_0x350225,_0x584713);});}['handleSuggestionDescription'](_0x3c0eee){if(_0x3c0eee['data'])switch(_0x3c0eee['subType']){case'tableProperties':return{'type':'format','content':c(this['editor']['locale'],'*Format:*\x20change\x20table\x20properties')};case'tableCellProperties':return{'type':'format','content':c(this['editor']['locale'],'*Format:*\x20change\x20table\x20cell\x20properties')};}}['_getSuggestion'](_0x806c3e,_0x5e26cd){const _0x5390c3=this['editor']['plugins']['get']('TrackChangesEditing');for(const _0x46f25f of _0x5390c3['getSuggestions']({'skipNotAttached':!0x0})){const _0x558a44=_0x46f25f['getContainedElement']();if(_0x46f25f['subType']===_0x5e26cd&&_0x558a44===_0x806c3e)return _0x46f25f;}return null;}}const u='$elementName';class p extends _0x2e402e{['descriptionFactory'];['trackChangesCommand'];['_adapter'];['_suggestionFactory'];['_suggestions'];['_commentsRepository'];['_enabledCommands'];['_model'];['_suggestionState'];['_isForcedDefaultExecutionBlock'];['_trackFormatChanges'];['_mergeNestedSuggestions'];['_blockAttributeKeys'];['_inlineAttributeKeys'];['_recordAttributeSuggestions']=!0x1;static get['requires'](){return['CommentsRepository',_0x370d6e,_0x324e00,U,V,F,G,L,K,J,H,q,z,X,Y,Z,tt,et,nt,it,st,ot,rt,ct,at,ut,ft,ht,gt,Q,kt,lt,W,Se,dt,pt,wt,bt,yt,jt,St,At,It,_t,vt,Ct,Nt,Dt,Ye,Ut,$t,Bt,Rt,Vt,Ot,xt,Tt,Et];}static get['pluginName'](){return'TrackChangesEditing';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x4b44c7){super(_0x4b44c7),this['set']('activeMarkers',[]),this['on']('change:activeMarkers',(_0x45e34e,_0x575e0,_0x351242,_0x2bd465)=>{this['_model']['change'](()=>{for(const _0xfc081c of[..._0x2bd465,..._0x351242])this['_model']['markers']['has'](_0xfc081c)&&_0x4b44c7['editing']['reconvertMarker'](_0xfc081c);});}),this['descriptionFactory']=new f(this['editor']['model']['schema'],this['editor']['locale']),this['_adapter']=null,this['_suggestionFactory']=new Pt(this['editor']),this['_suggestions']=new Map(),this['_commentsRepository']=_0x4b44c7['plugins']['get']('CommentsRepository'),this['_enabledCommands']=new Set(),this['_model']=this['editor']['model'],this['_suggestionState']=new WeakMap(),this['_isForcedDefaultExecutionBlock']=!0x1,this['_blockAttributeKeys']=new Set([u]),this['_inlineAttributeKeys']=new Set(),_0x4b44c7['config']['define']('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0x4b44c7['config']['get']('trackChanges.trackFormatChanges'),_0x4b44c7['config']['define']('trackChanges.mergeNestedSuggestions',!0x0),this['_mergeNestedSuggestions']=_0x4b44c7['config']['get']('trackChanges.mergeNestedSuggestions'),this['trackChangesCommand']=new B(_0x4b44c7,this['_enabledCommands']),this['_initAriaMarkerChangeAnnouncements']();}['init'](){const _0x3283bc=this['editor'],_0x282295=(_0x273d4d,_0x41fc24)=>{if('attribute'!=_0x273d4d)return'ck-suggestion-marker-'+_0x273d4d;const _0x58ca94=_0x41fc24['split']('|')[0x0];return this['_isBlockAttribute'](_0x58ca94)?'ck-suggestion-marker-formatBlock':'ck-suggestion-marker-formatInline';};_0x3283bc['conversion']['for']('editingDowncast')['markerToHighlight']({'model':'suggestion','view':_0xa0d5db=>{const {id:_0x568d65,authorId:_0x43c246,type:_0x185861,subType:_0x361b9c}=this['_splitMarkerName'](_0xa0d5db['markerName']),_0x2c5bac=['ck-suggestion-marker',_0x282295(_0x185861,_0x361b9c)];let _0x1ae401=0xbb8;return this['activeMarkers']['includes'](_0xa0d5db['markerName'])&&(_0x2c5bac['push']('ck-suggestion-marker--active'),_0x1ae401=0xbc2),'deletion'==_0x185861&&(_0x1ae401+=0x5),{'classes':_0x2c5bac,'attributes':{'data-suggestion':_0x568d65,'data-author-id':_0x43c246},'priority':_0x1ae401};}}),_0x3283bc['conversion']['for']('dataDowncast')['add'](_0x3e8440=>{_0x3e8440['on']('addMarker:suggestion',(_0x224406,_0x346d72,_0x5eefd8)=>{if(!_0x5eefd8['options']['showSuggestionHighlights'])return;const _0x21419c=_0x346d72['item'];if(!_0x21419c)return;const _0x210604=_0x5eefd8['mapper']['toViewElement'](_0x21419c);_0x3283bc['model']['schema']['isObject'](_0x21419c)&&_0x210604&&!_0x210604['getCustomProperty']('widget')&&_0x210604['is']('containerElement')&&_0x46aac5(_0x210604,_0x5eefd8['writer']);},{'priority':'high'});}),_0x3283bc['conversion']['for']('dataDowncast')['markerToHighlight']({'model':'suggestion','view':(_0x3e76a3,_0x3918c0)=>{if(!_0x3918c0['options']['showSuggestionHighlights'])return null;const {type:_0x18c81a,subType:_0x5b1b6c}=this['_splitMarkerName'](_0x3e76a3['markerName']);return{'classes':['ck-suggestion-marker',_0x282295(_0x18c81a,_0x5b1b6c)],'priority':0xbb8};}});const _0x195513=({showActiveMarkers:_0x47b67f=!0x0,isAttributeSuggestion:_0x593a21=!0x1}={})=>(_0x1ca2aa,_0x4b8adf,_0x472d86)=>{if(!_0x4b8adf['item'])return;const {id:_0x3f6720,authorId:_0xe5bcb}=this['_splitMarkerName'](_0x4b8adf['markerName']);if(_0x593a21){const _0x412057=this['_suggestions']['get'](_0x3f6720),_0x2f8d7e=this['_getAttributeKey'](_0x412057);if(!this['_isBlockAttribute'](_0x2f8d7e))return;}if(_0x4b8adf['item']['is']('selection'))return void _0x472d86['consumable']['consume'](_0x4b8adf['item'],_0x1ca2aa['name']);const _0x514118=_0x472d86['mapper']['toViewElement'](_0x4b8adf['item']);if(_0x4b8adf['item']['is']('element')&&_0x3283bc['model']['schema']['isBlock'](_0x4b8adf['item'])&&!_0x514118['getCustomProperty']('addHighlight')){_0x472d86['writer']['addClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock'],_0x514118),_0x472d86['writer']['setAttribute']('data-suggestion',_0x3f6720,_0x514118),_0x472d86['writer']['setAttribute']('data-author-id',_0xe5bcb,_0x514118),_0x472d86['mapper']['bindElementToMarker'](_0x514118,_0x4b8adf['markerName']),_0x47b67f&&(this['activeMarkers']['includes'](_0x4b8adf['markerName'])?_0x472d86['writer']['addClass']('ck-suggestion-marker--active',_0x514118):_0x472d86['writer']['removeClass']('ck-suggestion-marker--active',_0x514118));for(const _0x2aefbe of _0x3283bc['model']['createRangeIn'](_0x4b8adf['item'])['getItems']())_0x472d86['consumable']['consume'](_0x2aefbe,_0x1ca2aa['name']);_0x472d86['consumable']['consume'](_0x4b8adf['item'],_0x1ca2aa['name']);}};_0x3283bc['conversion']['for']('dataDowncast')['add'](_0x1c6c48=>{_0x1c6c48['on']('addMarker:suggestion:formatBlock',(_0x133d87,_0x14b815,_0x52df1f)=>{_0x52df1f['options']['showSuggestionHighlights']&&_0x195513({'showActiveMarkers':!0x1})(_0x133d87,_0x14b815,_0x52df1f);},{'priority':'highest'});}),_0x3283bc['conversion']['for']('dataDowncast')['add'](_0x1c752a=>{_0x1c752a['on']('addMarker:suggestion:attribute',(_0x28c062,_0x475f27,_0x4b900f)=>{_0x4b900f['options']['showSuggestionHighlights']&&_0x195513({'showActiveMarkers':!0x1,'isAttributeSuggestion':!0x0})(_0x28c062,_0x475f27,_0x4b900f);},{'priority':'highest'});}),_0x3283bc['conversion']['for']('dataDowncast')['markerToData']({'model':'suggestion','view':(_0x407da6,_0x1620b3)=>_0x1620b3['options']['showSuggestionHighlights']?null:{'group':'suggestion','name':_0x407da6['substr'](0xb)}}),_0x3283bc['conversion']['for']('upcast')['elementToElement']({'view':{'name':'suggestion','attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x2b7695,{writer:_0x472ba7})=>{let _0x2ab971='suggestion:'+_0x2b7695['getAttribute']('suggestion-type')+':'+_0x2b7695['getAttribute']('id');return _0x2b7695['getAttribute']('marker-count')&&(_0x2ab971+=':'+_0x2b7695['getAttribute']('marker-count')),_0x472ba7['createElement']('$marker',{'data-name':_0x2ab971});}}),_0x3283bc['conversion']['for']('upcast')['dataToMarker']({'view':'suggestion'}),_0x3283bc['conversion']['for']('editingDowncast')['add'](_0x3fa0dd=>{_0x3fa0dd['on']('addMarker:suggestion:formatBlock',_0x195513(),{'priority':'high'});}),_0x3283bc['conversion']['for']('editingDowncast')['add'](_0x598745=>{_0x598745['on']('addMarker:suggestion:attribute',_0x195513({'isAttributeSuggestion':!0x0}),{'priority':'high'});}),_0x3283bc['conversion']['for']('editingDowncast')['add'](_0x47e454=>{_0x47e454['on']('removeMarker:suggestion:formatBlock',(_0x2962a3,_0x364201,_0x2b2614)=>{const _0x22dd22=_0x2b2614['mapper']['markerNameToElements'](_0x364201['markerName']);if(_0x22dd22){for(const _0x33ef21 of _0x22dd22)_0x33ef21['getCustomProperty']('addHighlight')||(_0x2b2614['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x33ef21),_0x2b2614['writer']['removeAttribute']('data-suggestion',_0x33ef21),_0x2b2614['writer']['removeAttribute']('data-author-id',_0x33ef21),_0x2b2614['mapper']['unbindElementFromMarkerName'](_0x33ef21,_0x364201['markerName']));}},{'priority':'high'});}),_0x3283bc['conversion']['for']('editingDowncast')['add'](_0x3fb50f=>{_0x3fb50f['on']('removeMarker:suggestion:attribute',(_0x5efc39,_0x5d23ca,_0x564cbe)=>{const _0x767e2f=_0x564cbe['mapper']['markerNameToElements'](_0x5d23ca['markerName']);if(!_0x767e2f)return;const {id:_0x2675f8}=this['_splitMarkerName'](_0x5d23ca['markerName']),_0x541ccb=this['_suggestions']['get'](_0x2675f8),_0x207040=this['_getAttributeKey'](_0x541ccb);if(this['_isBlockAttribute'](_0x207040)){for(const _0x1d6e6d of _0x767e2f)_0x1d6e6d['getCustomProperty']('addHighlight')||(_0x564cbe['writer']['removeClass'](['ck-suggestion-marker','ck-suggestion-marker-formatBlock','ck-suggestion-marker--active'],_0x1d6e6d),_0x564cbe['writer']['removeAttribute']('data-suggestion',_0x1d6e6d),_0x564cbe['writer']['removeAttribute']('data-author-id',_0x1d6e6d),_0x564cbe['mapper']['unbindElementFromMarkerName'](_0x1d6e6d,_0x5d23ca['markerName']));}},{'priority':'high'});}),_0x3283bc['model']['document']['registerPostFixer'](_0x3ee057=>{let _0x3e9a96=!0x1;const _0x51153e=Array['from'](_0x3283bc['model']['document']['differ']['getChangedMarkers']()),_0xbdd836=new Set();for(const {name:_0x396f11,data:_0x431175}of _0x51153e){const {group:_0x30b268,type:_0x4501ae,subType:_0xf4982,id:_0x55a3a3}=this['_splitMarkerName'](_0x396f11);if('suggestion'!==_0x30b268)continue;const _0x3f76ce=this['_suggestions']['get'](_0x55a3a3);if(null!=_0x431175['newRange']){'formatInline'==_0x4501ae&&(_0x3e9a96=_0x3e9a96||Jt(_0x431175['newRange'],_0x396f11,_0x3ee057,_0x3283bc['model']['schema']));const _0x209044='attribute'==_0x4501ae&&this['_isBlockAttribute'](_0xf4982['split']('|')[0x0]);if(_0x431175['newRange']['isCollapsed']||'$graveyard'==_0x431175['newRange']['root']['rootName']||'formatBlock'==_0x4501ae&&!Ht(_0x431175['newRange'])||_0x209044&&!Ht(_0x431175['newRange'])||'deletion'==_0x4501ae&&!(!Lt(_0x52f249=_0x431175['newRange'])&&!function(_0x1cd910){return _0x1cd910['start']['parent']==_0x1cd910['end']['nodeBefore']&&_0x1cd910['start']['isAtEnd'];}(_0x52f249)))_0x3ee057['removeMarker'](_0x396f11),_0x3e9a96=!0x0;else{if(!_0x3f76ce||!_0x3f76ce['isInContent'])continue;if(_0x431175['newRange']&&_0x431175['oldRange']&&_0x431175['newRange']['isEqual'](_0x431175['oldRange']))continue;_0xbdd836['add'](_0x3f76ce);}}}var _0x52f249;return _0xbdd836['size']>0x0&&(_0x3e9a96=!!this['_joinWithAdjacentSuggestions'](_0xbdd836)||_0x3e9a96),_0x3e9a96;}),_0x3283bc['model']['document']['registerPostFixer'](_0x47f12f=>{let _0x29ccd4=!0x1;for(const _0x289ca3 of _0x3283bc['model']['document']['differ']['getChanges']())if('insert'==_0x289ca3['type'])for(const _0x108773 of this['_suggestions']['values']()){if(_0x108773['isMultiRange']||!_0x108773['isInContent'])continue;const _0x10c848='formatBlock'==_0x108773['type'],_0x57e5b7=this['_getAttributeKey'](_0x108773),_0x168c55=_0x57e5b7&&this['_isBlockAttribute'](_0x57e5b7);if(!_0x10c848&&!_0x168c55)continue;const _0x347744=_0x108773['getFirstRange']();if(_0x347744['start']['parent']!=_0x347744['end']['parent']&&!_0x347744['end']['isAtEnd']){const _0x8c230=_0x3283bc['model']['createPositionAt'](_0x347744['start']['nodeAfter'],'end'),_0x960147=_0x3283bc['model']['createRange'](_0x347744['start'],_0x8c230);_0x47f12f['updateMarker'](_0x108773['getFirstMarker'](),{'range':_0x960147}),_0x29ccd4=!0x0;}}return _0x29ccd4;}),_0x3283bc['model']['document']['registerPostFixer'](_0x5336c0=>this['_processAttributeChanges'](_0x5336c0)),_0x3283bc['model']['document']['registerPostFixer'](_0x42bf53=>!_0x42bf53['batch']['isLocal']&&this['_processAttributeSuggestions'](_0x42bf53)),_0x3283bc['model']['on']('_afterChanges',()=>{this['_recordAttributeSuggestions']=!0x1;}),_0x3283bc['model']['document']['on']('change:data',(_0x56fea0,_0x102f7d)=>{if(!_0x102f7d['isLocal']||_0x102f7d['isUndo'])return;if(!this['_recordAttributeSuggestions'])return;const _0x9342b1=_0x3283bc['model']['document']['differ']['getChanges']();if(0x0==_0x9342b1['length'])return;const _0xb905fd=[],_0x2f3553=_0x9342b1['filter'](_0xc131dc=>'attribute'==_0xc131dc['type']),_0x88e815=_0x9342b1['filter'](_0x59c06b=>'insert'==_0x59c06b['type']&&'$text'!=_0x59c06b['name']);for(const _0x2d4de3 of _0x2f3553)this['_isRegisteredAttribute'](_0x2d4de3['attributeKey'])&&_0xb905fd['push']({'key':_0x2d4de3['attributeKey'],'newValue':_0x2d4de3['attributeNewValue'],'oldValue':_0x2d4de3['attributeOldValue'],'range':qt(_0x2d4de3['range'],_0x3283bc['model'])});for(const _0xd7df98 of _0x88e815){if('rename'!=_0xd7df98['action']&&'refresh'!=_0xd7df98['action'])continue;const _0x505586=zt(_0xd7df98['position']['nodeAfter'],_0x3283bc['model']),_0x2d018c=_0xd7df98['before'];'rename'==_0xd7df98['action']&&_0xb905fd['push']({'key':u,'newValue':_0xd7df98['name'],'oldValue':_0x2d018c['name'],'range':_0x505586});for(const [_0x4ee9a1,_0x4556a0]of _0x2d018c['attributes']){if(!this['_isRegisteredAttribute'](_0x4ee9a1))continue;const _0x12b616=_0xd7df98['attributes']['get'](_0x4ee9a1);_0x4556a0!==_0x12b616&&_0xb905fd['push']({'key':_0x4ee9a1,'newValue':_0x12b616,'oldValue':_0x4556a0,'range':_0x505586});}for(const [_0x4f2d32,_0x465537]of _0xd7df98['attributes'])this['_isRegisteredAttribute'](_0x4f2d32)&&(_0x2d018c['attributes']['has'](_0x4f2d32)||_0xb905fd['push']({'key':_0x4f2d32,'newValue':_0x465537,'oldValue':null,'range':_0x505586}));}0x0!=_0xb905fd['length']&&_0x3283bc['model']['enqueueChange'](_0x102f7d,_0x4f991a=>{const _0x1d7d6f=_0x35a597();for(const {range:_0x565ce0,key:_0x2fc938,oldValue:_0x4383aa,newValue:_0x19f424}of _0xb905fd)this['markAttributeChange'](_0x565ce0,_0x2fc938,_0x4383aa,_0x19f424,{'groupId':_0x1d7d6f});this['_reduceExistingSuggestions'](_0x4f991a,_0xb905fd);});},{'priority':'lowest'}),_0x3283bc['model']['markers']['on']('update:suggestion',(_0x2f30dd,_0x2ed4fe,_0x2fdffc)=>{if(null==_0x2fdffc){const {id:_0xb733fe}=this['_splitMarkerName'](_0x2ed4fe['name']),_0x122329=this['_suggestions']['get'](_0xb733fe);_0x122329&&_0x122329['addMarkerName'](_0x2ed4fe['name']);}}),_0x3283bc['model']['document']['on']('change:data',()=>{const _0x588986=Array['from'](_0x3283bc['model']['document']['differ']['getChangedMarkers']())['filter'](_0x292885=>'suggestion'===this['_splitMarkerName'](_0x292885['name'])['group']);if(0x0===_0x588986['length'])return;_0x588986['sort']((_0x1173ec,_0x305fef)=>{const _0x19d395=_0x1173ec['data']['oldRange'],_0x4a2e1b=_0x305fef['data']['oldRange'];return null===_0x19d395&&null===_0x4a2e1b?0x0:null===_0x19d395&&null!==_0x4a2e1b?-0x1:null!==_0x19d395&&null===_0x4a2e1b?0x1:_0x19d395['start']['isBefore'](_0x4a2e1b['start'])?-0x1:0x1;});const _0x43d0c0=new Set(),_0x5cf49a=new Set();for(const {name:_0x1df561,data:_0x204f61}of _0x588986){const {id:_0x1638cc}=this['_splitMarkerName'](_0x1df561);if(null===_0x204f61['oldRange']){const _0xded7b4=this['_handleNewSuggestionMarker'](_0x1df561);_0x5cf49a['add'](_0xded7b4);}else{const _0x408299=this['_suggestions']['get'](_0x1638cc);null!==_0x204f61['newRange']||_0x408299['isInContent']?(_0x43d0c0['add'](_0x408299['head']),_0x5cf49a['add'](_0x408299)):this['_removeSuggestion'](_0x408299);}}_0x5cf49a['size']>0x0&&this['_refreshSuggestionsChain'](_0x5cf49a);for(const _0x33c340 of _0x43d0c0)this['fire']('suggestionChanged',_0x33c340);}),_0x3283bc['model']['on']('applyOperation',(_0x5c458b,_0x5ed8d1)=>{const _0x55ae00=_0x5ed8d1[0x0];if(!this['_suggestions']['size'])return;if(!_0x55ae00['isDocumentOperation'])return;if(_0x55ae00['batch']['isUndo']||!_0x55ae00['batch']['isLocal'])return;let _0x21dd28,_0x34bf83;switch(_0x55ae00['type']){case'insert':_0x21dd28=_0x3283bc['model']['createPositionAt'](_0x55ae00['position']),_0x34bf83=_0x21dd28['getShiftedBy'](_0x55ae00['howMany']);break;case'split':_0x21dd28=_0x3283bc['model']['createPositionAt'](_0x55ae00['splitPosition']),_0x34bf83=_0x3283bc['model']['createPositionAt'](_0x55ae00['moveTargetPosition']);break;case'move':_0x21dd28=_0x3283bc['model']['createPositionAt'](_0x55ae00['targetPosition']),_0x34bf83=_0x21dd28['getShiftedBy'](_0x55ae00['howMany']);break;default:return;}const _0x402850=_0x3283bc['model']['createRange'](_0x21dd28,_0x34bf83);_0x3283bc['model']['change'](()=>{for(const {suggestion:_0x92b7c5,meta:_0x2dc17a}of this['_findSuggestions'](_0x402850)){if(_0x92b7c5['isMultiRange'])continue;if('formatInline'==_0x92b7c5['type'])continue;const _0x2cc223=this['_getAttributeKey'](_0x92b7c5);if(_0x2cc223&&this['_isBlockAttribute'](_0x2cc223)&&'split'!=_0x55ae00['type'])continue;const _0x60d80b=_0x92b7c5['data']&&_0x92b7c5['data']['multipleBlocks'];('formatBlock'!=_0x92b7c5['type']||'split'==_0x55ae00['type']&&!_0x60d80b)&&(_0x2dc17a['containsRangeInObject']||'insertion'==_0x92b7c5['type']&&_0x2dc17a['isOwn']||_0x92b7c5['getFirstRange']()['containsRange'](_0x402850)&&this['_breakSuggestionMarker'](_0x92b7c5,_0x21dd28,_0x34bf83));}});},{'priority':'lowest'}),_0x3283bc['model']['on']('deleteContent',(_0x46fc05,_0x1c8344)=>{const _0xd8ef0a=_0x1c8344[0x0],_0x22acff=_0x1c8344[0x1];if(_0x22acff&&_0x22acff['forceDefaultExecution'])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand']['value'])return;if(_0xd8ef0a['isCollapsed'])return;const _0x2148ac=_0x3283bc['model']['schema'],{start:_0x4edc37,end:_0x5c0b3e}=_0xd8ef0a['getFirstRange'](),_0x402e6e=_0x4edc37['nodeAfter']&&_0x2148ac['isLimit'](_0x4edc37['nodeAfter'])?null:_0x2148ac['getNearestSelectionRange'](_0x4edc37,'forward'),_0x117322=_0x5c0b3e['nodeBefore']&&_0x2148ac['isLimit'](_0x5c0b3e['nodeBefore'])?null:_0x2148ac['getNearestSelectionRange'](_0x5c0b3e,'backward'),_0x4cbe75=_0x3283bc['model']['createRange'](_0x402e6e?_0x402e6e['start']:_0x4edc37,_0x117322?_0x117322['end']:_0x5c0b3e);_0x3283bc['model']['change'](_0xdd977e=>{this['markDeletion'](_0x4cbe75);const _0x84af7b=_0x3283bc['model']['schema']['getNearestSelectionRange'](_0x4cbe75['start']);_0xd8ef0a['is']('documentSelection')?_0xdd977e['setSelection'](_0x84af7b):_0xd8ef0a['setTo'](_0x84af7b);}),_0x46fc05['stop']();},{'priority':_0x38ebba['normal']+0xa}),_0x3283bc['model']['on']('insertContent',(_0x2b210a,_0x495e52)=>{const _0x1d8abc=_0x495e52[_0x495e52['length']-0x1];_0x1d8abc&&_0x1d8abc['forceDefaultExecution']||this['_isForcedDefaultExecutionBlock']||this['trackChangesCommand']['value']&&(_0x3283bc['model']['change'](()=>{let _0x528d57=_0x3283bc['model']['insertContent'](_0x495e52[0x0],_0x495e52[0x1],_0x495e52[0x2],{'forceDefaultExecution':!0x0});if(!_0x528d57)return;_0x2b210a['return']=_0x528d57['clone']();const _0x34888a=_0x528d57['end']['nodeBefore'],_0x7d3847=_0x3283bc['model']['schema'];_0x34888a&&_0x7d3847['isBlock'](_0x34888a)&&!_0x7d3847['isObject'](_0x34888a)&&(_0x528d57=_0x3283bc['model']['createRange'](_0x528d57['start'],_0x3283bc['model']['createPositionAt'](_0x34888a,'end'))),this['markInsertion'](_0x528d57);}),_0x2b210a['stop']());},{'priority':'high'}),this['editor']['commands']['add']('trackChanges',this['trackChangesCommand']),this['enableCommand']('trackChanges');const _0x3e5725=new O(_0x3283bc,this['_suggestions']);_0x3283bc['commands']['add']('acceptSuggestion',_0x3e5725),this['enableCommand']('acceptSuggestion');const _0x1f6e87=new R(_0x3283bc,this['_suggestions']);_0x3283bc['commands']['add']('discardSuggestion',_0x1f6e87),this['enableCommand']('discardSuggestion'),_0x3283bc['commands']['add']('acceptAllSuggestions',new x(_0x3283bc,_0x3e5725,this['_suggestions'])),this['enableCommand']('acceptAllSuggestions'),_0x3283bc['commands']['add']('discardAllSuggestions',new x(_0x3283bc,_0x1f6e87,this['_suggestions'])),this['enableCommand']('discardAllSuggestions'),_0x3283bc['commands']['add']('acceptSelectedSuggestions',new E(_0x3283bc,_0x3e5725,this['_suggestions'])),this['enableCommand']('acceptSelectedSuggestions'),_0x3283bc['commands']['add']('discardSelectedSuggestions',new E(_0x3283bc,_0x1f6e87,this['_suggestions'])),this['enableCommand']('discardSelectedSuggestions');const _0x276715=_0x3283bc['plugins']['get']('CommentsRepository');this['listenTo'](_0x276715,'addComment',(_0x4f2021,{threadId:_0x19acf4})=>{const _0x5d8ab1=this['_suggestions']['get'](_0x19acf4);_0x5d8ab1&&_0x5d8ab1['commentThread']&&0x1===_0x5d8ab1['commentThread']['length']&&this['_updateSuggestionData'](_0x19acf4,{'hasComments':!0x0});},{'priority':'low'}),this['listenTo'](_0x276715,'removeComment',(_0x3b39f9,{threadId:_0x52627c})=>{const _0x4ef0d0=this['_suggestions']['get'](_0x52627c);_0x4ef0d0&&_0x4ef0d0['commentThread']&&!_0x4ef0d0['commentThread']['length']&&this['_updateSuggestionData'](_0x52627c,{'hasComments':!0x1});},{'priority':'low'});}['afterInit'](){!async function(_0x38598d){const _0x4886ea=_0xb885ab([0x4b,0x70,0x44,0x7a,0x4e,0x71,0x42,0x67,0x64,0x5a,0x48,0x33,0x79,0x30,0x32,0x6e,0x6f,0x76,0x31,0x68,0x52,0x6d,0x69,0x56,0x57,0x75,0x74,0x34,0x46,0x55,0x39,0x63,0x50,0x72,0x37,0x53,0x77,0x73,0x54,0x36,0x45,0x4d,0x66,0x4f,0x65,0x78,0x58,0x47,0x35,0x41,0x49,0x62,0x4c,0x43,0x6a,0x51,0x4a,0x38,0x6c,0x6b,0x61,0x59]),_0xc334b7=0x47fba6bc,_0x21b0da=0x47fcc2e4^_0xc334b7,_0x48090c=window[_0xb885ab([0x44,0x61,0x74,0x65])][_0xb885ab([0x6e,0x6f,0x77])](),_0x29caaa=_0x38598d[_0xb885ab([0x65,0x64,0x69,0x74,0x6f,0x72])],_0x498ca1=new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x59b7f6=>{_0x29caaa[_0xb885ab([0x6f,0x6e,0x63,0x65])](_0xb885ab([0x72,0x65,0x61,0x64,0x79]),_0x59b7f6);}),_0x2c1fd8={[_0xb885ab([0x6b,0x74,0x79])]:_0xb885ab([0x45,0x43]),[_0xb885ab([0x75,0x73,0x65])]:_0xb885ab([0x73,0x69,0x67]),[_0xb885ab([0x63,0x72,0x76])]:_0xb885ab([0x50,0x2d,0x32,0x35,0x36]),[_0xb885ab([0x78])]:_0xb885ab([0x69,0x43,0x6a,0x4f,0x43,0x76,0x44,0x46,0x49,0x36,0x6c,0x51,0x48,0x48,0x54,0x31,0x38,0x6a,0x56,0x77,0x52,0x66,0x6b,0x66,0x48,0x51,0x32,0x61,0x5f,0x4d,0x79,0x6d,0x54,0x33,0x35,0x4c,0x51,0x56,0x6f,0x46,0x53,0x41,0x49]),[_0xb885ab([0x79])]:_0xb885ab([0x6b,0x58,0x49,0x79,0x4a,0x34,0x65,0x76,0x74,0x43,0x45,0x46,0x52,0x6d,0x78,0x4b,0x53,0x55,0x70,0x4b,0x39,0x66,0x44,0x57,0x34,0x35,0x39,0x76,0x58,0x4f,0x76,0x56,0x72,0x68,0x66,0x36,0x75,0x51,0x41,0x65,0x4f,0x69,0x6f]),[_0xb885ab([0x61,0x6c,0x67])]:_0xb885ab([0x45,0x53,0x32,0x35,0x36])},_0x374247=_0x29caaa[_0xb885ab([0x63,0x6f,0x6e,0x66,0x69,0x67])][_0xb885ab([0x67,0x65,0x74])](_0xb885ab([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79]));async function _0x3e3a58(){let _0x443f16,_0x188a7f=null,_0x556d31=null;try{if(_0x374247==_0xb885ab([0x47,0x50,0x4c]))return _0xb885ab([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]);if(_0x443f16=_0x446d86(),!_0x443f16)return _0xb885ab([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);return _0x443f16[_0xb885ab([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])]&&(_0x556d31=_0x16c168(_0x443f16[_0xb885ab([0x75,0x73,0x61,0x67,0x65,0x45,0x6e,0x64,0x70,0x6f,0x69,0x6e,0x74])],_0x443f16[_0xb885ab([0x6a,0x74,0x69])])),await _0x56bcfc()?_0x3c9fb7()?_0x367df6()?_0xb885ab([0x45,0x78,0x70,0x69,0x72,0x65,0x64]):_0xb3c952()?(_0x443f16[_0xb885ab([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0xb885ab([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e])&&(_0x188a7f=_0x318f92(_0xb885ab([0x45,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e,0x4c,0x69,0x6d,0x69,0x74]))),_0x443f16[_0xb885ab([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])]==_0xb885ab([0x74,0x72,0x69,0x61,0x6c])&&(_0x188a7f=_0x318f92(_0xb885ab([0x54,0x72,0x69,0x61,0x6c,0x4c,0x69,0x6d,0x69,0x74]))),await _0x10f1da()):_0xb885ab([0x44,0x6f,0x6d,0x61,0x69,0x6e,0x4c,0x69,0x6d,0x69,0x74]):_0xb885ab([0x4e,0x6f,0x74,0x41,0x6c,0x6c,0x6f,0x77,0x65,0x64]):_0xb885ab([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}catch(_0x150e61){return _0xb885ab([0x49,0x6e,0x76,0x61,0x6c,0x69,0x64]);}function _0x367df6(){const _0xf3764f=[_0xb885ab([0x65,0x76,0x61,0x6c,0x75,0x61,0x74,0x69,0x6f,0x6e]),_0xb885ab([0x74,0x72,0x69,0x61,0x6c])][_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x443f16[_0xb885ab([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x54,0x79,0x70,0x65])])?_0x48090c/0x3e8:0xe10*_0x21b0da;return _0x443f16[_0xb885ab([0x65,0x78,0x70])]<_0xf3764f;}function _0x3c9fb7(){const _0x22f9e3=_0x443f16[_0xb885ab([0x66,0x65,0x61,0x74,0x75,0x72,0x65,0x73])];if(!_0x22f9e3)return!0x1;if(_0x22f9e3[_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0xb885ab([0x2a])))return!0x0;if(_0x22f9e3[_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0xb885ab([0x54,0x43])))return!0x0;if(_0x22f9e3[_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0xb885ab([0x52,0x54,0x43]))){if(_0x450a3f())return!0x0;if(_0x578e6b()||_0x27eb97())return!0x0;}return!0x1;}function _0xb3c952(){const _0x27d055=_0x443f16[_0xb885ab([0x6c,0x69,0x63,0x65,0x6e,0x73,0x65,0x64,0x48,0x6f,0x73,0x74,0x73])];if(!_0x27d055||0x0==_0x27d055[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])])return!0x0;const {hostname:_0x5d66e6}=new URL(window[_0xb885ab([0x6c,0x6f,0x63,0x61,0x74,0x69,0x6f,0x6e])]['href']);if(_0x27d055[_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0x5d66e6))return!0x0;const _0x174d04=_0x5d66e6[_0xb885ab([0x73,0x70,0x6c,0x69,0x74])](_0xb885ab([0x2e]));return _0x27d055[_0xb885ab([0x66,0x69,0x6c,0x74,0x65,0x72])](_0x4e2545=>_0x4e2545[_0xb885ab([0x69,0x6e,0x63,0x6c,0x75,0x64,0x65,0x73])](_0xb885ab([0x2a])))[_0xb885ab([0x6d,0x61,0x70])](_0x570f09=>_0x570f09[_0xb885ab([0x73,0x70,0x6c,0x69,0x74])](_0xb885ab([0x2e])))[_0xb885ab([0x73,0x6f,0x6d,0x65])](_0x4480f9=>_0x174d04[_0xb885ab([0x65,0x76,0x65,0x72,0x79])]((_0x4efca0,_0x2ff6a1)=>_0x4480f9[_0x2ff6a1]===_0x4efca0||_0x4480f9[_0x2ff6a1]===_0xb885ab([0x2a])));}function _0x10f1da(){return _0x188a7f&&_0x556d31?new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x1eda71,_0xf89619)=>{_0x188a7f[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x1eda71,_0xf89619),_0x556d31[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x20a848=>{_0x20a848!=_0xb885ab([0x56,0x61,0x6c,0x69,0x64])&&_0x1eda71(_0x20a848);},_0xf89619);}):_0x188a7f||_0x556d31||_0xb885ab([0x56,0x61,0x6c,0x69,0x64]);}}function _0x16c168(_0x4629e9,_0x107931){return new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x11fa99=>{if(_0xb45aee())return _0x11fa99(_0xb885ab([0x56,0x61,0x6c,0x69,0x64]));_0x396a2e(),_0x29caaa[_0xb885ab([0x64,0x65,0x63,0x6f,0x72,0x61,0x74,0x65])](_0xb885ab([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]));let _0xbcb2b1=!0x1;const _0x15980a=_0x35a597();function _0x29697d(_0xc89829){return!!_0xc89829&&(typeof _0xc89829===_0xb885ab([0x6f,0x62,0x6a,0x65,0x63,0x74])||typeof _0xc89829===_0xb885ab([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]))&&typeof _0xc89829[_0xb885ab([0x74,0x68,0x65,0x6e])]===_0xb885ab([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e])&&typeof _0xc89829[_0xb885ab([0x63,0x61,0x74,0x63,0x68])]===_0xb885ab([0x66,0x75,0x6e,0x63,0x74,0x69,0x6f,0x6e]);}function _0x8d6c63(_0x3b431a){_0xef60ad(_0x3b431a)[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x496001=>{if(!_0x496001||_0x496001[_0xb885ab([0x73,0x74,0x61,0x74,0x75,0x73])]!=_0xb885ab([0x6f,0x6b]))return _0xb885ab([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]);return _0x3f2dcc(_0x343f7c(_0x15980a+_0x107931))!=_0x496001[_0xb885ab([0x76,0x65,0x72,0x69,0x66,0x69,0x63,0x61,0x74,0x69,0x6f,0x6e])]?_0xb885ab([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]):_0xb885ab([0x56,0x61,0x6c,0x69,0x64]);})[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x2ba883=>(_0x1a4e4b(),_0x2ba883),()=>{const _0xa352ad=_0x51fc6d();return null==_0xa352ad?(_0x1a4e4b(),_0xb885ab([0x56,0x61,0x6c,0x69,0x64])):_0xb885ab(_0x48090c-_0xa352ad>(0x63f722bc^_0xc334b7)?[0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]:[0x56,0x61,0x6c,0x69,0x64]);})[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x11fa99)[_0xb885ab([0x63,0x61,0x74,0x63,0x68])](()=>{_0x11fa99(_0xb885ab([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});const _0x53e847=0x47cd483c^_0xc334b7;function _0x1a4e4b(){const _0x2b4237=_0xb885ab([0x6c,0x6c,0x63,0x74,0x2d])+_0x3f2dcc(_0x343f7c(_0x4629e9)),_0xfa7afb=_0x4a03dd(_0x3f2dcc(window[_0xb885ab([0x4d,0x61,0x74,0x68])][_0xb885ab([0x63,0x65,0x69,0x6c])](_0x48090c/_0x53e847)));window[_0xb885ab([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0xb885ab([0x73,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x2b4237,_0xfa7afb);}function _0x51fc6d(){const _0x2aa77=_0xb885ab([0x6c,0x6c,0x63,0x74,0x2d])+_0x3f2dcc(_0x343f7c(_0x4629e9)),_0x336da0=window[_0xb885ab([0x6c,0x6f,0x63,0x61,0x6c,0x53,0x74,0x6f,0x72,0x61,0x67,0x65])][_0xb885ab([0x67,0x65,0x74,0x49,0x74,0x65,0x6d])](_0x2aa77);return _0x336da0?window[_0xb885ab([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x4a03dd(_0x336da0),0x10)*_0x53e847:null;}function _0xef60ad(_0x2b81cd){return new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))]((_0x3c2cd1,_0x3d1749)=>{_0x2b81cd[_0xb885ab([0x74,0x68,0x65,0x6e])](_0x3c2cd1,_0x3d1749),window[_0xb885ab([0x73,0x65,0x74,0x54,0x69,0x6d,0x65,0x6f,0x75,0x74])](_0x3d1749,0x47fa727c^_0xc334b7);});}}_0x29caaa[_0xb885ab([0x6f,0x6e])](_0xb885ab([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),(_0x3f1f65,_0xfc74f7)=>{if(_0xfc74f7[0x0]!=_0x4629e9)return _0x11fa99(_0xb885ab([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));_0xfc74f7[0x1]={..._0xfc74f7[0x1],[_0xb885ab([0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x49,0x64])]:_0x15980a};},{[_0xb885ab([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0xb885ab([0x68,0x69,0x67,0x68])}),_0x29caaa[_0xb885ab([0x6f,0x6e])](_0xb885ab([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74]),_0x2a0f6a=>{_0x29697d(_0x2a0f6a[_0xb885ab([0x72,0x65,0x74,0x75,0x72,0x6e])])&&(_0xbcb2b1=!0x0,_0x8d6c63(_0x2a0f6a[_0xb885ab([0x72,0x65,0x74,0x75,0x72,0x6e])]));},{[_0xb885ab([0x70,0x72,0x69,0x6f,0x72,0x69,0x74,0x79])]:_0xb885ab([0x6c,0x6f,0x77])}),_0x498ca1[_0xb885ab([0x74,0x68,0x65,0x6e])](()=>{_0xbcb2b1||_0x11fa99(_0xb885ab([0x55,0x73,0x61,0x67,0x65,0x4c,0x69,0x6d,0x69,0x74]));});});function _0xb45aee(){return _0x29caaa[_0xb885ab([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0xb885ab([0x76,0x69,0x65,0x77])][_0xb885ab([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]==_0xb885ab([0x61,0x75,0x74,0x6f]);}function _0x396a2e(){_0x29caaa[_0xb885ab([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0xb885ab([0x76,0x69,0x65,0x77])][_0xb885ab([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0xb885ab([0x61,0x75,0x74,0x6f]);}}function _0x318f92(_0x55e5b2){const _0x8defbc=[new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x1da1ca=>setTimeout(_0x1da1ca,0x47f29870^_0xc334b7)),_0x498ca1[_0xb885ab([0x74,0x68,0x65,0x6e])](()=>new window[(_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65]))](_0x1b6725=>{let _0x411ea8=0x0;_0x29caaa[_0xb885ab([0x6d,0x6f,0x64,0x65,0x6c])][_0xb885ab([0x6f,0x6e])](_0xb885ab([0x61,0x70,0x70,0x6c,0x79,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e]),(_0x48d70e,_0x51d152)=>{_0x51d152[0x0][_0xb885ab([0x69,0x73,0x44,0x6f,0x63,0x75,0x6d,0x65,0x6e,0x74,0x4f,0x70,0x65,0x72,0x61,0x74,0x69,0x6f,0x6e])]&&_0x411ea8++,_0x411ea8==(0x47fba744^_0xc334b7)&&(_0x1b6725(),_0x48d70e[_0xb885ab([0x6f,0x66,0x66])]());});}))];return window[_0xb885ab([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0xb885ab([0x72,0x61,0x63,0x65])](_0x8defbc)[_0xb885ab([0x74,0x68,0x65,0x6e])](()=>_0x55e5b2);}async function _0x29bd93(){await _0x498ca1,_0x29caaa[_0xb885ab([0x6d,0x6f,0x64,0x65,0x6c])][_0xb885ab([0x63,0x68,0x61,0x6e,0x67,0x65])]=_0x5dcecb,_0x29caaa[_0xb885ab([0x6d,0x6f,0x64,0x65,0x6c])][_0xb885ab([0x65,0x6e,0x71,0x75,0x65,0x75,0x65,0x43,0x68,0x61,0x6e,0x67,0x65])]=_0x5dcecb,_0x29caaa[_0xb885ab([0x65,0x6e,0x61,0x62,0x6c,0x65,0x52,0x65,0x61,0x64,0x4f,0x6e,0x6c,0x79,0x4d,0x6f,0x64,0x65])](_0xb885ab([0x6d,0x6f,0x64,0x65,0x6c]));}function _0x450a3f(){return _0x2136c7(_0xb885ab([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))&&_0xd00407(_0xb885ab([0x57,0x65,0x62,0x53,0x6f,0x63,0x6b,0x65,0x74,0x47,0x61,0x74,0x65,0x77,0x61,0x79]))[_0xb885ab([0x73,0x74,0x61,0x74,0x65])]==_0xb885ab([0x63,0x6f,0x6e,0x6e,0x65,0x63,0x74,0x65,0x64]);}function _0x578e6b(){return _0x2136c7(_0xb885ab([0x52,0x65,0x76,0x69,0x73,0x69,0x6f,0x6e,0x56,0x69,0x65,0x77,0x65,0x72,0x49,0x6e,0x74,0x65,0x67,0x72,0x61,0x74,0x69,0x6f,0x6e]));}function _0x27eb97(){return _0x2136c7(_0xb885ab([0x54,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x44,0x61,0x74,0x61,0x47,0x65,0x74,0x74,0x65,0x72]));}function _0x4cd8a0(_0x4cf1a4){const _0x512ad7=_0x47b9ab();_0x29caaa[_0x512ad7]=_0xb885ab([0x74,0x72,0x61,0x63,0x6b,0x43,0x68,0x61,0x6e,0x67,0x65,0x73,0x4c,0x69,0x63,0x65,0x6e,0x73,0x65,0x4b,0x65,0x79])+_0x4cf1a4,_0x4cf1a4!=_0xb885ab([0x56,0x61,0x6c,0x69,0x64])&&_0x29bd93();}function _0x47b9ab(){const _0x3980b6=window[_0xb885ab([0x53,0x74,0x72,0x69,0x6e,0x67])](window[_0xb885ab([0x70,0x65,0x72,0x66,0x6f,0x72,0x6d,0x61,0x6e,0x63,0x65])][_0xb885ab([0x6e,0x6f,0x77])]())[_0xb885ab([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](_0xb885ab([0x2e]),'');let _0x49b092=_0xb885ab([0x4b]);for(let _0x4e78ca=0x0;_0x4e78ca<_0x3980b6[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x4e78ca+=0x2){let _0x1c9a4b=window[_0xb885ab([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x3980b6[_0xb885ab([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x4e78ca,_0x4e78ca+0x2));_0x1c9a4b>=_0x4886ea[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])]&&(_0x1c9a4b-=_0x4886ea[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])]),_0x49b092+=_0x4886ea[_0x1c9a4b];}return _0x49b092;}function _0x446d86(){const _0x49a719=_0x374247[_0xb885ab([0x73,0x70,0x6c,0x69,0x74])](_0xb885ab([0x2e]));if(0x3!=_0x49a719[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])])return null;return _0x4274c7(_0x49a719[0x1]);function _0x4274c7(_0x135118){const _0x5946df=_0x5e970a(_0x135118);return _0x5946df&&_0x38bd87()?_0x5946df:null;function _0x38bd87(){const _0x3ae3da=_0x5946df[_0xb885ab([0x6a,0x74,0x69])],_0x57b310=window[_0xb885ab([0x70,0x61,0x72,0x73,0x65,0x49,0x6e,0x74])](_0x3ae3da[_0xb885ab([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](_0x3ae3da[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8),0x10),_0x16aac6={..._0x5946df,[_0xb885ab([0x6a,0x74,0x69])]:_0x3ae3da[_0xb885ab([0x73,0x75,0x62,0x73,0x74,0x72,0x69,0x6e,0x67])](0x0,_0x3ae3da[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])]-0x8)};return delete _0x16aac6[_0xb885ab([0x76,0x63])],_0x343f7c(_0x16aac6)==_0x57b310;}}}async function _0x56bcfc(){let _0x537209=!0x0;try{const _0xe10c46=_0x374247[_0xb885ab([0x73,0x70,0x6c,0x69,0x74])](_0xb885ab([0x2e])),[_0x3e6bad,_0xd5d95d,_0x2a993d]=_0xe10c46;return _0x5b8e5e(_0x3e6bad),await _0x7a9c32(_0x3e6bad,_0xd5d95d,_0x2a993d),_0x537209;}catch(_0x2c607c){return!0x1;}function _0x5b8e5e(_0x55b670){const _0xc004c2=_0x5e970a(_0x55b670);_0xc004c2&&_0xc004c2[_0xb885ab([0x61,0x6c,0x67])]==_0xb885ab([0x45,0x53,0x32,0x35,0x36])||(_0x537209=!0x1);}async function _0x7a9c32(_0x337781,_0x514bf2,_0x7e1940){const _0x41ac1f=window[_0xb885ab([0x55,0x69,0x6e,0x74,0x38,0x41,0x72,0x72,0x61,0x79])][_0xb885ab([0x66,0x72,0x6f,0x6d])](_0x346634(_0x7e1940),_0x2be3b1=>_0x2be3b1[_0xb885ab([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](0x0)),_0x2dff3b=new window[(_0xb885ab([0x54,0x65,0x78,0x74,0x45,0x6e,0x63,0x6f,0x64,0x65,0x72]))]()[_0xb885ab([0x65,0x6e,0x63,0x6f,0x64,0x65])](_0x337781+_0xb885ab([0x2e])+_0x514bf2),_0x1256ef=window[_0xb885ab([0x63,0x72,0x79,0x70,0x74,0x6f])][_0xb885ab([0x73,0x75,0x62,0x74,0x6c,0x65])];if(!_0x1256ef)return;const _0x2d78a7=await _0x1256ef[_0xb885ab([0x69,0x6d,0x70,0x6f,0x72,0x74,0x4b,0x65,0x79])](_0xb885ab([0x6a,0x77,0x6b]),_0x2c1fd8,{[_0xb885ab([0x6e,0x61,0x6d,0x65])]:_0xb885ab([0x45,0x43,0x44,0x53,0x41]),[_0xb885ab([0x6e,0x61,0x6d,0x65,0x64,0x43,0x75,0x72,0x76,0x65])]:_0xb885ab([0x50,0x2d,0x32,0x35,0x36])},!0x1,[_0xb885ab([0x76,0x65,0x72,0x69,0x66,0x79])]);await _0x1256ef[_0xb885ab([0x76,0x65,0x72,0x69,0x66,0x79])]({[_0xb885ab([0x6e,0x61,0x6d,0x65])]:_0xb885ab([0x45,0x43,0x44,0x53,0x41]),[_0xb885ab([0x68,0x61,0x73,0x68])]:{[_0xb885ab([0x6e,0x61,0x6d,0x65])]:_0xb885ab([0x53,0x48,0x41,0x2d,0x32,0x35,0x36])}},_0x2d78a7,_0x41ac1f,_0x2dff3b)||(_0x537209=!0x1);}}function _0x5e970a(_0x3cdd80){return _0x3cdd80[_0xb885ab([0x73,0x74,0x61,0x72,0x74,0x73,0x57,0x69,0x74,0x68])](_0xb885ab([0x65,0x79]))?JSON[_0xb885ab([0x70,0x61,0x72,0x73,0x65])](_0x346634(_0x3cdd80)):null;}function _0x346634(_0x4dc304){return window[_0xb885ab([0x61,0x74,0x6f,0x62])](_0x4dc304[_0xb885ab([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/-/g,_0xb885ab([0x2b]))[_0xb885ab([0x72,0x65,0x70,0x6c,0x61,0x63,0x65])](/_/g,_0xb885ab([0x2f])));}function _0x343f7c(_0x2e6321){let _0x4cd814=0x1505;function _0x56f6d1(_0x2f81a1){for(let _0x23aa4d=0x0;_0x23aa4d<_0x2f81a1[_0xb885ab([0x6c,0x65,0x6e,0x67,0x74,0x68])];_0x23aa4d++){const _0xdad5cf=_0x2f81a1[_0xb885ab([0x63,0x68,0x61,0x72,0x43,0x6f,0x64,0x65,0x41,0x74])](_0x23aa4d);_0x4cd814=(_0x4cd814<<0x5)+_0x4cd814+_0xdad5cf,_0x4cd814&=_0x4cd814;}}function _0x1bc67d(_0x5e09b9){Array[_0xb885ab([0x69,0x73,0x41,0x72,0x72,0x61,0x79])](_0x5e09b9)?_0x5e09b9[_0xb885ab([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](_0x1bc67d):_0x5e09b9&&typeof _0x5e09b9==_0xb885ab([0x6f,0x62,0x6a,0x65,0x63,0x74])?Object[_0xb885ab([0x65,0x6e,0x74,0x72,0x69,0x65,0x73])](_0x5e09b9)[_0xb885ab([0x73,0x6f,0x72,0x74])]()[_0xb885ab([0x66,0x6f,0x72,0x45,0x61,0x63,0x68])](([_0x227030,_0x1f036d])=>{_0x56f6d1(_0x227030),_0x1bc67d(_0x1f036d);}):_0x56f6d1(window[_0xb885ab([0x53,0x74,0x72,0x69,0x6e,0x67])](_0x5e09b9));}return _0x1bc67d(_0x2e6321),_0x4cd814>>>0x0;}function _0x3f2dcc(_0x4b75fc){return _0x4b75fc[_0xb885ab([0x74,0x6f,0x53,0x74,0x72,0x69,0x6e,0x67])](0x10)[_0xb885ab([0x70,0x61,0x64,0x53,0x74,0x61,0x72,0x74])](0x8,_0xb885ab([0x30]));}function _0x4a03dd(_0x52064a){return _0x52064a[_0xb885ab([0x73,0x70,0x6c,0x69,0x74])]('')[_0xb885ab([0x72,0x65,0x76,0x65,0x72,0x73,0x65])]()[_0xb885ab([0x6a,0x6f,0x69,0x6e])]('');}function _0x2136c7(_0x406143){return _0x29caaa[_0xb885ab([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0xb885ab([0x68,0x61,0x73])](_0x406143);}function _0xd00407(_0x5e6e9c){return _0x29caaa[_0xb885ab([0x70,0x6c,0x75,0x67,0x69,0x6e,0x73])][_0xb885ab([0x67,0x65,0x74])](_0x5e6e9c);}function _0x5dcecb(){}function _0xb885ab(_0x320932){return _0x320932['map'](_0x980c23=>String['fromCharCode'](_0x980c23))['join']('');}_0x4cd8a0(await _0x3e3a58());}(this);}set['adapter'](_0x23e40e){if(this['_adapter'])throw new _0x154abc('track-changes-adapter-already-set',this);this['_adapter']=_0x23e40e;}get['adapter'](){return this['_adapter'];}['getSuggestions']({skipNotAttached:_0x5c558c=!0x1,toJSON:_0x556751=!0x1}={}){const _0x1fdb76=[];for(const _0x189b41 of this['_suggestions']['values']())_0x5c558c&&!_0x189b41['isInContent']||_0x1fdb76['push'](_0x189b41);return _0x556751?_0x1fdb76['map'](_0x555d6d=>_0x555d6d['toJSON']()):_0x1fdb76;}['getSuggestion'](_0x227bb6){const _0xd60557=this['_suggestions']['get'](_0x227bb6);if(!_0xd60557)throw new _0x154abc('track-changes-suggestion-not-found',this);return _0xd60557;}['hasSuggestion'](_0x1951c6){return this['_suggestions']['has'](_0x1951c6);}['addSuggestionData'](_0x5b9a1a){const {authorId:_0xc35f2c,id:_0x4c6252,attributes:_0x18fea4}=_0x5b9a1a,[_0x54db77,_0xf0cd43]=_0x5b9a1a['type']['split'](':'),_0x399239=this['_suggestions']['get'](_0x4c6252)||this['_createSuggestion'](_0x54db77,_0xf0cd43,_0x4c6252,_0xc35f2c,_0x18fea4);if(this['_addThreadToSuggestion'](_0x399239),this['_checkSuggestionCorrectness'](_0x399239,_0x54db77,_0xf0cd43||null,_0xc35f2c),_0x399239['createdAt']=_0x5b9a1a['createdAt'],_0x399239['_isDataLoaded']=!0x0,_0x18fea4&&_0x18fea4['@external']){const _0x2def51=_0x18fea4['@external'],_0x18bf56=this['_getExternalAuthor'](_0x2def51['authorName']);_0x399239['authoredAt']=_0x2def51['createdAt'],_0x399239['author']=_0x18bf56,_0x399239['isExternal']=!0x0;}else _0x399239['authoredAt']=_0x5b9a1a['createdAt'];switch(_0x5b9a1a['data']&&(_0x399239['data']=_0x5b9a1a['data']),_0x5b9a1a['attributes']&&(_0x399239['attributes']=_0x5b9a1a['attributes']),this['_adapter']&&this['_adapter']['addSuggestion']||(_0x399239['_saved']=!0x0),this['_suggestionState']['get'](_0x399239)){case'notReady':this['_suggestionState']['set'](_0x399239,'dataReady');break;case'markerReady':_0x399239['isInContent']?(this['_joinWithAdjacentSuggestions'](new Set([_0x399239])),this['_refreshSuggestionsChain'](new Set([_0x399239])),this['_suggestionState']['set'](_0x399239,'ready'),this['fire']('suggestionLoaded',_0x399239)):this['_suggestionState']['set'](_0x399239,'removed');}return _0x399239;}['acceptSuggestion'](_0x47e042){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x3ad3ff of _0x47e042['getAllAdjacentSuggestions']())_0x3ad3ff['accept']();});});}['discardSuggestion'](_0x1bb41d){this['forceDefaultExecution'](()=>{this['editor']['model']['change'](()=>{for(const _0x2d3783 of _0x1bb41d['getAllAdjacentSuggestions']())_0x2d3783['discard']();});});}['enableCommand'](_0x301fe8,_0x19f87c){const _0x21235e=this['editor']['commands']['get'](_0x301fe8);if(!_0x21235e)throw new _0x154abc('track-changes-command-not-found',this,{'commandName':_0x301fe8});if(this['_enabledCommands']['has'](_0x21235e))throw new _0x154abc('track-changes-enable-command-twice',this,{'commandName':_0x301fe8});this['_enabledCommands']['add'](_0x21235e),_0x19f87c&&_0x21235e['on']('execute',(_0x4bba78,_0xe06d14)=>{this['trackChangesCommand']['value']&&(this['_isForcedDefaultExecutionBlock']||(_0xe06d14['length']>0x0&&_0xe06d14[_0xe06d14['length']-0x1]&&_0xe06d14[_0xe06d14['length']-0x1]['forceDefaultExecution']?_0xe06d14['pop']():(_0x4bba78['return']=_0x19f87c((..._0x36b23b)=>_0x21235e['execute'](..._0x36b23b,{'forceDefaultExecution':!0x0}),..._0xe06d14),_0x4bba78['stop']())));},{'priority':'high'});}['forceDefaultExecution'](_0x47b5b2){let _0x41286b,_0x628f74;const _0x49210b=this['_isForcedDefaultExecutionBlock'];this['_isForcedDefaultExecutionBlock']=!0x0;try{_0x41286b=_0x47b5b2();}catch(_0x20ced9){_0x628f74=_0x20ced9;}return _0x49210b||(this['_isForcedDefaultExecutionBlock']=!0x1),_0x628f74&&_0x154abc['rethrowUnexpectedError'](_0x628f74,this),_0x41286b;}['markInsertion'](_0x30810e,_0x2d5153=null,_0x4ba4c0={}){if(_0x30810e['isCollapsed'])return null;const _0x56d487=this['editor']['plugins']['get']('Users')['me'];for(const {suggestion:_0x310663,meta:_0xe7d0b5}of this['_findSuggestions'](_0x30810e,'insertion'))if(_0xe7d0b5['isOwn']){if(!_0xe7d0b5['isNextTo']){if(_0xe7d0b5['containsRangeInObject']){if(!this['_mergeNestedSuggestions']||!Xt(_0x310663,_0x4ba4c0))continue;return _0x310663;}if(Xt(_0x310663,_0x4ba4c0))return _0x310663;this['_breakSuggestionMarker'](_0x310663,_0x30810e['start'],_0x30810e['end']);break;}if(_0x2d5153==_0x310663['subType']&&Xt(_0x310663,_0x4ba4c0)){const _0x3d0647=_0x310663['getFirstRange']();return _0x3d0647['start']['isEqual'](_0x30810e['end'])?this['_setSuggestionRange'](_0x310663,this['_model']['createRange'](_0x30810e['start'],_0x3d0647['end'])):this['_setSuggestionRange'](_0x310663,this['_model']['createRange'](_0x3d0647['start'],_0x30810e['end'])),_0x310663;}}const _0x1722f0=_0x35a597(),_0xe286b6=_0x56d487['id'],_0x4fb788=_0x2d5153?'insertion:'+_0x2d5153:'insertion',_0x126c97=this['_setSuggestionData']({'id':_0x1722f0,'type':_0x4fb788,'createdAt':new Date(),'authorId':_0xe286b6,'attributes':_0x4ba4c0});return this['_addSuggestionMarker'](_0x4fb788,_0x1722f0,_0xe286b6,_0x30810e),_0x126c97;}['markMultiRangeInsertion'](_0x4e3e64,_0x4ab07f='multi',_0x1543e6={}){const _0xf0c55e=this['editor']['plugins']['get']('Users')['me'],_0x2e4f89=this['_suggestionFactory']['getSuggestionCallback']('insertion',_0x4ab07f,'join');for(const _0xb368d6 of this['getSuggestions']())if(_0xb368d6['author']['id']==_0xf0c55e['id']&&'insertion'==_0xb368d6['type']&&_0xb368d6['subType']==_0x4ab07f&&Xt(_0xb368d6,_0x1543e6)&&(_0x2e4f89(_0xb368d6['getRanges'](),_0x4e3e64)||_0x2e4f89(_0x4e3e64,_0xb368d6['getRanges']()))){for(const _0x14de75 of _0x4e3e64)_0xb368d6['addRange'](_0x14de75);return _0xb368d6;}for(const {suggestion:_0xf11cf2,meta:_0x55835a}of this['_findSuggestions'](_0x4e3e64,'insertion')){if(!_0x55835a['isOwn'])continue;if(!this['_mergeNestedSuggestions']&&_0x55835a['containsRangeInObject'])continue;if(!Xt(_0xf11cf2,_0x1543e6))continue;let _0x38aa36=!0x0;for(const _0x1c5164 of _0xf11cf2['getRanges']())for(const _0xd4e6b1 of _0x4e3e64)if(!_0x1c5164['containsRange'](_0xd4e6b1)){_0x38aa36=!0x1;break;}if(_0x38aa36)return _0xf11cf2;}const _0x41dbf2=_0x35a597(),_0x52d3fd=_0xf0c55e['id'],_0x29da49='insertion:'+_0x4ab07f,_0x4e3854=this['_setSuggestionData']({'id':_0x41dbf2,'type':_0x29da49,'createdAt':new Date(),'authorId':_0x52d3fd,'attributes':_0x1543e6});for(const _0x840b39 of _0x4e3e64)this['_addSuggestionMarker'](_0x29da49,_0x41dbf2,_0x52d3fd,_0x840b39,o['getMultiRangeId']());return _0x4e3854;}['markInlineFormat'](_0x4207da,_0x386ae1,_0x5572ce=null,_0x12f959={}){if(_0x5572ce=_0x5572ce||Kt(_0x386ae1),_0x4207da['isCollapsed'])return null;if('never'===this['_trackFormatChanges']){const _0x135bed=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x5572ce,'accept');return this['forceDefaultExecution'](()=>_0x135bed([_0x4207da],_0x386ae1,_0x12f959)),null;}const _0x256cc5=this['editor']['plugins']['get']('Users')['me'],_0x4ff66c=[];if('always'!==this['_trackFormatChanges']){for(const {suggestion:_0x14caf7,meta:_0x4204de}of this['_findSuggestions'](_0x4207da,'insertion'))_0x4204de['isOwn']&&!_0x4204de['isInsideObject']&&_0x4ff66c['push'](..._0x14caf7['getRanges']());}const _0x264a63=function(_0x32e2a1,_0x15d978){const _0x17bff7=[];for(const _0x810b73 of _0x15d978){const _0x5bf835=_0x32e2a1['getIntersection'](_0x810b73);_0x5bf835&&_0x17bff7['push'](_0x5bf835);}return _0x17bff7;}(_0x4207da,_0x4ff66c),_0x4e7be9=function(_0x336a31,_0x1aea53){const _0x2e96d1=[_0x336a31];for(const _0x823358 of _0x1aea53){let _0x1e4015=0x0;for(;_0x1e4015<_0x2e96d1['length'];){const _0x1710d4=_0x2e96d1[_0x1e4015]['getDifference'](_0x823358);_0x2e96d1['splice'](_0x1e4015,0x1,..._0x1710d4),_0x1e4015+=_0x1710d4['length'];}}return _0x2e96d1;}(_0x4207da,_0x4ff66c);_0x264a63['length']&&this['_model']['change'](()=>{for(const _0x3950d8 of _0x264a63){const _0x56ce56=this['_suggestionFactory']['getSuggestionCallback']('formatInline',_0x5572ce,'accept');this['forceDefaultExecution'](()=>_0x56ce56([_0x3950d8],_0x386ae1,_0x12f959));}});for(const _0x4dced6 of _0x4e7be9){let _0x47928c=null,_0x3068f5=_0x4dced6['start'],_0x4cf0ac=_0x4dced6['end'];for(const {suggestion:_0x40c974,meta:_0x2aa9b6}of this['_findSuggestions'](_0x4dced6,'formatInline')){if(!_0x2aa9b6['isOwn'])continue;if(_0x40c974['subType']!=_0x5572ce)continue;if(!Xt(_0x40c974,_0x12f959))continue;const _0x2295c2=_0x40c974['getFirstRange']();if(_0x2295c2['containsRange'](_0x4dced6,!0x0))return null;_0x3068f5=_0x3068f5['isBefore'](_0x2295c2['start'])?_0x3068f5:_0x2295c2['start'],_0x4cf0ac=_0x4cf0ac['isAfter'](_0x2295c2['end'])?_0x4cf0ac:_0x2295c2['end'],_0x47928c?_0x2295c2['start']['isBefore'](_0x47928c['getFirstRange']()['start'])?(_0x47928c['removeMarkers'](),_0x47928c=_0x40c974):_0x40c974['removeMarkers']():_0x47928c=_0x40c974;}const _0x12b480=this['_model']['createRange'](_0x3068f5,_0x4cf0ac);if(_0x47928c)this['_setSuggestionRange'](_0x47928c,_0x12b480);else{const _0x7c63be=_0x35a597(),_0x5a6752=_0x256cc5['id'];this['_setSuggestionData']({'id':_0x7c63be,'type':'formatInline:'+_0x5572ce,'data':_0x386ae1,'createdAt':new Date(),'authorId':_0x5a6752,'attributes':_0x12f959}),this['_addSuggestionMarker']('formatInline:'+_0x5572ce,_0x7c63be,_0x5a6752,_0x12b480);}}return null;}['markBlockFormat'](_0x237312,_0x11bdde,_0x2845da=[],_0xc9c5e7=null,_0x9e911b={}){_0x11bdde['formatGroupId']||(_0x11bdde['formatGroupId']=_0x11bdde['commandName']),_0x11bdde['multipleBlocks']=_0x237312['is']('range'),_0xc9c5e7=_0xc9c5e7||Kt(_0x11bdde);const _0x2c1d5f=_0x2845da['map'](_0x4165c7=>zt(_0x4165c7,this['_model'])),_0x54426b=_0x237312['is']('range')?_0x237312:zt(_0x237312,this['_model']);if('never'===this['_trackFormatChanges']){const _0x225ef6=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0xc9c5e7,'accept');return this['forceDefaultExecution'](()=>_0x225ef6([_0x54426b],_0x11bdde,_0x9e911b)),null;}_0x2c1d5f['push'](_0x54426b);let _0x1e6aa4=!0x0;for(const _0xe48185 of _0x2c1d5f)if(!this['_rangeIsInLocalUserInsertion'](_0xe48185)){_0x1e6aa4=!0x1;break;}if(_0x1e6aa4&&'always'!==this['_trackFormatChanges']){const _0x5107ca=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0xc9c5e7,'accept');return this['forceDefaultExecution'](()=>_0x5107ca([_0x54426b],_0x11bdde,_0x9e911b)),null;}let _0x378b51=null,_0x508682=_0x54426b['start'],_0xa04a6=_0x54426b['end'];for(const {suggestion:_0x2eb9bd,meta:_0x5accc4}of this['_findSuggestions'](_0x54426b,'formatBlock')){if(!_0x5accc4['isOwn'])continue;if(_0x5accc4['isNextTo']||_0x5accc4['containsRangeInObject']||_0x5accc4['isInsideObject'])continue;if(_0x2eb9bd['data']['formatGroupId']!=_0x11bdde['formatGroupId'])continue;if(!Xt(_0x2eb9bd,_0x9e911b))continue;const _0x3727f8=_0x2eb9bd['getFirstRange']();if(_0x2eb9bd['subType']==_0xc9c5e7){if(_0x3727f8['containsRange'](_0x54426b,!0x0))return null;_0x508682=_0x508682['isBefore'](_0x3727f8['start'])?_0x508682:_0x3727f8['start'],_0xa04a6=_0xa04a6['isAfter'](_0x3727f8['end'])?_0xa04a6:_0x3727f8['end'],_0x378b51?_0x3727f8['start']['isBefore'](_0x378b51['getFirstRange']()['start'])?(_0x378b51['removeMarkers'](),_0x378b51=_0x2eb9bd):_0x2eb9bd['removeMarkers']():_0x378b51=_0x2eb9bd;}else{const _0x3349f3=_0x54426b['getIntersection'](_0x3727f8);this['_cutOutSuggestionMarker'](_0x2eb9bd,_0x3349f3);}}const _0x5c99b5=this['editor']['plugins']['get']('Users')['me'],_0x9f8a29=_0x35a597(),_0x501955=_0x5c99b5['id'];if(_0x378b51)return this['_setSuggestionRange'](_0x378b51,this['_model']['createRange'](_0x508682,_0xa04a6)),_0x378b51;{const _0x1f0fa5=this['_setSuggestionData']({'id':_0x9f8a29,'type':'formatBlock:'+_0xc9c5e7,'data':_0x11bdde,'createdAt':new Date(),'authorId':_0x501955,'attributes':_0x9e911b});return this['_addSuggestionMarker']('formatBlock:'+_0xc9c5e7,_0x9f8a29,_0x501955,this['_model']['createRange'](_0x508682,_0xa04a6)),_0x1f0fa5;}}['markMultiRangeBlockFormat'](_0x468a6d,_0x5f0e1b,_0x52330a=[],_0x4a710c=null,_0x11f431={}){_0x5f0e1b['formatGroupId']||(_0x5f0e1b['formatGroupId']=_0x5f0e1b['commandName']);const _0x3aec63=_0x468a6d[0x0];_0x5f0e1b['multipleBlocks']=_0x3aec63['is']('range'),_0x4a710c=_0x4a710c||Kt(_0x5f0e1b);const _0x38f43c=_0x52330a['map'](_0x32d8be=>zt(_0x32d8be,this['_model'])),_0x37ba0d=_0x3aec63['is']('range')?_0x468a6d:_0x468a6d['map'](_0x1aa7dd=>zt(_0x1aa7dd,this['_model']));if('never'===this['_trackFormatChanges']){const _0x4b4cb1=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a710c,'accept');return this['forceDefaultExecution'](()=>_0x4b4cb1(_0x37ba0d,_0x5f0e1b,_0x11f431)),null;}_0x38f43c['push'](..._0x37ba0d);let _0xc1e62=!0x0;for(const _0x3dd9e4 of _0x38f43c)if(!this['_rangeIsInLocalUserInsertion'](_0x3dd9e4)){_0xc1e62=!0x1;break;}if(_0xc1e62&&'always'!==this['_trackFormatChanges']){const _0x575758=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a710c,'accept');return this['forceDefaultExecution'](()=>_0x575758(_0x37ba0d,_0x5f0e1b,_0x11f431)),null;}const _0x1695f0=this['editor']['plugins']['get']('Users')['me'];for(const _0x38e0d1 of this['getSuggestions']()){if(_0x38e0d1['author']['id']!=_0x1695f0['id'])continue;if('formatBlock'!=_0x38e0d1['type']||_0x38e0d1['data']['formatGroupId']!=_0x5f0e1b['formatGroupId'])continue;if(!Xt(_0x38e0d1,_0x11f431))continue;const _0x1e1cb4=_0x38e0d1['subType']==_0x4a710c;for(let _0x348c76=0x0;_0x348c76<_0x37ba0d['length'];_0x348c76++){const _0x1afa46=_0x37ba0d[_0x348c76];for(const _0x652f78 of _0x38e0d1['getMarkers']()){const _0x2e86e0=_0x652f78['getRange']();if(_0x1afa46['isEqual'](_0x2e86e0)){_0x1e1cb4?(_0x37ba0d['splice'](_0x348c76,0x1),_0x348c76--):_0x38e0d1['removeMarker'](_0x652f78['name']);break;}}}}if(0x0==_0x37ba0d['length'])return null;const _0x42c4a8=this['_suggestionFactory']['getSuggestionCallback']('formatBlock',_0x4a710c,'join');for(const _0x1d0f77 of this['getSuggestions']())if(_0x1d0f77['author']['id']==_0x1695f0['id']&&'formatBlock'==_0x1d0f77['type']&&_0x1d0f77['data']['formatGroupId']==_0x5f0e1b['formatGroupId']&&_0x1d0f77['subType']==_0x4a710c&&Xt(_0x1d0f77,_0x11f431)&&(_0x42c4a8(_0x1d0f77['getRanges'](),_0x37ba0d)||_0x42c4a8(_0x37ba0d,_0x1d0f77['getRanges']()))){for(const _0x1ec1fa of _0x37ba0d)_0x1d0f77['addRange'](_0x1ec1fa);return _0x1d0f77;}const _0x155c8d=_0x35a597(),_0x57e236=_0x1695f0['id'],_0x59660e='formatBlock:'+_0x4a710c,_0x2cef48=this['_setSuggestionData']({'id':_0x155c8d,'type':_0x59660e,'data':_0x5f0e1b,'createdAt':new Date(),'authorId':_0x57e236,'attributes':_0x11f431});for(const _0x41ebab of _0x37ba0d)this['_addSuggestionMarker'](_0x59660e,_0x155c8d,_0x57e236,_0x41ebab,o['getMultiRangeId']());return _0x2cef48;}['markDeletion'](_0x592c43,_0x601e34=null,_0x471611={}){if(_0x592c43['isCollapsed'])return null;const _0x19fe6d=this['editor']['plugins']['get']('Users')['me'],_0x2464bc=new _0x29cc96(_0x592c43['start'],_0x592c43['end']);for(const {suggestion:_0x3b891b,meta:_0x12da16}of this['_findSuggestions'](_0x2464bc,'insertion'))if(_0x12da16['isOwn']&&!_0x12da16['isNextTo']){if(_0x3b891b['isMultiRange']){const _0xb33a08=_0x3b891b['getRanges']()['filter'](_0x2ffa40=>'$graveyard'!=_0x2ffa40['root']['rootName']);_0xb33a08['every'](_0x1aa4fc=>_0x2464bc['containsRange'](_0x1aa4fc,!0x0))&&_0x3b891b['discard']();if(_0xb33a08['some'](_0x333ffd=>_0x333ffd['containsRange'](_0x2464bc,!0x0))){const _0x1fb8c5=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x601e34,'accept');return this['forceDefaultExecution'](()=>_0x1fb8c5([_0x2464bc],null,_0x471611)),null;}}else{const _0x4f0433=_0x2464bc['getIntersection'](_0x3b891b['getFirstRange']());null!==_0x4f0433&&_0x3b891b['_onDiscard']([_0x4f0433],null,_0x471611);}}if(_0x2464bc['detach'](),_0x2464bc['isCollapsed']||'$graveyard'==_0x2464bc['root']['rootName'])return null;let _0x2993c0=null,_0x26b74b=_0x2464bc['start'],_0x1ea81f=_0x2464bc['end'];const _0x2b7466=this['_findSuggestions'](_0x2464bc,'deletion');for(const {suggestion:_0x3beb16,meta:_0x10e001}of _0x2b7466){const _0x5d26a9=this['_model']['createRange'](_0x26b74b,_0x1ea81f);if(_0x10e001['isOwn']&&(this['_mergeNestedSuggestions']||!_0x10e001['containsRangeInObject']&&!_0x10e001['isInsideObject'])){if(_0x3beb16['isMultiRange']){if(!Xt(_0x3beb16,_0x471611))continue;let _0x47d56c=!0x0;for(const _0x80d0b9 of _0x3beb16['getRanges']()){if(_0x80d0b9['containsRange'](_0x5d26a9,!0x0))return _0x3beb16;_0x5d26a9['containsRange'](_0x80d0b9)||(_0x47d56c=!0x1);}_0x47d56c&&_0x3beb16['discard']();}else{const _0x3e430b=_0x3beb16['getFirstRange']();if(_0x3e430b['containsRange'](_0x5d26a9,!0x0))return _0x3beb16;if(!Xt(_0x3beb16,_0x471611)){_0x5d26a9['containsRange'](_0x3e430b)?_0x3beb16['removeMarkers']():_0x3e430b['containsPosition'](_0x26b74b)?_0x26b74b=_0x3e430b['end']:_0x3e430b['containsPosition'](_0x1ea81f)&&(_0x1ea81f=_0x3e430b['start']);continue;}_0x26b74b=_0x26b74b['isBefore'](_0x3e430b['start'])?_0x26b74b:_0x3e430b['start'],_0x1ea81f=_0x1ea81f['isAfter'](_0x3e430b['end'])?_0x1ea81f:_0x3e430b['end'],_0x471611=Object['assign']({},_0x3beb16['attributes']),_0x2993c0?_0x3e430b['start']['isBefore'](_0x2993c0['getFirstRange']()['start'])?(_0x2993c0['removeMarkers'](),_0x2993c0=_0x3beb16):_0x3beb16['removeMarkers']():_0x2993c0=_0x3beb16;}}}if(_0x2993c0)return this['_setSuggestionRange'](_0x2993c0,this['_model']['createRange'](_0x26b74b,_0x1ea81f)),_0x2993c0;{const _0x51b4dc=_0x35a597(),_0x211f94=this['_model']['createRange'](_0x26b74b,_0x1ea81f),_0x2dab4d=_0x19fe6d['id'],_0x321924=_0x601e34?'deletion:'+_0x601e34:'deletion',_0xdd2118=this['_setSuggestionData']({'id':_0x51b4dc,'type':_0x321924,'createdAt':new Date(),'authorId':_0x2dab4d,'attributes':_0x471611});return this['_addSuggestionMarker'](_0x321924,_0x51b4dc,_0x2dab4d,_0x211f94),_0xdd2118;}}['markMultiRangeDeletion'](_0x2c63ba,_0x231dc9='multi',_0x347e39={}){const _0x54b331=this['editor']['plugins']['get']('Users')['me'],_0x34b439=_0x2c63ba['map'](_0xc45b9f=>new _0x29cc96(_0xc45b9f['start'],_0xc45b9f['end'])),_0xe2b1a3=new Set();for(const {suggestion:_0x4dac20,meta:_0x5afc95}of this['_findSuggestions'](_0x34b439,'insertion'))_0x5afc95['isOwn']&&!_0x5afc95['isNextTo']&&_0xe2b1a3['add'](_0x4dac20);for(const _0x4fc196 of _0xe2b1a3)if(_0x4fc196['isMultiRange']){const _0x35be2a=_0x4fc196['getRanges']();(!_0x4fc196['attributes']||!_0x4fc196['attributes']['skipNestingCheck'])&&(_0x35be2a['every'](_0x5552c4=>_0x34b439['some'](_0x1b9a06=>_0x1b9a06['containsRange'](_0x5552c4,!0x0)))&&_0x4fc196['discard']());if(_0x34b439['every'](_0x252ab5=>_0x35be2a['some'](_0x2dcbe8=>_0x2dcbe8['containsRange'](_0x252ab5,!0x0)))){const _0x4e3d6d=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x231dc9,'accept');return this['forceDefaultExecution'](()=>_0x4e3d6d(_0x2c63ba,null,_0x347e39)),null;}}else{const _0x2cbb44=_0x4fc196['getFirstRange']();_0x34b439['some'](_0x322501=>_0x322501['containsRange'](_0x2cbb44,!0x0))&&_0x4fc196['discard']();if(_0x34b439['every'](_0xe55348=>_0x2cbb44['containsRange'](_0xe55348,!0x0))){const _0x488f92=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x231dc9,'accept');return this['forceDefaultExecution'](()=>_0x488f92(_0x34b439,null,_0x347e39)),null;}}const _0x19e418=this['_suggestionFactory']['getSuggestionCallback']('deletion',_0x231dc9,'join');let _0x5b7783=null;for(const _0x283d4c of this['getSuggestions']())if(_0x283d4c['author']['id']==_0x54b331['id']&&_0x283d4c['isInContent']&&'deletion'==_0x283d4c['type']&&_0x283d4c['subType']==_0x231dc9&&Xt(_0x283d4c,_0x347e39)&&(_0x19e418(_0x283d4c['getRanges'](),_0x34b439)||_0x19e418(_0x34b439,_0x283d4c['getRanges']()))){if(_0x5b7783){if(_0x283d4c['commentThread']&&_0x283d4c['commentThread']['length'])continue;for(const _0x227676 of _0x283d4c['getRanges']())_0x5b7783['isIntersectingWithRange'](_0x227676)||_0x5b7783['addRange'](_0x227676);_0x283d4c['removeMarkers']();}else{_0x5b7783=_0x283d4c;for(const _0x561c3c of _0x34b439)_0x283d4c['isIntersectingWithRange'](_0x561c3c)||_0x283d4c['addRange'](_0x561c3c);}}if(_0x5b7783)return _0x5b7783;_0xe2b1a3['clear']();for(const {suggestion:_0x54717e,meta:_0x25a682}of this['_findSuggestions'](_0x34b439,'deletion'))_0x25a682['isOwn']&&(this['_mergeNestedSuggestions']||!_0x25a682['containsRangeInObject']&&!_0x25a682['isInsideObject'])&&Xt(_0x54717e,_0x347e39)&&_0xe2b1a3['add'](_0x54717e);for(const _0x4dd396 of _0xe2b1a3){const _0x2a0fc9=_0x4dd396['getRanges']();if(!_0x347e39||!_0x347e39['skipNestingCheck']){if(_0x34b439['every'](_0x22a90e=>_0x2a0fc9['some'](_0x52c164=>_0x52c164['containsRange'](_0x22a90e,!0x0))))return _0x4dd396;}(!_0x4dd396['attributes']||!_0x4dd396['attributes']['skipNestingCheck'])&&(_0x2a0fc9['every'](_0x492aa9=>_0x34b439['some'](_0x17b789=>_0x17b789['containsRange'](_0x492aa9,!0x0)))&&_0x4dd396['discard']());}const _0x37e8df=_0x35a597(),_0x56551b=_0x54b331['id'],_0x474fd1='deletion:'+_0x231dc9,_0x57d9c0=this['_setSuggestionData']({'id':_0x37e8df,'type':_0x474fd1,'createdAt':new Date(),'authorId':_0x56551b,'attributes':_0x347e39});for(const _0x253157 of _0x34b439)_0x253157['detach'](),_0x253157['isCollapsed']||'$graveyard'==_0x253157['root']['rootName']||this['_addSuggestionMarker'](_0x474fd1,_0x37e8df,_0x56551b,_0x253157,o['getMultiRangeId']());return _0x57d9c0;}['markAttributeChange'](_0xa05220,_0x4947c8,_0x352b9b,_0x203978,_0x55c928){if(_0xa05220['isCollapsed'])return[];if('never'===this['_trackFormatChanges'])return[];const _0x4b0a87=this['editor']['plugins']['get']('Users')['me']['id'],_0x4b5c2f=Array['from'](this['_suggestions']['values']())['filter'](_0x3eff71=>'attribute'==_0x3eff71['type']&&_0x3eff71['data']['key']==_0x4947c8&&_0x3eff71['isIntersectingWithRange'](_0xa05220));if('default'===this['_trackFormatChanges']){const _0xed3da6=this['_findSuggestions'](_0xa05220,'insertion')['filter'](({meta:_0x156104})=>_0x156104['isOwn']&&!_0x156104['isInsideObject']&&!_0x156104['isNextTo'])['map'](({suggestion:_0x4e1215})=>_0x4e1215);_0x4b5c2f['unshift'](..._0xed3da6);}const _0xcb3a65=new Map([[_0xa05220,_0x352b9b]]);for(const _0x9ef9ce of _0x4b5c2f){const _0x372888='attribute'==_0x9ef9ce['type']?_0x9ef9ce['data']['oldValue']:void 0x0,_0x115fc7=_0x9ef9ce['getFirstRange'](),_0xdfd764=Array['from'](_0xcb3a65['keys']())['find'](_0x317d73=>_0x317d73['isIntersecting'](_0x115fc7));if(!_0xdfd764)continue;const _0x51cd47=_0xdfd764['getDifference'](_0x115fc7);this['_isBlockAttribute'](_0x4947c8)&&'insertion'==_0x9ef9ce['type']&&0x0!=_0x51cd47['length']||(_0xcb3a65['delete'](_0xdfd764),_0x51cd47['forEach'](_0x44094c=>{_0xcb3a65['set'](_0x44094c,_0x352b9b);}),'insertion'!=_0x9ef9ce['type']&&_0x372888!=_0x203978&&_0xcb3a65['set'](_0xdfd764['getIntersection'](_0x115fc7),_0x372888));}const _0xfb9afe=[];for(const [_0x2af40c,_0x21672a]of _0xcb3a65){const _0x5951c7=_0x35a597(),_0x2fa08c={'key':_0x4947c8,'oldValue':_0x21672a,'newValue':_0x203978};_0x4947c8['length']>0x25&&console['warn']('Creating\x20a\x20suggestion\x20for\x20attribute\x20with\x20too\x20long\x20attribute\x20key.\x20This\x20may\x20lead\x20to\x20errors.\x20Change\x20the\x20attribute\x20key\x20to\x20a\x20value\x20shorter\x20than\x2037\x20characters.',{'key':_0x4947c8});const _0x4e0dc9=('attribute:'+(_0x4947c8+'|'+Kt({'newValue':_0x203978})))['substring'](0x0,0x3c),_0x2a03d8=this['_setSuggestionData']({'id':_0x5951c7,'type':_0x4e0dc9,'data':_0x2fa08c,'createdAt':new Date(),'authorId':_0x4b0a87,'attributes':_0x55c928});_0xfb9afe['push'](_0x2a03d8),this['_addSuggestionMarker'](_0x4e0dc9,_0x5951c7,_0x4b0a87,_0x2af40c);}return _0xfb9afe;}['enableDefaultAttributesIntegration'](_0x474d46){this['enableCommand'](_0x474d46,(_0x410ca6,..._0x17d453)=>{this['_recordAttributeChanges'](()=>{_0x410ca6(..._0x17d453);});});}['registerBlockAttribute'](_0x332e38){this['_blockAttributeKeys']['add'](_0x332e38);}['registerInlineAttribute'](_0x46fe9d){this['_inlineAttributeKeys']['add'](_0x46fe9d);}['_getAttributeKey'](_0x4dfe12){return'attribute'==_0x4dfe12['type']?_0x4dfe12['subType']['split']('|')[0x0]:null;}['_setSuggestionRange'](_0x5ce296,_0x12f8a5){const _0x4c860e=_0x5ce296['getFirstMarker']();this['_model']['change'](_0x22be17=>{_0x22be17['updateMarker'](_0x4c860e,{'range':_0x12f8a5});});}['_addThreadToSuggestion'](_0x4c0257){const _0x442409=_0x4c0257['id'],_0x5ab8be=this['editor']['config']['get']('collaboration.channelId');this['_commentsRepository']['hasCommentThread'](_0x442409)||this['_commentsRepository']['addCommentThread']({'channelId':_0x5ab8be,'threadId':_0x442409,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x1f3345=this['_commentsRepository']['getCommentThread'](_0x442409);_0x1f3345['unbind']('isRemovable'),_0x1f3345['isRemovable']=!0x1,_0x4c0257['commentThread']=_0x1f3345;}['_checkSuggestionCorrectness'](_0x14e8f8,_0x3f2071,_0x4de089,_0x2ccfd7){if(_0x14e8f8['type']!=_0x3f2071||_0x14e8f8['subType']!=_0x4de089||_0x14e8f8['creator']['id']!=_0x2ccfd7)throw this['editor']['enableReadOnlyMode']('track-changes-suggestion-data-mismatch'),new _0x154abc('track-changes-suggestion-data-mismatch',this);}['_cutOutSuggestionMarker'](_0x5e5e35,_0x2741c1){const _0x1053ae=_0x5e5e35['getFirstRange']();if(_0x2741c1['isEqual'](_0x1053ae))_0x5e5e35['removeMarkers']();else{if(_0x1053ae['containsRange'](_0x2741c1)){const _0x6cdae0=this['_model']['createPositionAt'](_0x2741c1['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x5e5e35,this['_model']['createRange'](_0x1053ae['start'],_0x6cdae0));const _0x238c6d=_0x35a597(),_0x5573d7=_0x5e5e35['creator']['id'],_0x497c20=_0x5e5e35['type']+':'+_0x5e5e35['subType'];this['_setSuggestionData']({'id':_0x238c6d,'type':_0x497c20,'createdAt':new Date(),'authorId':_0x5573d7,'data':_0x5e5e35['data'],'attributes':_0x5e5e35['attributes']});const _0x54884c=this['_model']['createPositionAt'](_0x2741c1['end']['parent'],'after'),_0x47db46=this['_model']['createRange'](_0x54884c,_0x1053ae['end']);this['_addSuggestionMarker'](_0x497c20,_0x238c6d,_0x5573d7,_0x47db46);}else{if(_0x1053ae['containsPosition'](_0x2741c1['start'])){const _0x477ed=this['_model']['createPositionAt'](_0x2741c1['start']['nodeBefore'],'end');this['_setSuggestionRange'](_0x5e5e35,this['_model']['createRange'](_0x1053ae['start'],_0x477ed));}else{const _0x109262=this['_model']['createPositionAt'](_0x2741c1['end']['parent'],'after');this['_setSuggestionRange'](_0x5e5e35,this['_model']['createRange'](_0x109262,_0x1053ae['end']));}}}}['_rangeIsInLocalUserInsertion'](_0x34ef0a){for(const {suggestion:_0x23589f,meta:_0xdd1c5}of this['_findSuggestions'](_0x34ef0a,'insertion')){if(!_0xdd1c5['isOwn'])continue;const _0x34b75f=_0x23589f['getRanges']();for(const _0x3bb8c3 of _0x34b75f)if(!_0x34ef0a['getDifference'](_0x3bb8c3)['length'])return!0x0;}return!0x1;}['_getAuthorFromId'](_0x15f405){const _0x4557fa=this['editor']['plugins']['get']('Users')['getUser'](_0x15f405);if(!_0x4557fa)throw new _0x154abc('track-changes-user-not-found',this);return _0x4557fa;}['_getExternalAuthor'](_0x239945){const _0x455534=this['editor']['plugins']['get']('Users'),_0x1240aa=_0x14074c('external:'+_0x239945),_0x15d2db=_0x455534['getUser'](_0x1240aa);return _0x15d2db||_0x455534['addUser']({'id':_0x1240aa,'name':_0x239945});}['_createSuggestion'](_0x34898c,_0xe0c1b5,_0x42b227,_0x2e66b3,_0x3556b8){const _0x4bca56=this['_getAuthorFromId'](_0x2e66b3),_0x3305aa=this['_suggestionFactory']['buildSuggestion'](_0x34898c,_0xe0c1b5,_0x42b227,_0x4bca56,_0x3556b8,_0x2b0070=>{this['_updateSuggestionData'](_0x42b227,{'attributes':_0x2b0070});const _0x303561=this['getSuggestion'](_0x42b227);this['_joinWithAdjacentSuggestions'](new Set([_0x303561])),this['_refreshSuggestionsChain'](new Set([_0x303561]));});return this['listenTo'](_0x3305aa,'accept',()=>{this['_updateSuggestionData'](_0x42b227,{'state':'accepted'});},{'priority':'high'}),this['listenTo'](_0x3305aa,'discard',()=>{this['_updateSuggestionData'](_0x42b227,{'state':'rejected'});},{'priority':'high'}),this['_suggestions']['set'](_0x42b227,_0x3305aa),this['_suggestionState']['set'](_0x3305aa,'notReady'),_0x3305aa;}['_splitMarkerName'](_0x16ac26){const _0x55a1a7=_0x16ac26['split'](':');return{'group':_0x55a1a7[0x0],'type':_0x55a1a7[0x1],'subType':_0x55a1a7['length']>=0x5?_0x55a1a7[0x2]:null,'id':_0x55a1a7['length']<0x5?_0x55a1a7[0x2]:_0x55a1a7[0x3],'authorId':_0x55a1a7['length']<0x5?_0x55a1a7[0x3]:_0x55a1a7[0x4],'markerCount':0x6==_0x55a1a7['length']?_0x55a1a7[0x5]:null};}['_breakSuggestionMarker'](_0x11dc46,_0x593f57,_0x8216a6){const _0xb21cb4=_0x11dc46['getFirstRange'](),_0x2544c1=_0xb21cb4['start'],_0xd01d9e=_0xb21cb4['end'];this['_setSuggestionRange'](_0x11dc46,this['_model']['createRange'](_0x2544c1,_0x593f57));const _0x3247a4=_0x35a597(),_0x478b5d=_0x11dc46['creator']['id'],_0x5c9337=_0x11dc46['type']+(_0x11dc46['subType']?':'+_0x11dc46['subType']:'');this['_setSuggestionData']({'id':_0x3247a4,'type':_0x5c9337,'createdAt':new Date(),'authorId':_0x478b5d,'originalSuggestionId':_0x11dc46['id'],'attributes':_0x11dc46['attributes'],'data':_0x11dc46['data']});const _0x88c5e8=this['_getAttributeKey'](_0x11dc46);('formatBlock'==_0x11dc46['type']||_0x88c5e8&&this['_isBlockAttribute'](_0x88c5e8))&&(_0x8216a6=this['_model']['createPositionBefore'](_0x8216a6['parent'])),this['_addSuggestionMarker'](_0x5c9337,_0x3247a4,_0x478b5d,this['_model']['createRange'](_0x8216a6,_0xd01d9e));}['_findSuggestions'](_0x1dab55,_0x349479=null){const _0x12b184=[],_0x39096d=this['editor']['plugins']['get']('Users')['me'];Array['isArray'](_0x1dab55)||(_0x1dab55=[_0x1dab55]);for(const _0x2110cf of this['getSuggestions']()){if(!_0x2110cf['isInContent'])continue;if(_0x349479&&_0x2110cf['type']!=_0x349479)continue;let _0x27b7f1=!0x1;for(const _0x2aacee of _0x2110cf['getRanges']()){for(const _0x5417a8 of _0x1dab55){const _0x4ed13d=_0x5417a8['start']['isEqual'](_0x2aacee['end'])||_0x5417a8['end']['isEqual'](_0x2aacee['start']);if(_0x4ed13d||_0x5417a8['getIntersection'](_0x2aacee)){const _0x1147a1=_0x5417a8['containsRange'](_0x2aacee)&&Gt(this['_model']['schema'],_0x2aacee['start'],_0x5417a8),_0x4f445f=_0x2aacee['containsRange'](_0x5417a8)&&Gt(this['_model']['schema'],_0x5417a8['start'],_0x2aacee);_0x12b184['push']({'suggestion':_0x2110cf,'meta':{'isOwn':_0x39096d==_0x2110cf['author'],'isNextTo':_0x4ed13d,'isInsideObject':_0x1147a1,'containsRangeInObject':_0x4f445f}}),_0x27b7f1=!0x0;break;}}if(_0x27b7f1)break;}}return _0x12b184;}['_addSuggestionMarker'](_0x638d13,_0x1e732b,_0x24d9c0,_0x246e9c,_0x1d20c8){this['_model']['change'](_0x474910=>{let _0x203bce='suggestion:'+_0x638d13+':'+_0x1e732b+':'+_0x24d9c0;_0x1d20c8&&(_0x203bce=_0x203bce+':'+_0x1d20c8),_0x474910['addMarker'](_0x203bce,{'range':_0x246e9c,'usingOperation':!0x0,'affectsData':!0x0});});}['_removeSuggestion'](_0x96c759){const _0x2d8494=_0x96c759['previous'],_0x1c8611=_0x96c759['next'];_0x96c759['previous']=null,_0x96c759['next']=null,null!=_0x2d8494&&_0x2d8494['next']==_0x96c759&&(_0x2d8494['next']=_0x1c8611),null!=_0x1c8611&&_0x1c8611['previous']==_0x96c759&&(_0x1c8611['previous']=_0x2d8494),'ready'==this['_suggestionState']['get'](_0x96c759)&&(this['_suggestionState']['set'](_0x96c759,'removed'),this['fire']('suggestionUnloaded',_0x96c759,_0x2d8494,_0x1c8611));}['_setSuggestionData'](_0x363e2f){const _0x50898d=_0x363e2f['id'],_0x2374c1=this['addSuggestionData'](_0x363e2f);if(this['_adapter']&&this['_adapter']['addSuggestion']){const _0x4ee22c=this['editor']['plugins']['get']('PendingActions'),_0x2c34fd=_0x2374c1['hasComments'],_0x53840a=_0x2374c1['subType']?_0x2374c1['type']+':'+_0x2374c1['subType']:_0x2374c1['type'],_0x44422e=this['editor']['locale'],_0x14614e=_0x4ee22c['add'](c(_0x44422e,'PENDING_ACTION_SUGGESTION')),_0x10b1dd={'id':_0x50898d,'type':_0x53840a,'hasComments':_0x2c34fd,'data':_0x363e2f['data']||null,'originalSuggestionId':_0x363e2f['originalSuggestionId']||null,'attributes':_0x2374c1['attributes']};this['_adapter']['addSuggestion'](_0x10b1dd)['then'](_0x322ec8=>{_0x2374c1['_saved']=!0x0,_0x4ee22c['remove'](_0x14614e),_0x322ec8&&_0x322ec8['createdAt']&&(this['_suggestions']['get'](_0x50898d)['createdAt']=_0x322ec8['createdAt']);})['catch'](_0x52a4ed=>{throw _0x3f4f28('error-saving-suggestion-data-suggestion-discarded'),this['editor']['model']['enqueueChange']({'isUndoable':!0x1},()=>{_0x2374c1['discard']();}),_0x2374c1['stopListening'](),this['_suggestions']['delete'](_0x2374c1['id']),this['_suggestionState']['delete'](_0x2374c1),_0x52a4ed;});}return _0x2374c1;}['_isBlockAttribute'](_0x182c1a){return this['_blockAttributeKeys']['has'](_0x182c1a);}['_updateSuggestionData'](_0xd4a648,_0x2233b6){const _0x5b25af=this['editor']['plugins']['get']('PendingActions'),_0x2b5e03=this['getSuggestion'](_0xd4a648);if(this['_adapter']&&this['_adapter']['updateSuggestion']){if(_0x2b5e03['_saved']){const _0x5117cb=_0x5b25af['add'](c(this['editor']['locale'],'PENDING_ACTION_SUGGESTION'));this['_adapter']['updateSuggestion'](_0xd4a648,_0x2233b6)['then'](()=>{_0x5b25af['remove'](_0x5117cb);});}else _0x2b5e03['on']('change:_saved',()=>{this['_updateSuggestionData'](_0xd4a648,_0x2233b6);});}}['_getSuggestionData'](_0x10635e){if(!this['_adapter']||!this['_adapter']['getSuggestion'])throw new _0x154abc('track-changes-adapter-missing-getsuggestion',this);return this['_adapter']['getSuggestion'](_0x10635e);}['_handleNewSuggestionMarker'](_0x5784b9){const {id:_0x1acbfd,type:_0x126787,subType:_0x5bbd97,authorId:_0x44456f}=this['_splitMarkerName'](_0x5784b9),_0x51a61e=this['_suggestions']['get'](_0x1acbfd)||this['_createSuggestion'](_0x126787,_0x5bbd97,_0x1acbfd,_0x44456f,{});switch(this['_checkSuggestionCorrectness'](_0x51a61e,_0x126787,_0x5bbd97,_0x44456f),this['_suggestionState']['get'](_0x51a61e)){case'notReady':this['_getSuggestionData'](_0x1acbfd)['then'](_0x5a9c63=>{let _0x40e7e7=Promise['resolve']();_0x5a9c63['hasComments']&&(_0x40e7e7=this['_commentsRepository']['fetchCommentThread']({'channelId':this['editor']['config']['get']('collaboration.channelId'),'threadId':_0x1acbfd})),_0x40e7e7['then'](()=>{this['addSuggestionData'](_0x5a9c63)['_saved']=!0x0;});}),this['_suggestionState']['set'](_0x51a61e,'markerReady');break;case'removed':this['_updateSuggestionData'](_0x1acbfd,{'state':'open'});case'dataReady':this['_suggestionState']['set'](_0x51a61e,'ready'),this['fire']('suggestionLoaded',_0x51a61e);break;case'ready':this['fire']('suggestionChanged',_0x51a61e);}return _0x51a61e['addMarkerName'](_0x5784b9),_0x51a61e;}['_refreshSuggestionsChain'](_0x33a8ec){const _0x5d7772=Array['from'](_0x33a8ec),_0x4c41b4=_0x5d7772['filter'](_0x2c8bd6=>'attribute'==_0x2c8bd6['type']);this['_refreshAttributeSuggestionsChain'](_0x4c41b4);const _0x413f54=_0x5d7772['filter'](_0x1abaef=>!_0x1abaef['isMultiRange']&&'attribute'!=_0x1abaef['type']),_0x42be77=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x598403=>!_0x598403['isMultiRange']&&'attribute'!=_0x598403['type']),_0x2f3bb8=_0x42be77['filter'](_0x5afbee=>!_0x33a8ec['has'](_0x5afbee)),_0x2fc92d=new Map(_0x42be77['map'](_0x39a54a=>[_0x39a54a,this['_suggestionFactory']['getSuggestionCallback'](_0x39a54a['type'],_0x39a54a['subType'],'chain')])),_0x161dc0=new Map(_0x42be77['map'](_0x120b9e=>[_0x120b9e,_0x120b9e['getFirstRange']()])),_0x41884b=new Set(),_0xd69dda=new Set();for(let _0x56a981=0x0;_0x56a981<_0x413f54['length'];_0x56a981++)_0x4595c0(_0x413f54[_0x56a981],_0x413f54,_0x56a981+0x1);for(let _0x27f6c5=0x0;_0x27f6c5<_0x413f54['length'];_0x27f6c5++)_0x4595c0(_0x413f54[_0x27f6c5],_0x2f3bb8,0x0);const _0x3ff897=new Set();for(let _0x8367e0=0x0;_0x8367e0<_0x413f54['length'];_0x8367e0++){const _0x17baba=_0x413f54[_0x8367e0];!_0xd69dda['has'](_0x17baba)&&_0x17baba['previous']&&(_0x3ff897['add'](_0x17baba['previous']),_0x17baba['previous']['next']===_0x17baba&&(_0x17baba['previous']['next']=null),_0x17baba['previous']=null),!_0x41884b['has'](_0x17baba)&&_0x17baba['next']&&(_0x3ff897['add'](_0x17baba['next']),_0x17baba['next']['previous']===_0x17baba&&(_0x17baba['next']['previous']=null),_0x17baba['next']=null);}function _0x4595c0(_0x101f58,_0x58f1d3,_0x2857c5){for(let _0x39dfcb=_0x2857c5;_0x39dfcb<_0x58f1d3['length'];_0x39dfcb++){const _0x504107=_0x48c00c(_0x101f58,_0x58f1d3[_0x39dfcb]);_0x504107&&(_0x504107[0x0]['next']=_0x504107[0x1],_0x504107[0x1]['previous']=_0x504107[0x0],_0x41884b['add'](_0x504107[0x0]),_0xd69dda['add'](_0x504107[0x1]));}}function _0x48c00c(_0x7c72c5,_0x295dc4){if(_0x7c72c5['author']['id']!==_0x295dc4['author']['id'])return null;const _0x3e2112=_0x2fc92d['get'](_0x7c72c5)(_0x7c72c5,_0x295dc4,_0x161dc0['get'](_0x7c72c5),_0x161dc0['get'](_0x295dc4));if(!_0x3e2112)return null;return _0x2fc92d['get'](_0x295dc4)(_0x7c72c5,_0x295dc4,_0x161dc0['get'](_0x7c72c5),_0x161dc0['get'](_0x295dc4))?_0x3e2112[0x1]['commentThread']&&_0x3e2112[0x1]['commentThread']['length']?null:_0x3e2112:null;}_0x3ff897['size']&&this['_refreshSuggestionsChain'](_0x3ff897);}['_refreshAttributeSuggestionsChain'](_0x31d5aa){if(0x0==_0x31d5aa['length'])return;const _0x208a31=this['getSuggestions']({'skipNotAttached':!0x0})['filter'](_0x502d5a=>'attribute'==_0x502d5a['type']&&_0x502d5a['_isDataLoaded']),_0x54ac19=[],_0x2521d1=new Map();for(const _0x31bc2a of _0x208a31){const _0x63b806=_0x14074c(_0x31bc2a['attributes']);_0x2521d1['has'](_0x63b806)||(_0x2521d1['set'](_0x63b806,_0x54ac19['length']),_0x54ac19['push']([]));const _0xbb0cd5=_0x2521d1['get'](_0x63b806);_0x54ac19[_0xbb0cd5]['push'](_0x31bc2a);}!(function(){_0x54ac19['sort']((_0xe9a73,_0xf04303)=>{const _0x363e58=_0xe9a73[0x0]['createdAt'],_0x271826=_0xf04303[0x0]['createdAt'];return _0x363e58==_0x271826?_0xe9a73[0x0]['attributes']['groupId']<_0xf04303[0x0]['attributes']['groupId']?-0x1:0x1:_0x363e58<_0x271826?-0x1:0x1;});for(const _0x2707e4 of _0x54ac19)_0x2707e4['sort']((_0x2372d5,_0x5aaf6d)=>_0x2372d5['id']<_0x5aaf6d['id']?-0x1:0x1);}());for(let _0x1bb1e3=0x0;_0x1bb1e3<_0x54ac19['length'];_0x1bb1e3++){if(0x0==_0x54ac19[_0x1bb1e3]['length'])continue;const _0x52b7c0=[];for(let _0x2db8d8=_0x1bb1e3+0x1;_0x2db8d8<_0x54ac19['length'];_0x2db8d8++)0x0!=_0x54ac19[_0x2db8d8]['length']&&_0x573025(_0x54ac19[_0x1bb1e3],_0x54ac19[_0x2db8d8])&&_0x52b7c0['push'](_0x2db8d8);for(const _0x5a90b5 of _0x52b7c0)_0x54ac19[_0x1bb1e3]=_0x54ac19[_0x1bb1e3]['concat'](_0x54ac19[_0x5a90b5]),_0x54ac19[_0x5a90b5]=[];}for(const _0x43df7b of _0x54ac19)for(let _0x2d27cf=0x0;_0x2d27cf<_0x43df7b['length'];_0x2d27cf++){const _0x522aea=_0x43df7b[_0x2d27cf+0x1]||null;_0x43df7b[_0x2d27cf]['next']!==_0x522aea&&(_0x43df7b[_0x2d27cf]['next']=_0x522aea);}for(const _0x1c4c5a of _0x54ac19)for(let _0x1999e7=0x0;_0x1999e7<_0x1c4c5a['length'];_0x1999e7++){const _0x7609db=_0x1c4c5a[_0x1999e7-0x1]||null;_0x1c4c5a[_0x1999e7]['previous']!==_0x7609db&&(_0x1c4c5a[_0x1999e7]['previous']=_0x7609db);}function _0x573025(_0x465024,_0x6392df){if(_0x465024[0x0]['attributes']['groupId']!==_0x6392df[0x0]['attributes']['groupId']&&_0x465024[0x0]['author']!==_0x6392df[0x0]['author'])return!0x1;if(!function(_0x5ed87d,_0x485adb){if(!_0x5ed87d['hasComments']&&!_0x485adb['hasComments'])return!0x0;if(_0x5ed87d['hasComments']&&_0x485adb['hasComments'])return!0x1;if(_0x5ed87d['hasComments']&&_0x485adb['createdAt']<_0x5ed87d['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;if(_0x485adb['hasComments']&&_0x5ed87d['createdAt']<_0x485adb['commentThread']['comments']['get'](0x0)['createdAt'])return!0x0;return!0x1;}(_0x465024[0x0],_0x6392df[0x0]))return!0x1;const _0x2d5a0a=Ft(_0x465024[0x0]['attributes'],'groupId'),_0x766d10=Ft(_0x6392df[0x0]['attributes'],'groupId');if(!_0x258000(_0x2d5a0a,_0x766d10))return!0x1;return!!_0x465024['every'](_0x4b3fda=>_0x6392df['some'](_0x3f0cb0=>_0x4b3fda['getFirstRange']()['isEqual'](_0x3f0cb0['getFirstRange']())))&&_0x6392df['every'](_0x193e67=>_0x465024['some'](_0xc4eee9=>_0x193e67['getFirstRange']()['isEqual'](_0xc4eee9['getFirstRange']())));}}['_joinWithAdjacentSuggestions'](_0x3a174d){const _0x5e2388=Array['from'](_0x3a174d),_0x53a0bb=this['getSuggestions']({'skipNotAttached':!0x0}),_0x3b57c1=_0x53a0bb['filter'](_0x5768d7=>!_0x3a174d['has'](_0x5768d7)),_0x2ee77c=new Map(_0x5e2388['map'](_0xb2c0a8=>[_0xb2c0a8,this['_suggestionFactory']['getSuggestionCallback'](_0xb2c0a8['type'],_0xb2c0a8['subType'],'join')])),_0x389f97=new Map(_0x53a0bb['map'](_0x382984=>[_0x382984,_0x382984['getRanges']()]));for(let _0x5b447c=0x0;_0x5b447c<_0x5e2388['length'];_0x5b447c++){if(_0x564fc6(this,_0x5e2388[_0x5b447c],_0x5e2388,_0x5b447c+0x1))return!0x0;}for(let _0x55ab0f=0x0;_0x55ab0f<_0x5e2388['length'];_0x55ab0f++){if(_0x564fc6(this,_0x5e2388[_0x55ab0f],_0x3b57c1,0x0))return!0x0;}return!0x1;function _0x564fc6(_0x39acac,_0x3431b9,_0xab6eb3,_0x1321f8){for(let _0x939b76=_0x1321f8;_0x939b76<_0xab6eb3['length'];_0x939b76++){const _0x4d3485=_0xab6eb3[_0x939b76];if(_0x4d3485['type']!==_0x3431b9['type']||_0x4d3485['author']['id']!==_0x3431b9['author']['id']||_0x4d3485['subType']!==_0x3431b9['subType'])continue;if(!Qt(_0x3431b9,_0x4d3485))continue;if('attribute'==_0x3431b9['type']&&_0x3431b9['data']['oldValue']!=_0x4d3485['data']['oldValue'])continue;if('attribute'==_0x3431b9['type']&&_0x39acac['_isBlockAttribute'](_0x3431b9['data']['key']))continue;if('formatBlock'==_0x3431b9['type']){const _0x5859cf=_0x39acac['editor']['model'],_0x535dfb=_0x3431b9['getContainedElement']();if(_0x535dfb&&(_0x5859cf['schema']['isObject'](_0x535dfb)||_0x5859cf['schema']['isLimit'](_0x535dfb)))continue;}const _0x9eea86=_0x2ee77c['get'](_0x3431b9),_0x273706=_0x389f97['get'](_0x3431b9),_0x2884aa=_0x389f97['get'](_0x4d3485),_0x478686=_0x3431b9['commentThread']&&_0x3431b9['commentThread']['length'],_0x3d36d6=_0x4d3485['commentThread']&&_0x4d3485['commentThread']['length'];if(!_0x478686&&_0x9eea86(_0x2884aa,_0x273706))return _0x39acac['_joinSuggestions'](_0x4d3485,_0x3431b9),_0x389f97['delete'](_0x3431b9),!0x0;if(!_0x3d36d6&&_0x9eea86(_0x273706,_0x2884aa))return _0x39acac['_joinSuggestions'](_0x3431b9,_0x4d3485),_0x389f97['delete'](_0x4d3485),!0x0;}return!0x1;}}['_joinSuggestions'](_0x321eac,_0x363894){if(_0x321eac['isMultiRange']){for(const _0x4fdeed of _0x363894['getRanges']())_0x321eac['addRange'](_0x4fdeed);}else{const _0x358006=_0x363894['getFirstRange']()['end'];this['_setSuggestionRange'](_0x321eac,this['_model']['createRange'](_0x321eac['getFirstRange']()['start'],_0x358006));}_0x363894['removeMarkers']();}['_getMarkerAnnouncementText'](_0x5817bd,_0x28d787,_0x54617e){const _0x32d505=_0x5817bd['startsWith']('format')||_0x5817bd['startsWith']('attribute')?'FORMATTING':_0x5817bd['toUpperCase']();return c(this['editor']['locale'],_0x28d787+'_'+_0x32d505+'_SUGGESTION_ANNOUNCEMENT',_0x54617e);}['_initAriaMarkerChangeAnnouncements'](){const _0x4819be=this['editor'];if(!_0x4819be['ui'])return;const {ariaLiveAnnouncer:_0x3f31d3}=_0x4819be['ui'];_0x336650(this['_model'],({left:_0x23f91c,entered:_0x46309a})=>{for(const _0x15e27d of _0x23f91c){const {group:_0x57854c,type:_0x4408a4}=this['_splitMarkerName'](_0x15e27d['name']);if('suggestion'===_0x57854c){_0x3f31d3['announce'](this['_getMarkerAnnouncementText'](_0x4408a4,'LEAVE'));break;}}for(const _0x1ffb09 of _0x46309a){const {group:_0x1e67a0,type:_0x37abc0}=this['_splitMarkerName'](_0x1ffb09['name']);if('suggestion'===_0x1e67a0){_0x3f31d3['announce'](this['_getMarkerAnnouncementText'](_0x37abc0,'ENTER',_0x241b6b(_0x1ab607)));break;}}});}['_processAttributeChanges'](_0x2dab1b){if(this['_recordAttributeSuggestions'])return!0x1;const _0x10c8f0=this['editor'],_0x5958b5=_0x10c8f0['model']['document']['differ']['getChanges']();if(0x0==_0x5958b5['length'])return!0x1;const _0x2993c9=[],_0x17d0a8=_0x5958b5['filter'](_0x16489c=>'attribute'==_0x16489c['type']),_0x27d75e=_0x5958b5['filter'](_0x2d7035=>'insert'==_0x2d7035['type']&&'$text'!=_0x2d7035['name']),_0x2b911e=_0x5958b5['filter'](_0x10d899=>'remove'==_0x10d899['type']&&'$text'!=_0x10d899['name']);for(const _0x524316 of _0x17d0a8)_0x2993c9['push']({'key':_0x524316['attributeKey'],'newValue':_0x524316['attributeNewValue'],'oldValue':_0x524316['attributeOldValue'],'range':qt(_0x524316['range'],_0x10c8f0['model'])});for(const _0x5bc0ba of _0x27d75e){const _0x135f13=_0x2b911e['find'](_0x117e20=>_0x117e20['position']['isEqual'](_0x5bc0ba['position']));_0x135f13&&_0x2993c9['push']({'key':u,'newValue':_0x5bc0ba['name'],'oldValue':_0x135f13['name'],'range':_0x10c8f0['model']['createRangeOn'](_0x5bc0ba['position']['nodeAfter'])});}return 0x0!=_0x2993c9['length']&&this['_reduceExistingSuggestions'](_0x2dab1b,_0x2993c9);}['_processAttributeSuggestions'](_0x124d0b){let _0x3687f7=!0x1;const _0x508fcd=this['editor']['model']['document']['differ']['getChangedMarkers']()['filter'](_0xaadd31=>_0xaadd31['data']['newRange']&&_0xaadd31['name']['startsWith']('suggestion:attribute:'));for(const _0x371210 of _0x508fcd){const {subType:_0x2de6b2,id:_0x3f410c}=this['_splitMarkerName'](_0x371210['name']),_0x2bca9d=_0x2de6b2['split']('|')[0x0];for(const _0x120694 of this['getSuggestions']({'skipNotAttached':!0x0}))_0x120694['id']!=_0x3f410c&&'attribute'==_0x120694['type']&&_0x120694['data']&&_0x120694['data']['key']==_0x2bca9d&&_0x120694['getFirstRange']()['isIntersecting'](_0x371210['data']['newRange'])&&(this['_reduceSuggestionAttributeRange'](_0x120694,_0x371210['data']['newRange'],_0x124d0b),_0x3687f7=!0x0);}return _0x3687f7;}['_recordAttributeChanges'](_0x54c985){this['_recordAttributeSuggestions']=!0x0,_0x54c985();}['_isRegisteredAttribute'](_0x1cb7a9){const _0x11db84=this['_isBlockAttribute'](_0x1cb7a9),_0xdebf8d=this['_inlineAttributeKeys']['has'](_0x1cb7a9);return _0x11db84||_0xdebf8d;}['_reduceExistingSuggestions'](_0x504ac0,_0x5b5bf7){if(0x0==_0x5b5bf7['length'])return!0x1;let _0x4f676a=!0x1;for(const _0x847fc4 of _0x5b5bf7){const _0x38763f=this['_findSuggestions'](_0x847fc4['range'],'attribute')['filter'](_0x50d0de=>!_0x50d0de['meta']['isNextTo'])['map'](_0x3efe41=>_0x3efe41['suggestion']),_0x29f2c4=_0x14074c({'newValue':_0x847fc4['newValue']});_0x38763f['filter'](_0x501f1c=>{const [_0x44a471,_0x2bc657]=_0x501f1c['subType']['split']('|');return _0x44a471==_0x847fc4['key']&&_0x2bc657!=_0x29f2c4;})['forEach'](_0x51ce0c=>{this['_reduceSuggestionAttributeRange'](_0x51ce0c,_0x847fc4['range'],_0x504ac0),_0x4f676a=!0x0;});}return _0x4f676a;}['_reduceSuggestionAttributeRange'](_0x2e9703,_0x2cf86f,_0xb2afa9){const _0x5a8ce1=_0x2e9703['getFirstRange']()['getDifference'](_0x2cf86f);0x0!==_0x5a8ce1['length']?0x1!==_0x5a8ce1['length']?this['_breakSuggestionMarker'](_0x2e9703,_0x2cf86f['start'],_0x2cf86f['end']):this['_setSuggestionRange'](_0x2e9703,_0x5a8ce1[0x0]):_0xb2afa9['removeMarker'](_0x2e9703['getFirstMarker']());}}class Pt{['_editor'];['_model'];['_customCallbacks'];['_defaultCallbacks'];constructor(_0xd87e42){this['_editor']=_0xd87e42,this['_model']=_0xd87e42['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this['_registerDefaultCallbacks']();}['buildSuggestion'](_0xe29418,_0x4474d8,_0x46ba83,_0x22a9c3,_0xad37c3,_0x4d4e26){return new o(this['_model'],{'type':_0xe29418,'subType':_0x4474d8,'id':_0x46ba83,'author':_0x22a9c3,'creator':_0x22a9c3,'attributes':_0xad37c3,'onAttributesChange':_0x4d4e26,'onAccept':(..._0x4fddd8)=>this['getSuggestionCallback'](_0xe29418,_0x4474d8,'accept')(..._0x4fddd8),'onDiscard':(..._0x5ecadd)=>this['getSuggestionCallback'](_0xe29418,_0x4474d8,'discard')(..._0x5ecadd)});}['registerCustomCallback'](_0x22a585,_0x4de49c,_0x297d68,_0x42a90e){const _0xc4e32f=_0x22a585+':'+_0x4de49c+':'+_0x297d68;this['_customCallbacks']['set'](_0xc4e32f,_0x42a90e);}['getSuggestionCallback'](_0x261738,_0x23b230,_0x1db030){const _0x4cd32c=_0x261738+':'+_0x23b230+':'+_0x1db030;return this['_customCallbacks']['get'](_0x4cd32c)||this['_defaultCallbacks']['get'](_0x261738+':'+_0x1db030);}['_registerDefaultCallbacks'](){const _0x1a8e04=()=>!0x1,_0x3bd0d6=_0x2b35b2=>{_0x2b35b2['sort']((_0x53288a,_0x17797d)=>_0x53288a['start']['isBefore'](_0x17797d['start'])?0x1:-0x1),this['_model']['change'](_0x5e12dc=>{for(const _0x57cc6a of _0x2b35b2){let _0x3df253;_0x3df253=_0x57cc6a['end']['isAtEnd']&&_0x57cc6a['end']['parent']==_0x57cc6a['start']['nodeAfter']?_0x5e12dc['createSelection'](_0x57cc6a['start']['nodeAfter'],'on'):_0x5e12dc['createSelection'](_0x57cc6a),this['_model']['deleteContent'](_0x3df253,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0xde38d9=(_0xe3a6bb,_0x4301c0)=>{_0x4301c0&&this['_model']['change'](_0x584cbe=>{const {commandName:_0x14100e,commandParams:_0x108ea6=[]}=_0x4301c0,_0x22738e=_0xe3a6bb['map'](_0x4f2481=>(Lt(_0x4f2481)&&(_0x4f2481=this['_model']['createRange'](_0x4f2481['end'])),_0x4f2481))['filter'](_0x97a133=>'$graveyard'!==_0x97a133['root']['rootName']);if(_0x22738e['length']<0x1)return;const _0x33ca8f=Array['from'](this['_model']['document']['selection']['getRanges']())['map'](_0x1777ab=>_0x29cc96['fromRange'](_0x1777ab));_0x584cbe['setSelection'](_0x22738e);for(const _0xde173c of this['_editor']['commands']['commands']())_0xde173c['refresh']();_0x108ea6['push']({'forceDefaultExecution':!0x0}),this['_editor']['execute'](_0x14100e,..._0x108ea6);const _0xb964cd=_0x33ca8f['filter'](_0x5087e9=>'$graveyard'!=_0x5087e9['root']['rootName']);_0xb964cd['length']>0x0&&_0x584cbe['setSelection'](_0xb964cd);for(const _0x107c00 of _0x33ca8f)_0x107c00['detach']();});},_0x1915a9=(_0x58e031,_0xb8a3cc)=>0x1==_0x58e031['length']&&0x1==_0xb8a3cc['length']&&_0x58e031[0x0]['end']['isEqual'](_0xb8a3cc[0x0]['start']),_0x5a6d4f=(_0x12a093,_0x2eb506,_0x27adc4,_0xe3431e)=>Wt(_0x12a093,_0x2eb506,_0x27adc4,_0xe3431e)?[_0x12a093,_0x2eb506]:Wt(_0x2eb506,_0x12a093,_0xe3431e,_0x27adc4)?[_0x2eb506,_0x12a093]:null;this['_defaultCallbacks']['set']('insertion:accept',_0x1a8e04),this['_defaultCallbacks']['set']('insertion:discard',_0x3bd0d6),this['_defaultCallbacks']['set']('insertion:join',_0x1915a9),this['_defaultCallbacks']['set']('insertion:chain',_0x5a6d4f),this['_defaultCallbacks']['set']('deletion:accept',_0x3bd0d6),this['_defaultCallbacks']['set']('deletion:discard',_0x1a8e04),this['_defaultCallbacks']['set']('deletion:join',_0x1915a9),this['_defaultCallbacks']['set']('deletion:chain',_0x5a6d4f),this['_defaultCallbacks']['set']('formatInline:accept',_0xde38d9),this['_defaultCallbacks']['set']('formatInline:discard',_0x1a8e04),this['_defaultCallbacks']['set']('formatInline:join',_0x1915a9),this['_defaultCallbacks']['set']('formatInline:chain',_0x1a8e04),this['_defaultCallbacks']['set']('formatBlock:accept',_0xde38d9),this['_defaultCallbacks']['set']('formatBlock:discard',_0x1a8e04),this['_defaultCallbacks']['set']('formatBlock:join',_0x1915a9),this['_defaultCallbacks']['set']('formatBlock:chain',_0x1a8e04),this['_defaultCallbacks']['set']('attribute:accept',_0x1a8e04),this['_defaultCallbacks']['set']('attribute:discard',(_0x13216c,_0x2261ef)=>{if(!_0x2261ef)return;const _0x6ac928=this['_editor']['plugins']['get'](p);this['_model']['change'](_0x244642=>{if(_0x2261ef['key']==u)for(const _0x163fc4 of _0x13216c){const _0x471f91=_0x163fc4['start']['nodeAfter'],_0x1d53e3=_0x2261ef['oldValue'];_0x244642['rename'](_0x471f91,_0x1d53e3);}else{if(_0x6ac928['_isBlockAttribute'](_0x2261ef['key'])){for(const _0x4c54e5 of _0x13216c)void 0x0!==_0x2261ef['oldValue']?_0x244642['setAttribute'](_0x2261ef['key'],_0x2261ef['oldValue'],_0x4c54e5['start']['nodeAfter']):_0x244642['removeAttribute'](_0x2261ef['key'],_0x4c54e5['start']['nodeAfter']);}else{for(const _0x1f1ff4 of _0x13216c)_0x2261ef['oldValue']?_0x244642['setAttribute'](_0x2261ef['key'],_0x2261ef['oldValue'],_0x1f1ff4):_0x244642['removeAttribute'](_0x2261ef['key'],_0x1f1ff4);}}});}),this['_defaultCallbacks']['set']('attribute:join',_0x1915a9);}}function Gt(_0x2ad1cf,_0xece9ee,_0x28fb89){for(const _0x5c46e7 of _0xece9ee['parent']['getAncestors']({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x5c46e7['root']==_0x5c46e7)return!0x1;if(!_0x28fb89['containsItem'](_0x5c46e7))return!0x1;if(_0x2ad1cf['isObject'](_0x5c46e7)||_0x2ad1cf['isLimit'](_0x5c46e7))return!0x0;}return!0x1;}function Lt(_0x30ae71){return _0x30ae71['end']['parent']==_0x30ae71['start']['nodeAfter']&&_0x30ae71['end']['isAtStart'];}function Jt(_0x4a16d6,_0x1678f3,_0x100f55,_0x1fce34){const _0x27d744=_0x3eaa2b=>!_0x3eaa2b['item']['is']('$textProxy')&&!_0x1fce34['isObject'](_0x3eaa2b['item']),_0x368f1f=_0x4a16d6['start']['getLastMatchingPosition'](_0x27d744),_0x579543=_0x4a16d6['end']['getLastMatchingPosition'](_0x27d744,{'direction':'backward'});return(!_0x4a16d6['start']['isEqual'](_0x368f1f)||!_0x4a16d6['end']['isEqual'](_0x579543))&&(_0x368f1f['isBefore'](_0x579543)?_0x100f55['updateMarker'](_0x1678f3,{'range':_0x100f55['createRange'](_0x368f1f,_0x579543)}):_0x100f55['removeMarker'](_0x1678f3),!0x0);}function Kt(_0x1d9ddd){return _0x14074c(_0x1d9ddd);}function Ht(_0xf7b3d1){const _0x110bc6=_0xf7b3d1['start']['nodeAfter'];return _0x110bc6&&_0x110bc6['is']('element');}function qt(_0xad0be0,_0x3d670c){return null==_0xad0be0['end']['nodeBefore']&&_0xad0be0['end']['parent']==_0xad0be0['start']['nodeAfter']?zt(_0xad0be0['start']['nodeAfter'],_0x3d670c):_0xad0be0;}function zt(_0x1e604f,_0x29998d){const _0xe2225e=_0x29998d['schema']['isObject'](_0x1e604f)||_0x29998d['schema']['isSelectable'](_0x1e604f);return _0x29998d['createRange'](_0x29998d['createPositionAt'](_0x1e604f,'before'),_0xe2225e?_0x29998d['createPositionAfter'](_0x1e604f):_0x29998d['createPositionAt'](_0x1e604f,'end'));}function Wt(_0x17417c,_0x2cbd4b,_0x4421fe,_0x1dd97e){return!!Qt(_0x17417c,_0x2cbd4b)&&_0x4421fe['end']['isEqual'](_0x1dd97e['start']);}function Qt(_0x1f1401,_0x19b2ac){if(!_0x1f1401['_isDataLoaded']||!_0x19b2ac['_isDataLoaded'])return!0x1;const _0x115223=new Set(Object['keys'](_0x1f1401['attributes'])),_0x4602cf=new Set(Object['keys'](_0x19b2ac['attributes']));if(_0x115223['delete']('groupId'),_0x4602cf['delete']('groupId'),0x0==_0x115223['size']&&0x0==_0x4602cf['size'])return!0x0;if(_0x115223['size']!=_0x4602cf['size'])return!0x1;const _0x12fb70={..._0x1f1401['attributes']},_0x5647d9={..._0x19b2ac['attributes']};return delete _0x12fb70['groupId'],delete _0x5647d9['groupId'],JSON['stringify'](_0x12fb70)==JSON['stringify'](_0x5647d9);}function Xt(_0x3f2569,_0x2ebf55){const _0x5d9dfa=Yt(_0x3f2569['attributes']),_0x5132af=Yt(_0x2ebf55);if(!_0x3f2569['_isDataLoaded'])return!0x1;for(const _0x1aae31 of Object['keys'](_0x5132af))if(!_0x258000(_0x5d9dfa[_0x1aae31],_0x5132af[_0x1aae31]))return!0x1;return!0x0;}function Yt(_0x5ed8dc){const _0x1943ee=Object['assign']({},_0x5ed8dc);return delete _0x1943ee['skipNestingCheck'],delete _0x1943ee['tablePasteChainId'],_0x1943ee;}class pe extends/* #__PURE__ -- @preserve */
_0x2fddcd(){['model'];['view'];['commentThreadController'];['_editor'];['_acceptCommand'];['_discardCommand'];['_pendingAction'];constructor(_0x4af149,_0x75b4f5,_0x58ae60,_0x10f7a1){super(),this['model']=_0x75b4f5,this['view']=_0x58ae60,this['commentThreadController']=_0x10f7a1,this['_editor']=_0x4af149,this['_acceptCommand']=_0x4af149['commands']['get']('acceptSuggestion'),this['_discardCommand']=_0x4af149['commands']['get']('discardSuggestion'),this['view']['bind']('isEnabled')['to'](this['_acceptCommand'],this['_discardCommand'],(_0xdaf168,_0xb29776)=>_0xdaf168||_0xb29776),this['view']['bind']('canAccept')['to'](this['_acceptCommand'],'isEnabled',_0x53862=>_0x53862&&this['_editor']['model']['canEditAt'](_0x75b4f5['getRanges']())),this['view']['bind']('canDiscard')['to'](this['_discardCommand'],'isEnabled',_0x331ef4=>_0x331ef4&&this['_editor']['model']['canEditAt'](_0x75b4f5['getRanges']())),this['_pendingAction']=null,_0x58ae60['isDirty']&&this['_setPendingAction'](),this['listenTo'](_0x58ae60,'acceptSuggestion',()=>this['acceptSuggestion']()),this['listenTo'](_0x58ae60,'discardSuggestion',()=>this['discardSuggestion']()),this['listenTo'](_0x58ae60,'change:isDirty',()=>{_0x58ae60['isDirty']?this['_setPendingAction']():this['_removePendingAction']();});}['acceptSuggestion'](){this['_acceptCommand']['execute'](this['model']['id']);}['discardSuggestion'](){this['_discardCommand']['execute'](this['model']['id']);}['destroy'](){this['view']['unbind']('isEnabled'),this['view']['unbind']('canAccept'),this['view']['unbind']('canDiscard'),this['stopListening'](),this['commentThreadController']['destroy'](),this['_pendingAction']&&this['_removePendingAction']();}['_setPendingAction'](){const _0x37c77f=c(this['_editor']['locale'],'PENDING_ACTION_SUGGESTION');this['_pendingAction']=this['_editor']['plugins']['get']('PendingActions')['add'](_0x37c77f);}['_removePendingAction'](){null!==this['_pendingAction']&&this['_editor']['plugins']['get']('PendingActions')['remove'](this['_pendingAction']),this['_pendingAction']=null;}}class us extends _0x1a32e9{['commentsListView'];['commentThreadInputView'];['ariaDescriptionView'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_localUser'];['_config'];constructor(_0x2d3b1c,_0x4f1080,_0x363fc5,_0x51b54c){super(_0x2d3b1c),this['commentsListView']=null,this['commentThreadInputView']=null,this['ariaDescriptionView']=new _0xa7e2d6(_0x2d3b1c,c(_0x2d3b1c,'SUGGESTION_THREAD_DESCRIPTION')),this['set']('isActive',!0x1),this['set']('authoredAt',_0x4f1080['authoredAt']),this['bind']('authoredAt')['to'](_0x4f1080),this['set']('descriptionParts',[]),this['set']('isDirty',!0x1),this['set']('isEnabled',!0x1),this['set']('canAccept',!0x1),this['set']('canDiscard',!0x1),this['bind']('ariaLabel')['to'](this,'length',_0x4f1080,'authoredAt',this,'descriptionParts',(_0x4d7bd9,_0x13f8d4,_0x2e04a3)=>{const _0x28afe0=_0x2e04a3['map'](_0x533370=>ls(_0x533370['content']))['join']('.\x20')+'.';return c(this['locale'],'SUGGESTION_THREAD_ARIA_LABEL',[_0x4d7bd9-0x1,_0x4f1080['author']['name'],_0x13f8d4?_0x51b54c['formatDateTime'](_0x13f8d4):'',new DOMParser()['parseFromString'](_0x28afe0,'text/html')['body']['textContent']]);}),this['focusables']=new _0x350714(),this['focusTracker']=new _0x42da76(),this['keystrokes']=new _0x3795a5(),this['focusCycler']=new _0x46bcaa({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'keystrokeHandlerOptions':{'filter':_0x41d930=>_0x41d930['target']!==this['element']},'actions':{'focusPrevious':'shift+tab','focusNext':'tab'}}),this['_model']=_0x4f1080,this['_localUser']=_0x363fc5,this['_config']=_0x51b54c,_0x51b54c['disableComments']?this['set']('length',0x1):this['_createCommentViews']();}['render'](){super['render'](),_0x4691ec(this,this['focusables']);}['focus'](){this['element']['focus']();}['destroy'](){this['commentsListView']&&this['commentsListView']['destroy'](),this['commentThreadInputView']&&this['commentThreadInputView']['destroy'](),super['destroy']();}['_createCommentViews'](){const {CommentsListView:_0x21a1b8}=this['_config'];this['commentsListView']=new _0x21a1b8(this['locale'],this['_model']['commentThread'],Object['assign']({'CommentView':this['_config']['CommentView']},this['_config'])),this['commentsListView']['delegate']('removeComment')['to'](this),this['commentsListView']['delegate']('updateComment')['to'](this),this['commentsListView']['bind']('isActive')['to'](this),this['set']('length',this['commentsListView']['length']+0x1),this['bind']('length')['to'](this['commentsListView'],'length',_0x29e33c=>_0x29e33c+0x1),this['commentThreadInputView']=this['_createCommentThreadInputView'](),this['on']('removeComment',()=>this['focus']()),this['bind']('isDirty')['to'](this['commentsListView'],'hasDirtyComment',this['commentThreadInputView']['commentInputView'],'value',(_0x2c77d3,_0x35346e)=>_0x2c77d3||!!_0x35346e);}['_createCommentThreadInputView'](){const {CommentThreadInputView:_0x1b9f9d}=this['_config'],_0x24618b=new _0x1b9f9d(this['locale'],this['_localUser'],this['_config']['editorConfig']),_0x3118d6=_0x24618b['commentInputView'];return _0x24618b['bind']('showInput')['to'](this,'isActive',this['_model']['commentThread'],'isReadOnly',_0x3118d6,'value',(_0x539b0c,_0x300399,_0x28cb7e)=>!!_0x28cb7e||_0x539b0c&&!_0x300399),_0x3118d6['on']('submit',(_0x8481c5,_0x238340)=>{this['fire']('addComment',_0x238340),_0x3118d6['editor']['setData']('');}),_0x3118d6['on']('cancel',()=>this['focus']()),_0x3118d6['bind']('disabledSubmit')['to'](this['_model']['commentThread'],'isReadOnly'),_0x24618b;}}class fe extends us{['suggestionView'];['_descriptionElement'];constructor(_0x232962,_0x1c009d,_0x569c42,_0x9c4086){super(_0x232962,_0x1c009d,_0x569c42,_0x9c4086),this['set']('type',''),this['bind']('type')['to'](this,'descriptionParts',_0x336406=>_0x336406&&_0x336406[0x0]?_0x336406[0x0]['type']:''),this['bind']('description')['to'](this,'descriptionParts',this,'isActive',(_0x3afbdc,_0x28e436)=>{let _0xc101d7='';for(const _0x59bc00 of _0x3afbdc)_0xc101d7+='<p>'+ls(_0x59bc00['content'],_0x59bc00['color'])+'</p>';return _0x28e436?_0xc101d7:ti(_0xc101d7,{'limit':0x8c});}),this['_descriptionElement']=null,this['suggestionView']=new _0x9c4086['SuggestionView'](_0x232962,_0x1c009d,{'formatDateTime':_0x9c4086['formatDateTime']}),this['suggestionView']['bind']('description')['to'](this),this['suggestionView']['delegate']('acceptSuggestion','discardSuggestion')['to'](this),this['suggestionView']['acceptButton']['bind']('isEnabled')['to'](this,'canAccept'),this['suggestionView']['discardButton']['bind']('isEnabled')['to'](this,'canDiscard'),this['focusables']['add'](this['suggestionView']),this['commentsListView']&&this['focusables']['add'](this['commentsListView']),this['commentThreadInputView']&&this['focusables']['add'](this['commentThreadInputView']),this['setTemplate'](this['getTemplate']());}['getTemplate'](){const _0x5e1ee7=this['bindTemplate'],_0x3b71d1=[this['suggestionView']];return this['commentsListView']&&_0x3b71d1['push'](this['commentsListView']),this['commentThreadInputView']&&_0x3b71d1['push'](this['commentThreadInputView']),_0x3b71d1['push'](this['ariaDescriptionView']),{'tag':'div','attributes':{'class':['ck','ck-rounded-corners','ck-suggestion-wrapper',_0x5e1ee7['if']('isActive','ck-suggestion-wrapper--active'),_0x5e1ee7['to']('type',_0x5457a=>'ck-suggestion-'+_0x5457a),this['_config']['disableComments']&&'ck-suggestion--disabled-comments'],'data-suggestion-id':this['_model']['id'],'data-thread-id':this['_model']['commentThread']['id'],'data-author-id':this['_model']['author']['id'],'tabindex':0x0,'role':'listitem','aria-label':_0x5e1ee7['to']('ariaLabel'),'aria-describedby':this['ariaDescriptionView']['id']},'children':_0x3b71d1};}['render'](){super['render'](),this['commentsListView']&&(this['commentsListView']['delegate']('editorReady')['to'](this),this['commentsListView']['delegate']('editorDestroyed')['to'](this)),this['commentThreadInputView']&&(this['commentThreadInputView']['delegate']('editorReady')['to'](this),this['commentThreadInputView']['delegate']('editorDestroyed')['to'](this));}}class we extends _0x1a32e9{['userView'];['acceptButton'];['discardButton'];['focusables'];['focusTracker'];['keystrokes'];['focusCycler'];['_model'];['_config'];constructor(_0x13c324,_0x6beb5d,_0xd616fd){super(_0x13c324),this['_model']=_0x6beb5d,this['_config']=_0xd616fd,this['set']('description',''),this['bind']('authoredAt')['to'](_0x6beb5d),this['acceptButton']=this['_createButton'](c(_0x13c324,'Accept\x20suggestion'),_0xcf3c42,'ck-suggestion--accept','acceptSuggestion','sw'),this['discardButton']=this['_createButton'](c(_0x13c324,'Discard\x20suggestion'),_0x5a37ba,'ck-suggestion--discard','discardSuggestion','sw'),this['userView']=new _0x502fb1(_0x13c324,_0x6beb5d['author'],this['getUserViewNotificationText']()),this['userView']['extendTemplate']({'attributes':{'class':['ck-suggestion__user','ck-annotation__user'],'aria-hidden':!0x0}}),this['focusables']=new _0x350714([this['acceptButton'],this['discardButton']]),this['focusTracker']=new _0x42da76(),this['keystrokes']=new _0x3795a5(),this['focusCycler']=new _0x46bcaa({'focusables':this['focusables'],'focusTracker':this['focusTracker'],'keystrokeHandler':this['keystrokes'],'actions':{'focusPrevious':'shift+tab','focusNext':'tab'},'keystrokeHandlerOptions':{'filter':_0x182a96=>_0x182a96['target']!==this['element']}}),this['setTemplate'](this['getTemplate']());}['render'](){super['render']();const _0x22524f=this['element']['querySelector']('.ck-annotation__content-wrapper');_0x22524f['innerHTML']=this['description'],this['on']('change:description',(_0x156d05,_0x447397,_0x1ef7b5)=>{_0x22524f['innerHTML']=_0x1ef7b5;}),this['_setupKeyboardNavigation']();}['getTemplate'](){const _0x5e0fc2=this['bindTemplate'],_0xc0904c=[{'tag':'div','attributes':{'class':['ck-suggestion__info','ck-annotation__info']},'children':[{'tag':'span','children':[{'text':this['userView']['name']}],'attributes':{'class':['ck-suggestion__info-name','ck-annotation__info-name'],'data-cke-tooltip-text':this['userView']['name']}},{'tag':'time','attributes':{'datetime':_0x5e0fc2['to']('authoredAt'),'class':['ck-comment__info-time','ck-annotation__info-time']},'children':[{'text':_0x5e0fc2['to']('authoredAt',_0x44c5a6=>this['_config']['formatDateTime'](_0x44c5a6))}]}]},{'tag':'div','attributes':{'class':['ck-suggestion__actions','ck-annotation__actions']},'children':[this['acceptButton'],this['discardButton']]},{'tag':'div','attributes':{'class':['ck-annotation__content-wrapper']}}];return this['_model']['isExternal']&&_0xc0904c['push']({'tag':'div','attributes':{'class':['ck-comment__external']},'children':[{'text':this['getExternalSuggestionNote']()}]}),{'tag':'div','attributes':{'class':['ck-suggestion','ck-annotation'],'tabindex':-0x1},'children':[this['userView'],{'tag':'div','attributes':{'class':['ck-suggestion__main','ck-annotation__main'],'role':'presentation'},'children':_0xc0904c}]};}['focus'](){this['element']['focus']();}['getUserViewNotificationText'](){return this['_model']['isExternal']?'importWord'===this['_model']['attributes']['@external']['source']?c(this['locale'],'EXTERNAL_IMPORT_WORD_AVATAR',this['_model']['creator']['name']):c(this['locale'],'EXTERNAL_AVATAR',this['_model']['creator']['name']):null;}['getExternalSuggestionNote'](){return'importWord'===this['_model']['attributes']['@external']['source']?c(this['locale'],'EXTERNAL_IMPORT_WORD_SUGGESTION'):c(this['locale'],'EXTERNAL_SUGGESTION');}['_createButton'](_0x1f0eb8,_0x638b1f,_0x39bef0,_0x33b2ee,_0x18165c){const _0x1b6d45=new _0x26e116(this['locale']);return _0x1b6d45['set']({'label':_0x1f0eb8,'icon':_0x638b1f,'tooltip':!0x0,'tooltipPosition':_0x18165c}),_0x1b6d45['extendTemplate']({'attributes':{'class':_0x39bef0}}),_0x1b6d45['on']('execute',()=>{this['fire'](_0x33b2ee,this['_model']['id']);}),_0x1b6d45;}['_setupKeyboardNavigation'](){const _0x5a9a80=this['element'];this['keystrokes']['listenTo'](_0x5a9a80);for(const _0x5311ab of this['focusables'])this['focusTracker']['add'](_0x5311ab['element']),this['keystrokes']['listenTo'](_0x5311ab['element']);this['keystrokes']['set']('enter',(_0x5a69b3,_0x3c1341)=>{_0x5a9a80===_0x5a69b3['target']&&(this['focusCycler']['focusFirst'](),_0x3c1341());}),this['keystrokes']['set']('esc',(_0x3eea85,_0x24d3f6)=>{_0x5a9a80!==_0x3eea85['target']&&(this['focus'](),_0x24d3f6());});}}class d extends _0x2e402e{['licenseKey'];['_licenseKeyCheckInterval'];['_suggestionToController'];['_viewToController'];['_annotationViews'];['_handleControllerBuffer'];['_disableComments'];static get['requires'](){return[p,_0x370d6e,'CommentsRepository','Annotations','EditorAnnotations'];}static get['pluginName'](){return'TrackChangesUI';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x501fc){super(_0x501fc),this['_suggestionToController']=new Map(),this['_viewToController']=new Map(),this['_annotationViews']=new Map(),this['_handleControllerBuffer']=new Map();const _0x4339d8=this['editor']['config'];_0x4339d8['define']('trackChanges.SuggestionThreadView',fe),_0x4339d8['define']('trackChanges.SuggestionView',we),_0x4339d8['define']('trackChanges.disableComments',!0x1),this['_disableComments']=_0x4339d8['get']('trackChanges.disableComments');}['_handleSuggestionControllerDelayed'](_0x6056ae,_0x98ac6f){0x0===this['_handleControllerBuffer']['size']&&setTimeout(()=>{for(const [_0x435ff8,_0x47c364]of this['_handleControllerBuffer']){const _0x47559b=this['_suggestionToController']['has'](_0x435ff8);_0x47559b||_0x47c364?_0x47559b&&_0x47c364&&this['_destroyController'](_0x435ff8):this['_initializeController'](_0x435ff8);}this['_handleControllerBuffer']['clear'](),this['editor']['plugins']['get']('EditorAnnotations')['refreshSelectedViews'](),this['_refreshActiveMarkers']();},0xa),this['_handleControllerBuffer']['set'](_0x6056ae,_0x98ac6f);}['init'](){const _0x31aade=this['editor'],_0x39f7d3=_0x31aade['plugins']['get']('TrackChangesEditing'),_0x5e106c=_0x31aade['plugins']['get']('Annotations'),_0x45d99c=_0x31aade['plugins']['get']('EditorAnnotations'),_0x4014a2=_0x31aade['plugins']['get']('CommentsRepository');this['_addUIComponentsToFactory'](),_0x45d99c['addSourceCollector'](()=>{const _0xe48d0a=[];for(const [_0x3582bb,_0x1ac26e]of Array['from'](this['_suggestionToController'])){const _0x90d95c=_0x3582bb['getAllAdjacentSuggestions'](),_0x597c3c=[];for(const _0x12eb59 of _0x90d95c){if(!_0x12eb59['isInContent'])continue;if(_0x12eb59['isMultiRange']){_0x597c3c['push'](..._0x12eb59['getRanges']());continue;}const _0xdeeb66=_0x12eb59['getFirstRange']();if(_0x597c3c['length']>0x0){const _0x56659f=_0x597c3c[0x0]['getJoined'](_0xdeeb66);if(_0x56659f){_0x597c3c[0x0]=_0x56659f;continue;}}_0x597c3c['push'](_0xdeeb66);}_0xe48d0a['push']([_0x1ac26e['view'],_0x597c3c]);}return _0xe48d0a;}),this['listenTo'](_0x39f7d3,'suggestionLoaded',(_0x39569f,_0x32b5f8)=>{this['listenTo'](_0x32b5f8,'change:previous',(_0xca118d,_0x5b327e,_0x5e76aa,_0xbad53f)=>{_0x32b5f8['isInContent']&&(null==_0x5e76aa?(this['_updateController'](_0xbad53f['head']),this['_handleSuggestionControllerDelayed'](_0x32b5f8,!0x1)):(this['_updateController'](_0x5e76aa['head']),null==_0xbad53f&&this['_handleSuggestionControllerDelayed'](_0x32b5f8,!0x0)));}),null!==_0x32b5f8['previous']?this['_updateController'](_0x32b5f8['head']):this['_handleSuggestionControllerDelayed'](_0x32b5f8,!0x1);}),this['listenTo'](_0x39f7d3,'suggestionUnloaded',(_0xf3dfab,_0x2bd033,_0x69338a)=>{this['stopListening'](_0x2bd033,'change:previous'),this['_handleControllerBuffer']['delete'](_0x2bd033),this['_suggestionToController']['has'](_0x2bd033)&&this['_destroyController'](_0x2bd033),_0x69338a&&this['_updateController'](_0x69338a['head']);}),this['listenTo'](_0x39f7d3,'suggestionChanged',(_0x3cfee9,_0x3dab42)=>{this['_updateController'](_0x3dab42);}),this['listenTo'](_0x5e106c,'change:activeAnnotations',()=>{this['_refreshActiveMarkers']();}),this['listenTo'](_0x4014a2,'addComment',(_0x29007f,{threadId:_0x263004,isFromAdapter:_0x2ea640})=>{if(_0x2ea640||!_0x39f7d3['hasSuggestion'](_0x263004))return;const _0x1b0928=_0x39f7d3['getSuggestion'](_0x263004);this['_suggestionToController']['get'](_0x1b0928)['view']['commentsListView']['focus'](-0x1);},{'priority':'lowest'}),this['licenseKey']=this['editor']['config']['get']('licenseKey');const _0x12e3e7=this['editor'];this['_licenseKeyCheckInterval']=setInterval(()=>{let _0x332f43;for(const _0x2aec53 in _0x12e3e7){const _0x25ed95=_0x2aec53,_0x2bf6b2=_0x12e3e7[_0x25ed95];if('trackChangesLicenseKeyValid'==_0x2bf6b2||'trackChangesLicenseKeyInvalid'==_0x2bf6b2||'trackChangesLicenseKeyExpired'==_0x2bf6b2||'trackChangesLicenseKeyDomainLimit'==_0x2bf6b2||'trackChangesLicenseKeyNotAllowed'==_0x2bf6b2||'trackChangesLicenseKeyEvaluationLimit'==_0x2bf6b2||'trackChangesLicenseKeyTrialLimit'==_0x2bf6b2||'trackChangesLicenseKeyUsageLimit'==_0x2bf6b2){delete _0x12e3e7[_0x25ed95],_0x332f43=_0x2bf6b2,clearInterval(this['_licenseKeyCheckInterval']),this['_licenseKeyCheckInterval']=void 0x0;break;}}'trackChangesLicenseKeyInvalid'==_0x332f43&&_0x12e3e7['_showLicenseError']('invalid'),'trackChangesLicenseKeyExpired'==_0x332f43&&_0x12e3e7['_showLicenseError']('expired'),'trackChangesLicenseKeyDomainLimit'==_0x332f43&&_0x12e3e7['_showLicenseError']('domainLimit'),'trackChangesLicenseKeyNotAllowed'==_0x332f43&&_0x12e3e7['_showLicenseError']('featureNotAllowed','TrackChanges'),'trackChangesLicenseKeyEvaluationLimit'==_0x332f43&&_0x12e3e7['_showLicenseError']('evaluationLimit'),'trackChangesLicenseKeyTrialLimit'==_0x332f43&&_0x12e3e7['_showLicenseError']('trialLimit'),'trackChangesLicenseKeyUsageLimit'==_0x332f43&&_0x12e3e7['_showLicenseError']('usageLimit');},0x3e8);}['_refreshActiveMarkers'](){const _0x3ce6a7=this['editor']['plugins']['get']('Annotations'),_0x2e590a=this['editor']['plugins']['get']('TrackChangesEditing'),_0x5ec3cf=Array['from'](_0x3ce6a7['activeAnnotations'],_0xcf8d4f=>_0xcf8d4f['innerView'])['filter'](_0x1df0db=>this['_viewToController']['has'](_0x1df0db)),_0x1b49fe=[];for(const _0x4d727c of _0x5ec3cf){const _0xfff3b5=this['_viewToController']['get'](_0x4d727c)['model']['getAllAdjacentSuggestions']();_0x1b49fe['push'](..._0xfff3b5['reduce']((_0x100e87,_0x2de2a7)=>[..._0x100e87,..._0x2de2a7['getMarkerNames']()],[]));}_0x2e590a['activeMarkers']=_0x1b49fe;}['_addUIComponentsToFactory'](){const _0x65d4c5=this['editor'],_0x2e32b8=_0x65d4c5['locale'],_0x19fcba=c(_0x2e32b8,'Track\x20changes'),_0x2da4fc=new _0x175d96([{'type':'switchbutton','model':new _0x117175({'withText':!0x0,'isToggleable':!0x0,'label':_0x19fcba,'commandName':'trackChanges','role':'menuitemcheckbox'})},{'type':'separator'},{'type':'button','model':new _0x117175({'withText':!0x0,'label':c(_0x2e32b8,'Accept\x20all\x20suggestions'),'commandName':'acceptAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x117175({'withText':!0x0,'label':c(_0x2e32b8,'Accept\x20all\x20selected\x20suggestions'),'commandName':'acceptSelectedSuggestions','role':'menuitem'})},{'type':'button','model':new _0x117175({'withText':!0x0,'label':c(_0x2e32b8,'Discard\x20all\x20suggestions'),'commandName':'discardAllSuggestions','role':'menuitem'})},{'type':'button','model':new _0x117175({'withText':!0x0,'label':c(_0x2e32b8,'Discard\x20all\x20selected\x20suggestions'),'commandName':'discardSelectedSuggestions','role':'menuitem'})}]);_0x65d4c5['plugins']['has']('TrackChangesPreview')&&_0x2da4fc['addMany']([{'type':'separator'},{'type':'button','model':new _0x117175({'withText':!0x0,'label':c(_0x2e32b8,'Preview\x20final\x20content'),'commandName':'previewFinalContent','role':'menuitem'})}]);for(const _0x486bde of _0x2da4fc)if(ke(_0x486bde)){const _0x388806=_0x65d4c5['commands']['get'](_0x486bde['model']['commandName']);_0x486bde['model']['bind']('isOn','isEnabled')['to'](_0x388806,'value','isEnabled');}_0x65d4c5['ui']['componentFactory']['add']('trackChanges',_0xb22e87=>this['_createToolbarButton'](_0xb22e87,_0x2da4fc,_0x19fcba)),_0x65d4c5['ui']['componentFactory']['add']('menuBar:trackChanges',_0xdf1d2b=>this['_createMenuBarMenu'](_0xdf1d2b,_0x2da4fc,_0x19fcba));}['_createToolbarButton'](_0x57e6f6,_0x1ea7da,_0x560171){const _0x3a4964=_0x3f8089(_0x57e6f6,_0xe483bf),_0x461cd1=this['editor']['commands']['get']('trackChanges');_0x3a4964['buttonView']['set']({'tooltip':_0x560171,'label':_0x560171,'icon':_0x4b8ee1}),_0x3a4964['buttonView']['bind']('isOn')['to'](_0x461cd1,'value'),_0x3a4964['buttonView']['on']('execute',()=>{_0x461cd1['execute'](),this['editor']['editing']['view']['focus']();}),_0x38edf8(_0x3a4964,_0x1ea7da,{'role':'menu'});const _0x26e80f=[];for(const _0x59f626 of _0x1ea7da)ke(_0x59f626)&&_0x26e80f['push'](this['editor']['commands']['get'](_0x59f626['model']['commandName']));const _0x2af320=_0x3a4964['buttonView'];return _0x2af320['actionView']['unbind']('isEnabled'),_0x2af320['arrowView']['unbind']('isEnabled'),_0x2af320['actionView']['bind']('isEnabled')['to'](_0x461cd1,'isEnabled'),_0x2af320['arrowView']['bind']('isEnabled')['toMany'](_0x26e80f,'isEnabled',(..._0x46b7c4)=>_0x46b7c4['some'](_0xfd0978=>_0xfd0978)),_0x3a4964['on']('execute',_0x8659ba=>{this['editor']['execute'](_0x8659ba['source']['commandName']),this['editor']['editing']['view']['focus']();}),_0x3a4964;}['_createMenuBarMenu'](_0x9207ce,_0x54bae6,_0x121cfc){const _0x60c03=new _0x2f2f68(_0x9207ce),_0x53b86d=this['editor']['commands']['get']('trackChanges');_0x60c03['buttonView']['set']({'label':_0x121cfc,'icon':_0x4b8ee1});const _0x40b1e6=new _0x248a9a(_0x9207ce);for(const _0x41d0d3 of _0x54bae6){if('separator'==_0x41d0d3['type']){_0x40b1e6['items']['add'](new _0x324f0a(_0x9207ce));continue;}const _0x504815=new _0x17a348(_0x9207ce,_0x60c03),_0x23cd6e=new _0x450363(_0x9207ce),_0x3615db=_0x41d0d3['model'];_0x23cd6e['bind'](...Object['keys'](_0x3615db))['to'](_0x3615db),_0x23cd6e['delegate']('execute')['to'](_0x60c03),_0x23cd6e['on']('execute',()=>{this['editor']['execute'](_0x3615db['commandName']),this['editor']['editing']['view']['focus']();}),_0x504815['children']['add'](_0x23cd6e),_0x40b1e6['items']['add'](_0x504815);}return _0x60c03['bind']('isEnabled')['to'](_0x53b86d,'isEnabled'),_0x60c03['panelView']['children']['add'](_0x40b1e6),_0x60c03;}['_initializeController'](_0x55ad58){const _0x22ac4f=this['editor'],_0x49f0ea=_0x22ac4f['config'],_0x14abec=_0x22ac4f['plugins']['get']('Annotations'),_0x5dee52=_0x22ac4f['plugins']['get']('CommentsRepository'),_0x3188bc=_0x22ac4f['plugins']['get']('EditorAnnotations'),_0x477cc8=_0x22ac4f['plugins']['get'](_0x370d6e)['me'],_0x5cfa2b=_0x49f0ea['get']('trackChanges')['SuggestionThreadView'],_0x449713=_0x49f0ea['get']('trackChanges')['SuggestionView'],{CommentsListView:_0x21cddc,CommentThreadInputView:_0x151726}=_0x22ac4f['plugins']['get']('CommentsUI');let _0x4141bf,_0x21c8cf,_0x605ea5;this['_annotationViews']['has'](_0x55ad58['id'])?(_0x21c8cf=this['_annotationViews']['get'](_0x55ad58['id']),_0x4141bf=_0x21c8cf['mainView']):(_0x4141bf=new _0x5cfa2b(_0x22ac4f['locale'],_0x55ad58,_0x477cc8,{'disableComments':this['_disableComments'],'editorConfig':{..._0x49f0ea['get']('comments.editorConfig'),'licenseKey':_0x49f0ea['get']('licenseKey')},'maxCommentsWhenCollapsed':_0x49f0ea['get']('comments.maxCommentsWhenCollapsed'),'maxThreadTotalWeight':_0x49f0ea['get']('comments.maxThreadTotalWeight'),'maxCommentCharsWhenCollapsed':_0x49f0ea['get']('comments.maxCommentCharsWhenCollapsed'),'formatDateTime':_0x363307(_0x49f0ea['get']('locale'),_0x22ac4f['locale']),'CommentView':_0x49f0ea['get']('comments')['CommentView'],'CommentsListView':_0x21cddc,'CommentThreadInputView':_0x151726,'SuggestionView':_0x449713}),_0x4141bf['suggestionView']['acceptButton']['on']('execute',()=>{_0x22ac4f['editing']['view']['focus']();}),_0x4141bf['suggestionView']['discardButton']['on']('execute',()=>{_0x22ac4f['editing']['view']['focus']();}),_0x21c8cf=_0x14abec['createAnnotationView'](this['editor']['locale'],_0x4141bf),_0x21c8cf['bind']('isDirty')['to'](_0x4141bf,'isDirty'),_0x21c8cf['bind']('length')['to'](_0x4141bf),_0x21c8cf['bind']('type')['to'](_0x4141bf,'type',_0x5dca12=>'suggestion-'+_0x5dca12),_0x4141bf['on']('escape',()=>{_0x605ea5['fire']('escape');}),this['_annotationViews']['set'](_0x55ad58['id'],_0x21c8cf));const _0x3fca00=_0x5dee52['createCommentThreadController'](_0x55ad58['commentThread'],_0x4141bf),_0x3cdec9=new pe(_0x22ac4f,_0x55ad58,_0x4141bf,_0x3fca00),_0xc4ac95=_0x55ad58['getAllAdjacentSuggestions']()['filter'](_0x2dbf87=>_0x2dbf87['isInContent']);_0x4141bf['descriptionParts']=_0x22ac4f['plugins']['get']('TrackChangesEditing')['descriptionFactory']['getDescriptions'](_0xc4ac95),this['_suggestionToController']['set'](_0x55ad58,_0x3cdec9),this['_viewToController']['set'](_0x4141bf,_0x3cdec9),_0x605ea5=_0x14abec['createAnnotation']({'view':_0x21c8cf,'target':()=>{const _0x55c495=[],_0x546ac1=_0x55ad58['getAllAdjacentSuggestions']()['filter'](_0x3c4c54=>_0x3c4c54['isInContent']);for(const _0xb01b7e of _0x546ac1)_0x55c495['push'](..._0xb01b7e['getMarkers']());return _0x3866ae(_0x22ac4f['editing'],_0x55c495);},'type':()=>'suggestion-'+_0x3cdec9['view']['type']}),_0x5dee52['_bindAnnotationToEditors'](_0x4141bf,_0x605ea5),_0x14abec['add'](_0x605ea5),_0x3188bc['registerAnnotation'](_0x605ea5);}['_destroyController'](_0x56bf3a){const _0x42ba21=this['editor']['plugins']['get']('CommentsRepository'),_0x298a64=this['editor']['plugins']['get']('Annotations'),_0x59c0d9=this['_suggestionToController']['get'](_0x56bf3a),_0xba2b31=_0x59c0d9['view'],_0x9a50bd=_0x298a64['getByInnerView'](_0xba2b31);_0x42ba21['_unbindEditors'](_0xba2b31),_0x9a50bd&&_0x298a64['remove'](_0x9a50bd),this['_suggestionToController']['delete'](_0x56bf3a),this['_viewToController']['delete'](_0xba2b31),_0x59c0d9['destroy']();}['_updateController'](_0x4f3ddf){if(!_0x4f3ddf['isInContent']||!this['_suggestionToController']['has'](_0x4f3ddf))return;const _0x55a483=this['editor']['plugins']['get']('TrackChangesEditing'),_0x313f75=this['_suggestionToController']['get'](_0x4f3ddf),_0x56328e=_0x4f3ddf['getAllAdjacentSuggestions']();_0x313f75['view']['descriptionParts']=_0x55a483['descriptionFactory']['getDescriptions'](_0x56328e);}['destroy'](){for(const _0x3aa9f9 of this['_suggestionToController']['keys']())this['_destroyController'](_0x3aa9f9);for(const _0x1e4b00 of this['_annotationViews']['values']())_0x1e4b00['mainView']['destroy']();super['destroy'](),this['_licenseKeyCheckInterval']&&clearInterval(this['_licenseKeyCheckInterval']);}}function ke(_0x29a164){return'model'in _0x29a164;}class k extends _0x2e402e{static get['requires'](){return[p,d,'Comments'];}static get['pluginName'](){return'TrackChanges';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}set['adapter'](_0x28ca75){this['editor']['plugins']['get'](p)['adapter']=_0x28ca75;}get['adapter'](){return this['editor']['plugins']['get'](p)['adapter'];}['addSuggestion'](_0x37740e){return this['editor']['plugins']['get'](p)['addSuggestionData'](_0x37740e);}['getSuggestions']({skipNotAttached:_0x1218e7=!0x1,toJSON:_0x9b15e6=!0x1}={}){return this['editor']['plugins']['get'](p)['getSuggestions']({'skipNotAttached':_0x1218e7,'toJSON':_0x9b15e6});}['getSuggestion'](_0x400212){return this['editor']['plugins']['get'](p)['getSuggestion'](_0x400212);}}const w=['Pagination'];class T extends _0x2e402e{static get['requires'](){return[p];}static get['pluginName'](){return'TrackChangesData';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}['init'](){const _0x22d0d4=this['editor'];if(_0x22d0d4['config']['define']('trackChangesData.editorCreator',_0xa7ac96=>{const _0x32f98a=_0x22d0d4['model']['document']['getRootNames']()['reduce']((_0x44b85f,_0x2fb30d)=>(_0x44b85f[_0x2fb30d]='',_0x44b85f),{});return _0x22d0d4['constructor']['create'](_0x32f98a,_0xa7ac96);}),'function'!=typeof _0x22d0d4['config']['get']('trackChangesData')['editorCreator'])throw new _0x154abc('track-changes-data-invalid-editor-creator');}['getDataWithAcceptedSuggestions'](_0xb90cc3){return N(this['editor'],!0x0,_0xb90cc3);}['getDataWithDiscardedSuggestions'](_0x54aa05){return N(this['editor'],!0x1,_0x54aa05);}}class D extends _0x2e402e{['result'];static get['pluginName'](){return'TrackChangesDataGetter';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x2619c5){function _0x5403da(_0x2f1651){return _0x2f1651['map'](_0x5e9cf2=>String['fromCharCode'](_0x5e9cf2))['join']('');}super(_0x2619c5),this['result']='end',_0x2619c5[_0x5403da([0x65,0x64,0x69,0x74,0x69,0x6e,0x67])][_0x5403da([0x76,0x69,0x65,0x77])][_0x5403da([0x5f,0x6f,0x76,0x65,0x72,0x6c,0x61,0x79,0x4d,0x6f,0x64,0x65,0x48,0x69,0x6e,0x74])]=_0x5403da([0x61,0x75,0x74,0x6f]),_0x2619c5[_0x5403da([0x5f,0x73,0x65,0x6e,0x64,0x55,0x73,0x61,0x67,0x65,0x52,0x65,0x71,0x75,0x65,0x73,0x74])]=()=>window[_0x5403da([0x50,0x72,0x6f,0x6d,0x69,0x73,0x65])][_0x5403da([0x72,0x65,0x73,0x6f,0x6c,0x76,0x65])]({[_0x5403da([0x73,0x74,0x61,0x74,0x75,0x73])]:_0x5403da([0x6f,0x6b])});}['init'](){this['editor']['plugins']['get']('CommentsRepository')['_adapter']={'addCommentThread':()=>new Promise(()=>{}),'getCommentThread':()=>new Promise(()=>{}),'updateCommentThread':()=>new Promise(()=>{}),'resolveCommentThread':()=>new Promise(()=>{}),'reopenCommentThread':()=>new Promise(()=>{}),'removeCommentThread':()=>new Promise(()=>{}),'addComment':()=>new Promise(()=>{}),'updateComment':()=>new Promise(()=>{}),'removeComment':()=>new Promise(()=>{})},this['editor']['plugins']['get']('TrackChangesEditing')['_adapter']=null;}}function Ge(_0x11e4b4){return void 0x0!==_0x11e4b4['getRootsAttributes'];}async function N(_0x3ef918,_0x1e74e5,_0x5548f1){const _0xf4f608=_0x537397(_0x3ef918,w);_0xf4f608['plugins']['push'](p,D),_0xf4f608['rootsAttributes']=Ge(_0x3ef918)?_0x3ef918['getRootsAttributes']():void 0x0;const _0x43ea58=document['createDocumentFragment'](),_0x423568=_0x3ef918['config']['get']('trackChangesData')['editorCreator'],_0x142b37=await _0x423568(_0xf4f608,()=>function(_0x468af6){const _0x326d2a=document['createElement']('div');return _0x468af6['appendChild'](_0x326d2a),_0x326d2a;}(_0x43ea58));!function(_0x4f1b40,_0x5685e5){const _0x58faf3=_0x4f1b40['model']['document']['getRootNames']()['reduce']((_0x5cac1f,_0x14c017)=>(_0x5cac1f[_0x14c017]=_0x4f1b40['data']['get']({'rootName':_0x14c017}),_0x5cac1f),{}),_0x56bee5=_0x4f1b40['plugins']['get']('Users')['users']['map'](_0x374399=>({'id':_0x374399['id'],'name':_0x374399['name']})),_0x46e5b8=_0x4f1b40['plugins']['get']('TrackChangesEditing')['getSuggestions']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x32d466=_0x4f1b40['plugins']['get']('CommentsRepository')['getCommentThreads']({'skipNotAttached':!0x0,'toJSON':!0x0}),_0x30ca1b=_0x5685e5['plugins']['get']('Users'),_0x349762=_0x5685e5['plugins']['get']('TrackChangesEditing'),_0x47f619=_0x5685e5['plugins']['get']('CommentsRepository');for(const _0x43f8ca of _0x47f619['getCommentThreads']())_0x43f8ca['remove']();for(const _0x2fca2c of _0x56bee5)_0x30ca1b['getUser'](_0x2fca2c['id'])||_0x30ca1b['addUser'](_0x2fca2c);_0x30ca1b['me']||_0x30ca1b['useAnonymousUser']();for(const _0x15c4bc of _0x32d466)_0x47f619['addCommentThread'](_0x15c4bc);for(const _0x3d6b36 of _0x46e5b8)_0x349762['addSuggestionData'](_0x3d6b36);_0x5685e5['data']['set'](_0x58faf3);}(_0x3ef918,_0x142b37),_0x142b37['execute'](_0x1e74e5?'acceptAllSuggestions':'discardAllSuggestions');const _0x2c41ff=Ge(_0x142b37)?_0x142b37['getFullData'](_0x5548f1):_0x142b37['data']['get'](_0x5548f1);return await _0x142b37['destroy'](),_0x2c41ff;}class Me extends _0x1a32e9{['options'];constructor(_0x2e9083,_0x4b8929){super(_0x2e9083),this['options']=_0x4b8929,this['setTemplate']({'tag':'div','attributes':{'class':['ck','ck-reset','ck-track-changes-preview'],'tabindex':-0x1}});}['render'](){super['render'](),this['element']['style']['width']=this['options']['dialogRects']['width']+'px',this['element']['style']['height']=this['options']['dialogRects']['height']+'px';}['setPreviewData'](_0x12605b,_0x535870){if(!this['element'])return;const _0x1b0b7c=[];for(const [_0x1490b8,_0x2e34f9]of _0x12605b){const _0x13331b=document['createElement']('div');_0x13331b['setAttribute']('data-ck-root-name',_0x1490b8),_0x13331b['className']=_0x2e34f9['classes']+'\x20ck-track-changes-preview__root-container',_0x13331b['innerHTML']=_0x2e34f9['content'],_0x1b0b7c['push'](_0x13331b);}_0x535870(this['element'],_0x1b0b7c),this['element']['style']['height']='',this['fire']('previewDataReady');}['focus'](){this['element']['focus']();}}class re extends _0x485279{constructor(_0x362052){super(_0x362052),this['affectsData']=!0x1,this['isEnabled']=!0x0;}['refresh'](){this['isEnabled']=!0x0;}['execute'](){const _0x177fac=this['editor'],_0x193c6f=_0x177fac['locale'],_0x5745ec=_0x177fac['plugins']['get']('Dialog');let _0x1f205b;const _0x43d8c9=function(_0x4ac1c){const _0x39037e={};if('editables'in _0x4ac1c['ui']['view']){for(const [_0x4d0f2c,_0x681176]of Object['entries'](_0x4ac1c['ui']['view']['editables']))_0x39037e[_0x4d0f2c]=_0x681176['element'];}else _0x39037e[_0x4ac1c['model']['document']['getRootNames']()[0x0]]=_0x4ac1c['ui']['view']['editable']['element'];return _0x39037e;}(_0x177fac),_0x17c397=function(_0x4082b9){let _0x21c99c=0x0;for(const _0x28d8e4 of Object['values'](_0x4082b9))_0x21c99c=Math['max'](_0x21c99c,_0x28d8e4['getBoundingClientRect']()['width']);let _0x1c81f0=0x0;for(const _0x37cd67 of Object['values'](_0x4082b9))_0x1c81f0+=_0x37cd67['getBoundingClientRect']()['height'];const _0x395131=0.8*Math['max'](document['documentElement']['clientHeight'],window['innerHeight']),_0x275bc4=Math['min'](_0x1c81f0,_0x395131);return{'width':_0x21c99c,'height':_0x275bc4};}(_0x43d8c9);_0x5745ec['show']({'id':'finalContentPreview','title':c(_0x193c6f,'Final\x20content\x20preview'),'isModal':!0x0,'className':'ck-track-changes-preview-dialog','content':new Me(_0x193c6f,{'dialogRects':_0x17c397}),'onHide':()=>{_0x1f205b['detachFromDom']();},'onShow':()=>{_0x177fac['plugins']['get']('TrackChangesData')['getDataWithAcceptedSuggestions']({...this['_getMergeFieldsData']()})['then'](_0x17ff08=>{const _0x9c617=this['_standarizeRootsData'](_0x17ff08,_0x177fac,_0x43d8c9);_0x5745ec['view']['contentView']['children']['get'](0x0)['setPreviewData'](_0x9c617,_0x177fac['config']['get']('trackChanges.preview.renderFunction'));}),_0x1f205b=new _0x3b21f6(_0x193c6f,[_0x5745ec['view']]),_0x1f205b['attachToDom'](),_0x1f205b['bodyCollectionContainer']['classList']['remove']('ck-reset_all'),_0x177fac['once']('destroy',()=>{_0x1f205b['detachFromDom']();});const _0x307a73=_0x5745ec['view']['headerView']['class'];_0x5745ec['view']['headerView']['class']=_0x307a73?_0x307a73+'\x20ck-reset_all':'ck-reset_all',_0x5745ec['view']['contentView']['children']['get'](0x0)['on']('previewDataReady',()=>{_0x5745ec['view']['updatePosition']();});}});}['_getMergeFieldsData'](){if(!this['editor']['plugins']['has']('MergeFieldsEditing'))return{};const _0x540ffc=this['editor']['plugins']['get']('MergeFieldsEditing'),_0x5e52da=_0x540ffc['previewMode'],_0x2459ed={};if('$labels'===_0x5e52da){for(const _0x19cb98 of _0x540ffc['getMergeFieldsIds']())_0x2459ed[_0x19cb98]=_0x540ffc['getLabel'](_0x19cb98)||_0x19cb98;}else{const _0x20f260='$defaultValues'===_0x5e52da?_0x540ffc['getDefaultValues']():_0x540ffc['getDataSetValues'](_0x5e52da,!0x0);for(const _0x556c89 of Object['entries'](_0x20f260)){const [_0x27952a,_0x23e0e2]=_0x556c89;_0x2459ed[_0x27952a]=null!==_0x23e0e2?_0x23e0e2:_0x540ffc['getLabel'](_0x27952a)||_0x27952a;}}return{'mergeFieldsData':_0x2459ed};}['_standarizeRootsData'](_0x34484d,_0xdd7d9,_0x3a051d){let _0x4dfa89;if('string'==typeof _0x34484d){const _0x228f50=_0xdd7d9['model']['document']['getRootNames']()[0x0];_0x4dfa89={[_0x228f50]:_0x34484d};}else _0x4dfa89=_0x34484d;const _0x3ca50f=this['_fixMediaEmbeds'](_0x4dfa89,_0xdd7d9),_0x1e004a=function(_0x1ccb85,_0xe6445d){for(const [_0x53e840,_0x2e161e]of _0x1ccb85)_0x2e161e['classes']=_0xe6445d[_0x53e840]['classList']['value']['replace']('ck-focused','');return _0x1ccb85;}(this['_sortRoots'](_0xdd7d9)['reduce']((_0x1a928d,_0x385001)=>(_0x1a928d['push']([_0x385001,{'content':_0x3ca50f[_0x385001],'classes':''}]),_0x1a928d),[]),_0x3a051d);return _0x1e004a;}['_fixMediaEmbeds'](_0x59899f,_0xb8c1d4){if(!_0xb8c1d4['plugins']['has']('MediaEmbedEditing'))return _0x59899f;const _0x58436e=_0xb8c1d4['plugins']['get']('MediaEmbedEditing');for(const [_0x15d842,_0x3dacf4]of Object['entries'](_0x59899f)){const _0x26b63c=document['createElement']('div');_0x26b63c['innerHTML']=_0x3dacf4,(_0x26b63c['querySelectorAll']('figure.media')['forEach'](_0xbae3e9=>{const _0x47eafe=_0xbae3e9['querySelector']('oembed');if(_0x47eafe){const _0x421a0a=_0x47eafe['getAttribute']('url');if(_0x421a0a){const _0x5bed6a=_0x58436e['registry']['getMediaViewElement'](new _0x530dcd(_0xb8c1d4['editing']['view']['document']),_0x421a0a,{'elementName':'','renderForEditingView':!0x0}),_0x257045=document['createElement']('div');_0x257045['classList']['add']('ck-media__wrapper'),_0x5bed6a['render'](_0x257045,_0xb8c1d4['editing']['view']['domConverter']),_0x47eafe['replaceWith'](_0x257045);}}}),_0x59899f[_0x15d842]=_0x26b63c['innerHTML']);}return _0x59899f;}['_sortRoots'](_0x2ca48e){if(!function(_0x44e0e9){return void 0x0!==_0x44e0e9['getRootsAttributes'];}(_0x2ca48e))return _0x2ca48e['model']['document']['getRootNames']();const _0x5e3987=[],_0x2f98c6=new Map();for(const _0x5469ea of _0x2ca48e['model']['document']['getRootNames']()){const _0x126443=_0x2ca48e['editing']['view']['getDomRoot'](_0x5469ea)['getClientRects']()['item'](0x0);_0x5e3987['push'](_0x5469ea),_0x2f98c6['set'](_0x5469ea,_0x126443);}return _0x5e3987['sort']((_0xb43735,_0x1239cf)=>{const _0x56d737=_0x2f98c6['get'](_0xb43735),_0x4048f6=_0x2f98c6['get'](_0x1239cf);return _0x56d737['y']-_0x4048f6['y']||_0x56d737['x']-_0x4048f6['x'];}),_0x5e3987;}}class te extends _0x2e402e{static get['requires'](){return[T,_0x8f1cc9];}static get['pluginName'](){return'TrackChangesPreview';}static get['isOfficialPlugin'](){return!0x0;}static get['isPremiumPlugin'](){return!0x0;}constructor(_0x459ca5){super(_0x459ca5),_0x459ca5['commands']['add']('previewFinalContent',new re(this['editor'])),_0x459ca5['config']['define']('trackChanges.preview.renderFunction',(_0x2687de,_0x54de5a)=>{for(const _0x50206e of _0x54de5a)_0x2687de['appendChild'](_0x50206e);});}}export{us as BaseSuggestionThreadView,o as Suggestion,fe as SuggestionThreadView,we as SuggestionView,k as TrackChanges,T as TrackChangesData,p as TrackChangesEditing,te as TrackChangesPreview};